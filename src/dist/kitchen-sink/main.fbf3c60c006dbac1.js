"use strict";(self.webpackChunkkitchen_sink=self.webpackChunkkitchen_sink||[]).push([[179],{2011:(Ye,be,k)=>{k.d(be,{Dh:()=>ue,GT:()=>se,cc:()=>Ie,hO:()=>Ne,on:()=>$,pX:()=>oe,xv:()=>ce});var u=k(4650),B=k(9260),P=k(2122);Ye=k.hmd(Ye);const ne=["ngOnDestroy"],oe=(ve,ye,Te,Me={})=>new Proxy(ve,{get:(Ae,we)=>Te.runOutsideAngular(()=>{var Fe;if(ve[we])return!(null===(Fe=Me?.spy)||void 0===Fe)&&Fe.get&&Me.spy.get(we,ve[we]),ve[we];if(ne.indexOf(we)>-1)return()=>{};const Q=ye.toPromise().then(ae=>{const ge=ae&&ae[we];return"function"==typeof ge?ge.bind(ae):ge&&ge.then?ge.then(Z=>Te.run(()=>Z)):Te.run(()=>ge)});return new Proxy(()=>{},{get:(ae,ge)=>Q[ge],apply:(ae,ge,Z)=>Q.then(q=>{var le;const re=q&&q(...Z);return!(null===(le=Me?.spy)||void 0===le)&&le.apply&&Me.spy.apply(we,Z,re),re})})})}),se=(ve,ye)=>{ye.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(Me=>{Object.defineProperty(ve.prototype,Me,Object.getOwnPropertyDescriptor(Te.prototype||Te,Me))})})};class he{constructor(ye){return ye}}const ue=new u.OlP("angularfire2.app.options"),ce=new u.OlP("angularfire2.app.name");function $(ve,ye,Te){const Ae="object"==typeof Te&&Te||{};Ae.name=Ae.name||"string"==typeof Te&&Te||"[DEFAULT]";const Fe=B.Z.apps.filter(Q=>Q&&Q.name===Ae.name)[0]||ye.runOutsideAngular(()=>B.Z.initializeApp(ve,Ae));try{JSON.stringify(ve)!==JSON.stringify(Fe.options)&&G("error",`${Fe.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Fe)}const G=(ve,...ye)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ve](...ye)},K={provide:he,useFactory:$,deps:[ue,u.R0b,[new u.FiY,ce]]};let Ne=(()=>{class ve{constructor(Te){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",u.q4F.full,Te.toString())}static initializeApp(Te,Me){return{ngModule:ve,providers:[{provide:ue,useValue:Te},{provide:ce,useValue:Me}]}}}return ve.\u0275fac=function(Te){return new(Te||ve)(u.LFG(u.Lbi))},ve.\u0275mod=u.oAB({type:ve}),ve.\u0275inj=u.cJS({providers:[K]}),ve})();function Ie(ve,ye,Te,Me,Ae){const[,we,Fe]=globalThis.\u0275AngularfireInstanceCache.find(Q=>Q[0]===ve)||[];if(we)return function Le(ve,ye){try{return ve.toString()===ye.toString()}catch{return ve===ye}}(Ae,Fe)||(de("error",`${ye} was already initialized on the ${Te} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Ae,was:Fe})),we;{const Q=Me();return globalThis.\u0275AngularfireInstanceCache.push([ve,Q,Ae]),Q}}const ze=!!Ye.hot,de=(ve,...ye)=>{(0,u.X6Q)()&&typeof console<"u"&&console[ve](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Ye,be,k)=>{k.d(be,{q4:()=>es,iC:()=>it,HU:()=>ld,vb:()=>Fa,JM:()=>Ur,u3:()=>Vu});var u=k(4650),B=k(259),P=k(5861),ne=k(9681),oe=k(2090),se=k(4859),he=k(1877),ue=k(8766);const ce="@firebase/installations",$="0.6.4",K=`w:${$}`,Ne="FIS_v2",ye=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(b){return b instanceof oe.ZR&&b.code.includes("request-failed")}function Me({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ae(b){return{token:b.token,requestStatus:2,expiresIn:q(b.expiresIn),creationTime:Date.now()}}function we(b,w){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,P.Z)(function*(b,w){const V=(yield w.json()).error;return ye.create("request-failed",{requestName:b,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Q({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function ae(b,{refreshToken:w}){const A=Q(b);return A.append("Authorization",function le(b){return`${Ne} ${b}`}(w)),A}function ge(b){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(b){const w=yield b();return w.status>=500&&w.status<600?b():w})).apply(this,arguments)}function q(b){return Number(b.replace("s","000"))}function re(b,w){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:w},{fid:A}){const V=Me(b),Y=Q(b),ie=w.getImmediate({optional:!0});if(ie){const Xe=yield ie.getHeartbeatsHeader();Xe&&Y.append("x-firebase-client",Xe)}const Ge={method:"POST",headers:Y,body:JSON.stringify({fid:A,authVersion:Ne,appId:b.appId,sdkVersion:K})},Ke=yield ge(()=>fetch(V,Ge));if(Ke.ok){const Xe=yield Ke.json();return{fid:Xe.fid||A,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:Ae(Xe.authToken)}}throw yield we("Create Installation",Ke)})).apply(this,arguments)}function Oe(b){return new Promise(w=>{setTimeout(w,b)})}const Bt=/^[cdef][\w-]{21}$/;function st(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const A=function wt(b){return function Je(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Bt.test(A)?A:""}catch{return""}}function ot(b){return`${b.appName}!${b.appId}`}const xt=new Map;function Nn(b,w){const A=ot(b);sr(A,w),function ii(b,w){const A=function sn(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=b=>{sr(b.data.key,b.data.fid)}),_n}();A&&A.postMessage({key:b,fid:w}),function oi(){0===xt.size&&_n&&(_n.close(),_n=null)}()}(A,w)}function sr(b,w){const A=xt.get(b);if(A)for(const V of A)V(w)}let _n=null;const yn="firebase-installations-store";let vr=null;function Sr(){return vr||(vr=(0,ue.X3)("firebase-installations-database",1,{upgrade:(b,w)=>{0===w&&b.createObjectStore(yn)}})),vr}function Wt(b,w){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(b,w){const A=ot(b),Y=(yield Sr()).transaction(yn,"readwrite"),ie=Y.objectStore(yn),Ce=yield ie.get(A);return yield ie.put(w,A),yield Y.done,(!Ce||Ce.fid!==w.fid)&&Nn(b,w.fid),w})).apply(this,arguments)}function je(b){return zn.apply(this,arguments)}function zn(){return(zn=(0,P.Z)(function*(b){const w=ot(b),V=(yield Sr()).transaction(yn,"readwrite");yield V.objectStore(yn).delete(w),yield V.done})).apply(this,arguments)}function Zn(b,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(b,w){const A=ot(b),Y=(yield Sr()).transaction(yn,"readwrite"),ie=Y.objectStore(yn),Ce=yield ie.get(A),Ge=w(Ce);return void 0===Ge?yield ie.delete(A):yield ie.put(Ge,A),yield Y.done,Ge&&(!Ce||Ce.fid!==Ge.fid)&&Nn(b,Ge.fid),Ge})).apply(this,arguments)}function vn(b){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(b){let w;const A=yield Zn(b.appConfig,V=>{const Y=dt(V),ie=Qe(b,Y);return w=ie.registrationPromise,ie.installationEntry});return""===A.fid?{installationEntry:yield w}:{installationEntry:A,registrationPromise:w}})).apply(this,arguments)}function dt(b){return xn(b||{fid:st(),registrationStatus:0})}function Qe(b,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(ye.create("app-offline"))};const A={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},V=function ht(b,w){return Zt.apply(this,arguments)}(b,A);return{installationEntry:A,registrationPromise:V}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:dn(b)}:{installationEntry:w}}function Zt(){return(Zt=(0,P.Z)(function*(b,w){try{const A=yield re(b,w);return Wt(b.appConfig,A)}catch(A){throw Te(A)&&409===A.customData.serverCode?yield je(b.appConfig):yield Wt(b.appConfig,{fid:w.fid,registrationStatus:0}),A}})).apply(this,arguments)}function dn(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(b){let w=yield Hn(b.appConfig);for(;1===w.registrationStatus;)yield Oe(100),w=yield Hn(b.appConfig);if(0===w.registrationStatus){const{installationEntry:A,registrationPromise:V}=yield vn(b);return V||A}return w})).apply(this,arguments)}function Hn(b){return Zn(b,w=>{if(!w)throw ye.create("installation-not-found");return xn(w)})}function xn(b){return function Mr(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function vt(b,w){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:w},A){const V=It(b,A),Y=ae(b,A),ie=w.getImmediate({optional:!0});if(ie){const Xe=yield ie.getHeartbeatsHeader();Xe&&Y.append("x-firebase-client",Xe)}const Ge={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:b.appId}})},Ke=yield ge(()=>fetch(V,Ge));if(Ke.ok)return Ae(yield Ke.json());throw yield we("Generate Auth Token",Ke)})).apply(this,arguments)}function It(b,{fid:w}){return`${Me(b)}/${w}/authTokens:generate`}function lr(b){return En.apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(b,w=!1){let A;const V=yield Zn(b.appConfig,ie=>{if(!Pt(ie))throw ye.create("not-registered");const Ce=ie.authToken;if(!w&&bn(Ce))return ie;if(1===Ce.requestStatus)return A=xe(b,w),ie;{if(!navigator.onLine)throw ye.create("app-offline");const Ge=H(ie);return A=rt(b,Ge),Ge}});return A?yield A:V.authToken})).apply(this,arguments)}function xe(b,w){return _e.apply(this,arguments)}function _e(){return(_e=(0,P.Z)(function*(b,w){let A=yield He(b.appConfig);for(;1===A.authToken.requestStatus;)yield Oe(100),A=yield He(b.appConfig);const V=A.authToken;return 0===V.requestStatus?lr(b,w):V})).apply(this,arguments)}function He(b){return Zn(b,w=>{if(!Pt(w))throw ye.create("not-registered");return function O(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function rt(b,w){return ut.apply(this,arguments)}function ut(){return(ut=(0,P.Z)(function*(b,w){try{const A=yield vt(b,w),V=Object.assign(Object.assign({},w),{authToken:A});return yield Wt(b.appConfig,V),A}catch(A){if(!Te(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const V=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Wt(b.appConfig,V)}else yield je(b.appConfig);throw A}})).apply(this,arguments)}function Pt(b){return void 0!==b&&2===b.registrationStatus}function bn(b){return 2===b.requestStatus&&!function j(b){const w=Date.now();return w<b.creationTime||b.creationTime+b.expiresIn<w+36e5}(b)}function H(b){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:w})}function R(){return(R=(0,P.Z)(function*(b){const w=b,{installationEntry:A,registrationPromise:V}=yield vn(w);return V?V.catch(console.error):lr(w).catch(console.error),A.fid})).apply(this,arguments)}function pe(){return(pe=(0,P.Z)(function*(b,w=!1){const A=b;return yield Be(A),(yield lr(A,w)).token})).apply(this,arguments)}function Be(b){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(b){const{registrationPromise:w}=yield vn(b);w&&(yield w)})).apply(this,arguments)}function al(b){return ye.create("missing-app-config-values",{valueName:b})}const ll="installations",Fo=b=>{const w=b.getProvider("app").getImmediate(),A=function ko(b){if(!b||!b.options)throw al("App Configuration");if(!b.name)throw al("App Name");const w=["projectId","apiKey","appId"];for(const A of w)if(!b.options[A])throw al(A);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(w);return{app:w,appConfig:A,heartbeatServiceProvider:(0,ne._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Eu=b=>{const w=b.getProvider("app").getImmediate(),A=(0,ne._getProvider)(w,ll).getImmediate();return{getId:()=>function N(b){return R.apply(this,arguments)}(A),getToken:Y=>function J(b){return pe.apply(this,arguments)}(A,Y)}};(function ul(){(0,ne._registerComponent)(new se.wA(ll,Fo,"PUBLIC")),(0,ne._registerComponent)(new se.wA("installations-internal",Eu,"PRIVATE"))})(),(0,ne.registerVersion)(ce,$),(0,ne.registerVersion)(ce,$,"esm2017");const ta="@firebase/remote-config",wn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ao{constructor(w,A,V,Y){this.client=w,this.storage=A,this.storageCache=V,this.logger=Y}isCachedDataFresh(w,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-A,Y=V<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${Y}.`),Y}fetch(w){var A=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(Y&&A.isCachedDataFresh(w.cacheMaxAgeMillis,V))return Y;w.eTag=Y&&Y.eTag;const ie=yield A.client.fetch(w),Ce=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ce.push(A.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ce),ie})()}}function Cr(b=navigator){return b.languages&&b.languages[0]||b.language}class Pr{constructor(w,A,V,Y,ie,Ce){this.firebaseInstallations=w,this.sdkVersion=A,this.namespace=V,this.projectId=Y,this.apiKey=ie,this.appId=Ce}fetch(w){var A=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},Ke={sdk_version:A.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:A.appId,language_code:Cr()},Xe={method:"POST",headers:Ge,body:JSON.stringify(Ke)},Dt=fetch(Ce,Xe),ft=new Promise((hr,ci)=>{w.signal.addEventListener(()=>{const nn=new Error("The operation was aborted.");nn.name="AbortError",ci(nn)})});let rr;try{yield Promise.race([Dt,ft]),rr=yield Dt}catch(hr){let ci="fetch-client-network";throw"AbortError"===hr?.name&&(ci="fetch-timeout"),wn.create(ci,{originalErrorMessage:hr?.message})}let pn=rr.status;const Br=rr.headers.get("ETag")||void 0;let Fs,Qt;if(200===rr.status){let hr;try{hr=yield rr.json()}catch(ci){throw wn.create("fetch-client-parse",{originalErrorMessage:ci?.message})}Fs=hr.entries,Qt=hr.state}if("INSTANCE_STATE_UNSPECIFIED"===Qt?pn=500:"NO_CHANGE"===Qt?pn=304:("NO_TEMPLATE"===Qt||"EMPTY_CONFIG"===Qt)&&(Fs={}),304!==pn&&200!==pn)throw wn.create("fetch-status",{httpStatus:pn});return{status:pn,eTag:Br,config:Fs}})()}}class gi{constructor(w,A){this.client=w,this.storage=A}fetch(w){var A=this;return(0,P.Z)(function*(){const V=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(w,V)})()}attemptFetch(w,{throttleEndTimeMillis:A,backoffCount:V}){var Y=this;return(0,P.Z)(function*(){yield function ur(b,w){return new Promise((A,V)=>{const Y=Math.max(w-Date.now(),0),ie=setTimeout(A,Y);b.addEventListener(()=>{clearTimeout(ie),V(wn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,A);try{const ie=yield Y.client.fetch(w);return yield Y.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function zt(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const w=Number(b.customData.httpStatus);return 429===w||500===w||503===w||504===w}(ie))throw ie;const Ce={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(Ce),Y.attemptFetch(w,Ce)}})()}}class sa{constructor(w,A,V,Y,ie){this.app=w,this._client=A,this._storageCache=V,this._storage=Y,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mi(b,w){const A=b.target.error||void 0;return wn.create(w,{originalErrorMessage:A&&A?.message})}const Or="app_namespace_store";class br{constructor(w,A,V,Y=function Er(){return new Promise((b,w)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=V=>{w(mi(V,"storage-open"))},A.onsuccess=V=>{b(V.target.result)},A.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(A){w(wn.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=w,this.appName=A,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var A=this;return(0,P.Z)(function*(){const V=yield A.openDbPromise;return new Promise((Y,ie)=>{const Ge=V.transaction([Or],"readonly").objectStore(Or),Ke=A.createCompositeKey(w);try{const Xe=Ge.get(Ke);Xe.onerror=Dt=>{ie(mi(Dt,"storage-get"))},Xe.onsuccess=Dt=>{const ft=Dt.target.result;Y(ft?ft.value:void 0)}}catch(Xe){ie(wn.create("storage-get",{originalErrorMessage:Xe?.message}))}})})()}set(w,A){var V=this;return(0,P.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((ie,Ce)=>{const Ke=Y.transaction([Or],"readwrite").objectStore(Or),Xe=V.createCompositeKey(w);try{const Dt=Ke.put({compositeKey:Xe,value:A});Dt.onerror=ft=>{Ce(mi(ft,"storage-set"))},Dt.onsuccess=()=>{ie()}}catch(Dt){Ce(wn.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(w){var A=this;return(0,P.Z)(function*(){const V=yield A.openDbPromise;return new Promise((Y,ie)=>{const Ge=V.transaction([Or],"readwrite").objectStore(Or),Ke=A.createCompositeKey(w);try{const Xe=Ge.delete(Ke);Xe.onerror=Dt=>{ie(mi(Dt,"storage-delete"))},Xe.onsuccess=()=>{Y()}}catch(Xe){ie(wn.create("storage-delete",{originalErrorMessage:Xe?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class _i{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,P.Z)(function*(){const A=w.storage.getLastFetchStatus(),V=w.storage.getLastSuccessfulFetchTimestampMillis(),Y=w.storage.getActiveConfig(),ie=yield A;ie&&(w.lastFetchStatus=ie);const Ce=yield V;Ce&&(w.lastSuccessfulFetchTimestampMillis=Ce);const Ge=yield Y;Ge&&(w.activeConfig=Ge)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function ph(){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function gs(){(0,ne._registerComponent)(new se.wA("remote-config",function b(w,{instanceIdentifier:A}){const V=w.getProvider("app").getImmediate(),Y=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wn.create("registration-window");if(!(0,oe.hl)())throw wn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ce,appId:Ge}=V.options;if(!ie)throw wn.create("registration-project-id");if(!Ce)throw wn.create("registration-api-key");if(!Ge)throw wn.create("registration-app-id");const Ke=new br(Ge,V.name,A=A||"firebase"),Xe=new _i(Ke),Dt=new he.Yd(ta);Dt.logLevel=he.in.ERROR;const ft=new Pr(Y,ne.SDK_VERSION,A,ie,Ce,Ge),rr=new gi(ft,Ke),pn=new ao(rr,Ke,Xe,Dt),Br=new sa(V,pn,Xe,Ke,Dt);return function qt(b){const w=(0,oe.m9)(b);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Br),Br},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(ta,"0.4.4"),(0,ne.registerVersion)(ta,"0.4.4","esm2017")}();const yi="/firebase-messaging-sw.js",Vo="/firebase-cloud-messaging-push-scope",Bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zc="google.c.a.c_id",mh="google.c.a.c_l",bu="google.c.a.ts",lo="google.c.a.e";var uo=(()=>{return(b=uo||(uo={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",uo;var b})();function Vi(b){const w=new Uint8Array(b);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wu(b){const A=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(A),Y=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)Y[ie]=V.charCodeAt(ie);return Y}const la="fcm_token_details_db",ua="fcm_token_object_Store";function Zc(b){return ca.apply(this,arguments)}function ca(){return ca=(0,P.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(la))return null;let w=null;return(yield(0,ue.X3)(la,5,{upgrade:(V=(0,P.Z)(function*(Y,ie,Ce,Ge){var Ke;if(ie<2||!Y.objectStoreNames.contains(ua))return;const Xe=Ge.objectStore(ua),Dt=yield Xe.index("fcmSenderId").get(b);if(yield Xe.clear(),Dt)if(2===ie){const ft=Dt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;w={token:ft.fcmToken,createTime:null!==(Ke=ft.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:Vi(ft.vapidKey)}}}else if(3===ie){const ft=Dt;w={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Vi(ft.auth),p256dh:Vi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Vi(ft.vapidKey)}}}else if(4===ie){const ft=Dt;w={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Vi(ft.auth),p256dh:Vi(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Vi(ft.vapidKey)}}}}),function(ie,Ce,Ge,Ke){return V.apply(this,arguments)})})).close(),yield(0,ue.Lj)(la),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),Iu(w)?w:null;var V}),ca.apply(this,arguments)}function Iu(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:w}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const ho="firebase-messaging-store";let fo=null;function po(){return fo||(fo=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(b,w)=>{0===w&&b.createObjectStore(ho)}})),fo}function da(b){return ms.apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(b){const w=vs(b),V=yield(yield po()).transaction(ho).objectStore(ho).get(w);if(V)return V;{const Y=yield Zc(b.appConfig.senderId);if(Y)return yield go(b,Y),Y}})).apply(this,arguments)}function go(b,w){return ha.apply(this,arguments)}function ha(){return(ha=(0,P.Z)(function*(b,w){const A=vs(b),Y=(yield po()).transaction(ho,"readwrite");return yield Y.objectStore(ho).put(w,A),yield Y.done,w})).apply(this,arguments)}function _s(b){return ys.apply(this,arguments)}function ys(){return(ys=(0,P.Z)(function*(b){const w=vs(b),V=(yield po()).transaction(ho,"readwrite");yield V.objectStore(ho).delete(w),yield V.done})).apply(this,arguments)}function vs({appConfig:b}){return b.appId}const In=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fa(b,w){return hn.apply(this,arguments)}function hn(){return(hn=(0,P.Z)(function*(b,w){const A=yield si(b),V=ma(w),Y={method:"POST",headers:A,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(ga(b.appConfig),Y)).json()}catch(Ce){throw In.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(ie.error)throw In.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw In.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Cs(b,w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,P.Z)(function*(b,w){const A=yield si(b),V=ma(w.subscriptionOptions),Y={method:"PATCH",headers:A,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${ga(b.appConfig)}/${w.token}`,Y)).json()}catch(Ce){throw In.create("token-update-failed",{errorInfo:Ce?.toString()})}if(ie.error)throw In.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw In.create("token-update-no-token");return ie.token})).apply(this,arguments)}function cr(b,w){return pa.apply(this,arguments)}function pa(){return(pa=(0,P.Z)(function*(b,w){const V={method:"DELETE",headers:yield si(b)};try{const ie=yield(yield fetch(`${ga(b.appConfig)}/${w}`,V)).json();if(ie.error)throw In.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Y){throw In.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function ga({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function si(b){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,P.Z)(function*({appConfig:b,installations:w}){const A=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function ma({p256dh:b,auth:w,endpoint:A,vapidKey:V}){const Y={web:{endpoint:A,auth:w,p256dh:b}};return V!==Bo&&(Y.web.applicationPubKey=V),Y}const Es=6048e5;function _a(b){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*(b){const w=yield pl(b.swRegistration,b.vapidKey),A={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:w.endpoint,auth:Vi(w.getKey("auth")),p256dh:Vi(w.getKey("p256dh"))},V=yield da(b.firebaseDependencies);if(V){if(Ca(V.subscriptionOptions,A))return Date.now()>=V.createTime+Es?mt(b,{token:V.token,createTime:Date.now(),subscriptionOptions:A}):V.token;try{yield cr(b.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return fl(b.firebaseDependencies,A)}return fl(b.firebaseDependencies,A)})).apply(this,arguments)}function bs(b){return ws.apply(this,arguments)}function ws(){return(ws=(0,P.Z)(function*(b){const w=yield da(b.firebaseDependencies);w&&(yield cr(b.firebaseDependencies,w.token),yield _s(b.firebaseDependencies));const A=yield b.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function mt(b,w){return ya.apply(this,arguments)}function ya(){return(ya=(0,P.Z)(function*(b,w){try{const A=yield Cs(b.firebaseDependencies,w),V=Object.assign(Object.assign({},w),{token:A,createTime:Date.now()});return yield go(b.firebaseDependencies,V),A}catch(A){throw yield bs(b),A}})).apply(this,arguments)}function fl(b,w){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*(b,w){const V={token:yield fa(b,w),createTime:Date.now(),subscriptionOptions:w};return yield go(b,V),V.token})).apply(this,arguments)}function pl(b,w){return Du.apply(this,arguments)}function Du(){return(Du=(0,P.Z)(function*(b,w){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wu(w)})})).apply(this,arguments)}function Ca(b,w){return w.vapidKey===b.vapidKey&&w.endpoint===b.endpoint&&w.auth===b.auth&&w.p256dh===b.p256dh}function Dn(b){const w={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Tu(b,w){if(!w.notification)return;b.notification={};const A=w.notification.title;A&&(b.notification.title=A);const V=w.notification.body;V&&(b.notification.body=V);const Y=w.notification.image;Y&&(b.notification.image=Y);const ie=w.notification.icon;ie&&(b.notification.icon=ie)}(w,b),function De(b,w){w.data&&(b.data=w.data)}(w,b),function Lt(b,w){var A,V,Y,ie,Ce;if(!(w.fcmOptions||null!==(A=w.notification)&&void 0!==A&&A.click_action))return;b.fcmOptions={};const Ge=null!==(Y=null===(V=w.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Y?Y:null===(ie=w.notification)||void 0===ie?void 0:ie.click_action;Ge&&(b.fcmOptions.link=Ge);const Ke=null===(Ce=w.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;Ke&&(b.fcmOptions.analyticsLabel=Ke)}(w,b),w}function gl(b){return"object"==typeof b&&!!b&&zc in b}function Au(b,w){const A=[];for(let V=0;V<b.length;V++)A.push(b.charAt(V)),V<w.length&&A.push(w.charAt(V));return A.join("")}function Ho(b){return In.create("missing-app-config-values",{valueName:b})}Au("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Au("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ea{constructor(w,A,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Kn(b){if(!b||!b.options)throw Ho("App Configuration Object");if(!b.name)throw Ho("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:A}=b;for(const V of w)if(!A[V])throw Ho(V);return{appName:b.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:Y,installations:A,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Nr(b){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(yi,{scope:Vo}),b.swRegistration.update().catch(()=>{})}catch(w){throw In.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function $o(b,w){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(b,w){if(!w&&!b.swRegistration&&(yield Nr(b)),w||!b.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");b.swRegistration=w}})).apply(this,arguments)}function Su(b,w){return jo.apply(this,arguments)}function jo(){return(jo=(0,P.Z)(function*(b,w){w?b.vapidKey=w:b.vapidKey||(b.vapidKey=Bo)})).apply(this,arguments)}function li(){return(li=(0,P.Z)(function*(b,w){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield Su(b,w?.vapidKey),yield $o(b,w?.serviceWorkerRegistration),_a(b)})).apply(this,arguments)}function _l(b,w,A){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(b,w,A){const V=xr(w);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:A[zc],message_name:A[mh],message_time:A[bu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xr(b){switch(b){case uo.NOTIFICATION_CLICKED:return"notification_open";case uo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yl(){return(yl=(0,P.Z)(function*(b,w){const A=w.data;if(!A.isFirebaseMessaging)return;b.onMessageHandler&&A.messageType===uo.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Dn(A)):b.onMessageHandler.next(Dn(A)));const V=A.data;gl(V)&&"1"===V[lo]&&(yield _l(b,A.messageType,V))})).apply(this,arguments)}const vl="@firebase/messaging",Mu=b=>{const w=new Ea(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function yh(b,w){return yl.apply(this,arguments)}(w,A)),w},mo=b=>{const w=b.getProvider("messaging").getImmediate();return{getToken:V=>function ln(b,w){return li.apply(this,arguments)}(w,V)}};function Cl(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ru(){(0,ne._registerComponent)(new se.wA("messaging",Mu,"PUBLIC")),(0,ne._registerComponent)(new se.wA("messaging-internal",mo,"PRIVATE")),(0,ne.registerVersion)(vl,"0.12.4"),(0,ne.registerVersion)(vl,"0.12.4","esm2017")}();const El="analytics",wr="firebase_id",_o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Da="https://www.googletagmanager.com/gtag/js",Fn=new he.Yd("@firebase/analytics"),Ir=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bh(b){if(!b.startsWith(Da)){const w=Ir.create("invalid-gtag-resource",{gtagURL:b});return Fn.warn(w.message),""}return b}function yo(b){return Promise.all(b.map(w=>w.catch(A=>A)))}function Wo(b,w){const A=function Hi(b,w){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(b,w)),A}("firebase-js-sdk-policy",{createScriptURL:bh}),V=document.createElement("script"),Y=`${Da}?l=${b}&id=${w}`;V.src=A?A?.createScriptURL(Y):Y,V.async=!0,document.head.appendChild(V)}function Ou(b,w,A,V,Y,ie){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(b,w,A,V,Y,ie){const Ce=V[Y];try{if(Ce)yield w[Ce];else{const Ke=(yield yo(A)).find(Xe=>Xe.measurementId===Y);Ke&&(yield w[Ke.appId])}}catch(Ge){Fn.error(Ge)}b("config",Y,ie)})).apply(this,arguments)}function Co(b,w,A,V,Y){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(b,w,A,V,Y){try{let ie=[];if(Y&&Y.send_to){let Ce=Y.send_to;Array.isArray(Ce)||(Ce=[Ce]);const Ge=yield yo(A);for(const Ke of Ce){const Xe=Ge.find(ft=>ft.measurementId===Ke),Dt=Xe&&w[Xe.appId];if(!Dt){ie=[];break}ie.push(Dt)}}0===ie.length&&(ie=Object.values(w)),yield Promise.all(ie),b("event",V,Y||{})}catch(ie){Fn.error(ie)}})).apply(this,arguments)}function Ts(b){const w=window.document.getElementsByTagName("script");for(const A of Object.values(w))if(A.src&&A.src.includes(Da)&&A.src.includes(b))return A;return null}const As=new class Aa{constructor(w={},A=1e3){this.throttleMetadata=w,this.intervalMillis=A}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,A){this.throttleMetadata[w]=A}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function Jc(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ci(b){return Go.apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(b){var w;const{appId:A,apiKey:V}=b,Y={method:"GET",headers:Jc(V)},ie=_o.replace("{app-id}",A),Ce=yield fetch(ie,Y);if(200!==Ce.status&&304!==Ce.status){let Ge="";try{const Ke=yield Ce.json();null!==(w=Ke.error)&&void 0!==w&&w.message&&(Ge=Ke.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:Ge})}return Ce.json()})).apply(this,arguments)}function fn(b){return ji.apply(this,arguments)}function ji(){return(ji=(0,P.Z)(function*(b,w=As,A){const{appId:V,apiKey:Y,measurementId:ie}=b.options;if(!V)throw Ir.create("no-app-id");if(!Y){if(ie)return{measurementId:ie,appId:V};throw Ir.create("no-api-key")}const Ce=w.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Zo;return setTimeout((0,P.Z)(function*(){Ge.abort()}),void 0!==A?A:6e4),Ss({appId:V,apiKey:Y,measurementId:ie},Ce,Ge,w)})).apply(this,arguments)}function Ss(b,w,A){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,P.Z)(function*(b,{throttleEndTimeMillis:w,backoffCount:A},V,Y=As){var ie;const{appId:Ce,measurementId:Ge}=b;try{yield zo(V,w)}catch(Ke){if(Ge)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:Ce,measurementId:Ge};throw Ke}try{const Ke=yield Ci(b);return Y.deleteThrottleMetadata(Ce),Ke}catch(Ke){const Xe=Ke;if(!Xc(Xe)){if(Y.deleteThrottleMetadata(Ce),Ge)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:Ce,measurementId:Ge};throw Ke}const Dt=503===Number(null===(ie=Xe?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,oe.$s)(A,Y.intervalMillis,30):(0,oe.$s)(A,Y.intervalMillis),ft={throttleEndTimeMillis:Date.now()+Dt,backoffCount:A+1};return Y.setThrottleMetadata(Ce,ft),Fn.debug(`Calling attemptFetch again in ${Dt} millis`),Ss(b,ft,V,Y)}})).apply(this,arguments)}function zo(b,w){return new Promise((A,V)=>{const Y=Math.max(w-Date.now(),0),ie=setTimeout(A,Y);b.addEventListener(()=>{clearTimeout(ie),V(Ir.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function Xc(b){if(!(b instanceof oe.ZR&&b.customData))return!1;const w=Number(b.customData.httpStatus);return 429===w||500===w||503===w||504===w}class Zo{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let bo,Do;function wo(){return(wo=(0,P.Z)(function*(b,w,A,V,Y){if(Y&&Y.global)b("event",A,V);else{const ie=yield w;b("event",A,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function Rs(b){Do=b}function Ra(b){bo=b}function ed(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,P.Z)(function*(){if(!(0,oe.hl)())return Fn.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(b){return Fn.warn(Ir.create("indexeddb-unavailable",{errorInfo:b?.toString()}).message),!1}return!0})).apply(this,arguments)}function Il(){return(Il=(0,P.Z)(function*(b,w,A,V,Y,ie,Ce){var Ge;const Ke=fn(b);Ke.then(pn=>{A[pn.measurementId]=pn.appId,b.options.measurementId&&pn.measurementId!==b.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(pn=>Fn.error(pn)),w.push(Ke);const Xe=ed().then(pn=>{if(pn)return V.getId()}),[Dt,ft]=yield Promise.all([Ke,Xe]);Ts(ie)||Wo(ie,Dt.measurementId),Do&&(Y("consent","default",Do),Rs(void 0)),Y("js",new Date);const rr=null!==(Ge=Ce?.config)&&void 0!==Ge?Ge:{};return rr.origin="firebase",rr.update=!0,null!=ft&&(rr[wr]=ft),Y("config",Dt.measurementId,rr),bo&&(Y("set",bo),Ra(void 0)),Dt.measurementId})).apply(this,arguments)}class td{constructor(w){this.app=w}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},Wi=[];const Ps={};let bi,ui,Os="dataLayer",Oa=!1;function rd(b,w,A){!function nd(){const b=[];if((0,oe.ru)()&&b.push("This is a browser extension environment."),(0,oe.zI)()||b.push("Cookies are not available."),b.length>0){const w=b.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),A=Ir.create("invalid-analytics-context",{errorInfo:w});Fn.warn(A.message)}}();const V=b.options.appId;if(!V)throw Ir.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Ir.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[V])throw Ir.create("already-exists",{id:V});if(!Oa){!function $i(b){let w=[];Array.isArray(window[b])?w=window[b]:window[b]=w}(Os);const{wrappedGtag:ie,gtagCore:Ce}=function wh(b,w,A,V,Y){let ie=function(...Ce){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ie=window[Y]),window[Y]=function Yc(b,w,A,V){function ie(){return(ie=(0,P.Z)(function*(Ce,Ge,Ke){try{"event"===Ce?yield Co(b,w,A,Ge,Ke):"config"===Ce?yield Ou(b,w,A,V,Ge,Ke):"consent"===Ce?b("consent","update",Ke):b("set",Ge)}catch(Xe){Fn.error(Xe)}})).apply(this,arguments)}return function Y(Ce,Ge,Ke){return ie.apply(this,arguments)}}(ie,b,w,A),{gtagCore:ie,wrappedGtag:window[Y]}}(Fr,Wi,Ps,Os,"gtag");ui=ie,bi=Ce,Oa=!0}return Fr[V]=function Pa(b,w,A,V,Y,ie,Ce){return Il.apply(this,arguments)}(b,Wi,Ps,w,bi,Os,A),new td(b)}function Yo(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const xa="@firebase/analytics";!function sd(){(0,ne._registerComponent)(new se.wA(El,(w,{options:A})=>rd(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,ne._registerComponent)(new se.wA("analytics-internal",function b(w){try{const A=w.getProvider(El).getImmediate();return{logEvent:(V,Y,ie)=>function Gt(b,w,A,V){b=(0,oe.m9)(b),function qo(b,w,A,V,Y){return wo.apply(this,arguments)}(ui,Fr[b.app.options.appId],w,A,V).catch(Y=>Fn.error(Y))}(A,V,Y,ie)}}catch(A){throw Ir.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,ne.registerVersion)(xa,"0.9.5"),(0,ne.registerVersion)(xa,"0.9.5","esm2017")}();var Up=k(4408),Vp=k(7565);const Fu=new class Jo extends Vp.v{}(class ku extends Up.o{constructor(w,A){super(w,A),this.scheduler=w,this.work=A}schedule(w,A=0){return A>0?super.schedule(w,A):(this.delay=A,this.state=w,this.scheduler.flush(this),this)}execute(w,A){return A>0||this.closed?super.execute(w,A):this._execute(w,A)}requestAsyncId(w,A,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(w,A,V):(w.flush(this),0)}});var Ln=k(4986),Xo=k(9751),ka=k(8505),Ao=k(9468),dr=k(5363);const es=new u.GfV("7.5.0"),Dl="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",zi="__angularfire_symbol__remoteConfigIsSupportedValue",Tl="__angularfire_symbol__remoteConfigIsSupported",Lu="__angularfire_symbol__messagingIsSupportedValue",Uu="__angularfire_symbol__messagingIsSupported";function Ur(b,w,A){if(w){if(1===w.length)return w[0];const ie=w.filter(Ce=>Ce.app===A);if(1===ie.length)return ie[0]}return A.container.getProvider(b).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=Yo().then(b=>globalThis[Dl]=b).catch(()=>globalThis[Dl]=!1)),globalThis[Uu]||(globalThis[Uu]=Cl().then(b=>globalThis[Lu]=b).catch(()=>globalThis[Lu]=!1)),globalThis[Tl]||(globalThis[Tl]=ph().then(b=>globalThis[zi]=b).catch(()=>globalThis[zi]=!1));const Fa=(b,w)=>{const A=w?[w]:(0,B.C6)(),V=[];return A.forEach(Y=>{Y.container.getProvider(b).instances.forEach(Ce=>{V.includes(Ce)||V.push(Ce)})}),V};function Ii(){}class nr{constructor(w,A=Fu){this.zone=w,this.delegate=A}now(){return this.delegate.now()}schedule(w,A,V){const Y=this.zone;return this.delegate.schedule(function(Ce){Y.runGuarded(()=>{w.apply(this,[Ce])})},A,V)}}class ad{constructor(w){this.zone=w,this.task=null}call(w,A){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),A.pipe((0,ka.b)({next:V,complete:V,error:V})).subscribe(w).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ld=(()=>{class b{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=A.run(()=>new nr(Zone.current,Ln.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(A){return new(A||b)(u.LFG(u.R0b))},b.\u0275prov=u.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function Di(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Al(b){return Di().ngZone.runOutsideAngular(()=>b())}function Vr(b){return Di().ngZone.run(()=>b())}function it(b){return Di(),function Ml(b){return function(A){return(A=A.lift(new ad(b.ngZone))).pipe((0,Ao.R)(b.outsideAngular),(0,dr.Q)(b.insideAngular))}}(Di())(b)}const ks=(b,w)=>function(){const V=arguments;return w&&setTimeout(()=>{"scheduled"===w.state&&w.invoke()},10),Vr(()=>b.apply(void 0,V))},Vu=(b,w)=>function(){let A;const V=arguments;for(let ie=0;ie<arguments.length;ie++)"function"==typeof V[ie]&&(w&&(A||(A=Vr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)))),V[ie]=ks(V[ie],A));const Y=Al(()=>b.apply(this,V));if(!w){if(Y instanceof Xo.y){const ie=Di();return Y.pipe((0,Ao.R)(ie.outsideAngular),(0,dr.Q)(ie.insideAngular))}return Vr(()=>Y)}return Y instanceof Xo.y?Y.pipe(it):Y instanceof Promise?Vr(()=>new Promise((ie,Ce)=>Y.then(Ge=>Vr(()=>ie(Ge)),Ge=>Vr(()=>Ce(Ge))))):"function"==typeof Y&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),Y.apply(this,arguments)}:Vr(()=>Y)}},3432:(Ye,be,k)=>{k.d(be,{$:()=>fa,A:()=>G,C:()=>Ie,H:()=>Eu,I:()=>en,K:()=>gi,M:()=>bn,N:()=>aa,P:()=>ka,Q:()=>gh,R:()=>Gt,U:()=>zc,V:()=>mh,W:()=>Bo,X:()=>uo,Y:()=>Vi,Z:()=>Zc,_:()=>tr,a:()=>Aa,a0:()=>Cs,a1:()=>ga,a2:()=>ai,a3:()=>ws,a4:()=>ya,a5:()=>va,a6:()=>Du,a7:()=>Dn,a8:()=>De,a9:()=>Lt,aA:()=>Br,aB:()=>q,aC:()=>j,aD:()=>Xe,aE:()=>Zi,aF:()=>Sl,aG:()=>jn,aK:()=>Ci,aN:()=>lo,aa:()=>Au,ab:()=>Kn,ac:()=>ba,ad:()=>ml,ae:()=>jo,ah:()=>vi,ai:()=>yh,aj:()=>yl,am:()=>ho,an:()=>Kc,ap:()=>Fn,aq:()=>Ou,ar:()=>ge,as:()=>At,at:()=>Be,au:()=>Te,av:()=>kh,aw:()=>ci,ax:()=>_t,ay:()=>Me,az:()=>Q,b:()=>Ta,c:()=>Uu,d:()=>Lr,e:()=>Un,f:()=>ks,g:()=>Y,h:()=>w,i:()=>Pa,j:()=>Ge,k:()=>Tr,l:()=>Up,m:()=>dd,p:()=>ue,r:()=>Vp,s:()=>Th,u:()=>Ln});var u=k(5861),B=k(2090),P=k(9681),ne=k(1877),oe=k(655),se=k(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ne.Yd("@firebase/auth");function ye(_,...f){ve.logLevel<=ne.in.ERROR&&ve.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Fe(_,...f)}function Me(_,...f){return Fe(_,...f)}function Ae(_,f,g){const y=Object.assign(Object.assign({},Le()),{[f]:g});return new B.LL("auth","Firebase",y).create(f,{appName:_.name})}function we(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Te(_,"argument-error"),Ae(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(_,...f){if("string"!=typeof _){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return ze.create(_,...f)}function Q(_,f,...g){if(!_)throw Fe(f,...g)}function ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ye(f),new Error(f)}function ge(_,f){_||ae(f)}const Z=new Map;function q(_){ge(_ instanceof Function,"Expected a class definition");let f=Z.get(_);return f?(ge(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Z.set(_,f),f)}function Pe(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Oe(){return"http:"===Je()||"https:"===Je()}function Je(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class st{constructor(f,g){this.shortDelay=f,this.longDelay=g,ge(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Oe()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wt(_,f){ge(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ot{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nn=new st(3e4,6e4);function Ct(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function et(_,f,g,y){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(_,f,g,y,T={}){return ii(_,T,(0,u.Z)(function*(){let x={},X={};y&&("GET"===f?X=y:x={body:JSON.stringify(y)});const Ee=(0,B.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),$e=yield _._getAdditionalHeaders();return $e["Content-Type"]="application/json",_.languageCode&&($e["X-Firebase-Locale"]=_.languageCode),ot.fetch()(fi(_,_.config.apiHost,g,Ee),Object.assign({method:f,headers:$e,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ii(_,f,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},xt),f);try{const T=new Gr(_),x=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const X=yield x.json();if("needConfirmation"in X)throw yn(_,"account-exists-with-different-credential",X);if(x.ok&&!("errorMessage"in X))return X;{const Ee=x.ok?X.errorMessage:X.error.message,[$e,nt]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw yn(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw yn(_,"email-already-in-use",X);if("USER_DISABLED"===$e)throw yn(_,"user-disabled",X);const Rt=y[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Ae(_,Rt,nt);Te(_,Rt)}}catch(T){if(T instanceof B.ZR)throw T;Te(_,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function sn(_,f,g,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,u.Z)(function*(_,f,g,y,T={}){const x=yield et(_,f,g,y,T);return"mfaPendingCredential"in x&&Te(_,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function fi(_,f,g,y){const T=`${f}${g}?${y}`;return _.config.emulator?wt(_.config,T):`${_.config.apiScheme}://${T}`}class Gr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(Me(this.auth,"network-request-failed")),Nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(_,f,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const T=Me(_,f,y);return T.customData._tokenResponse=g,T}function Sr(){return(Sr=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Wt(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function je(_,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Zn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function ar(){return(ar=(0,u.Z)(function*(_,f=!1){const g=(0,B.m9)(_),y=yield g.getIdToken(f),T=Qe(y);Q(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,X=x?.sign_in_provider;return{claims:T,token:y,authTime:Zn(dt(T.auth_time)),issuedAtTime:Zn(dt(T.iat)),expirationTime:Zn(dt(T.exp)),signInProvider:X||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(_){return 1e3*Number(_)}function Qe(_){const[f,g,y]=_.split(".");if(void 0===f||void 0===g||void 0===y)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,B.tV)(g);return T?JSON.parse(T):(ye("Failed to decode base64 JWT payload"),null)}catch(T){return ye("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Zt(_,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof B.ZR&&Cn(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}function Cn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Hn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class xn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mr(_){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(_){var f;const g=_.auth,y=yield _.getIdToken(),T=yield Zt(_,je(g,{idToken:y}));Q(T?.users.length,g,"internal-error");const x=T.users[0];_._notifyReloadListener(x);const X=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?En(x.providerUserInfo):[],Ee=lr(_.providerData,X),Rt=!!_.isAnonymous&&!(_.email&&x.passwordHash||Ee?.length),Jt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Ee,metadata:new xn(x.createdAt,x.lastLoginAt),isAnonymous:Rt};Object.assign(_,Jt)})).apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(_){const f=(0,B.m9)(_);yield Mr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function lr(_,f){return[..._.filter(y=>!f.some(T=>T.providerId===y.providerId)),...f]}function En(_){return _.map(f=>{var{providerId:g}=f,y=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function _e(){return(_e=(0,u.Z)(function*(_,f){const g=yield ii(_,{},(0,u.Z)(function*(){const y=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:x}=_.config,X=fi(_,T,"/v1/token",`key=${x}`),Ee=yield _._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",ot.fetch()(X,{method:"POST",headers:Ee,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class He{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Q(f.idToken,"internal-error"),Q(typeof f.idToken<"u","internal-error"),Q(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ht(_){const f=Qe(_);return Q(f,"internal-error"),Q(typeof f.exp<"u","internal-error"),Q(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,u.Z)(function*(){return Q(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:X}=yield function xe(_,f){return _e.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(T,x,Number(X))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:T,expirationTime:x}=g,X=new He;return y&&(Q("string"==typeof y,"internal-error",{appName:f}),X.refreshToken=y),T&&(Q("string"==typeof T,"internal-error",{appName:f}),X.accessToken=T),x&&(Q("number"==typeof x,"internal-error",{appName:f}),X.expirationTime=x),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new He,this.toJSON())}_performRefresh(){return ae("not implemented")}}function rt(_,f){Q("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ut{constructor(f){var{uid:g,auth:y,stsTokenManager:T}=f,x=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new xn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const y=yield Zt(g,g.stsTokenManager.getToken(g.auth,f));return Q(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function vn(_){return ar.apply(this,arguments)}(this,f)}reload(){return function Rr(_){return It.apply(this,arguments)}(this)}_assign(f){this!==f&&(Q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new ut(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,u.Z)(function*(){let T=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Mr(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield Zt(f,function vr(_,f){return Sr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,T,x,X,Ee,$e,nt,Rt;const Jt=null!==(y=g.displayName)&&void 0!==y?y:void 0,Yr=null!==(T=g.email)&&void 0!==T?T:void 0,rs=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Zu=null!==(X=g.photoURL)&&void 0!==X?X:void 0,Lh=null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,hd=null!==($e=g._redirectEventId)&&void 0!==$e?$e:void 0,Uh=null!==(nt=g.createdAt)&&void 0!==nt?nt:void 0,Nl=null!==(Rt=g.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:is,emailVerified:fd,isAnonymous:Yi,providerData:xl,stsTokenManager:Wp}=g;Q(is&&Wp,f,"internal-error");const Vh=He.fromJSON(this.name,Wp);Q("string"==typeof is,f,"internal-error"),rt(Jt,f.name),rt(Yr,f.name),Q("boolean"==typeof fd,f,"internal-error"),Q("boolean"==typeof Yi,f,"internal-error"),rt(rs,f.name),rt(Zu,f.name),rt(Lh,f.name),rt(hd,f.name),rt(Uh,f.name),rt(Nl,f.name);const qu=new ut({uid:is,auth:f,email:Yr,emailVerified:fd,displayName:Jt,isAnonymous:Yi,photoURL:Zu,phoneNumber:rs,tenantId:Lh,stsTokenManager:Vh,createdAt:Uh,lastLoginAt:Nl});return xl&&Array.isArray(xl)&&(qu.providerData=xl.map(Vs=>Object.assign({},Vs))),hd&&(qu._redirectEventId=hd),qu}static _fromIdTokenResponse(f,g,y=!1){return(0,u.Z)(function*(){const T=new He;T.updateFromServerResponse(g);const x=new ut({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:y});return yield Mr(x),x})()}}const bn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,y){var T=this;return(0,u.Z)(function*(){T.storage[g]=y})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=y.storage[g];return void 0===T?null:T})()}_remove(g){var y=this;return(0,u.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function j(_,f,g){return`firebase:${_}:${f}:${g}`}class H{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:T,name:x}=this.auth;this.fullUserKey=j(this.userKey,T.apiKey,x),this.fullPersistenceKey=j("persistence",T.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ut._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,u.Z)(function*(){if(!g.length)return new H(q(bn),f,y);const T=(yield Promise.all(g.map(function(){var nt=(0,u.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let x=T[0]||q(bn);const X=j(y,f.config.apiKey,f.name);let Ee=null;for(const nt of g)try{const Rt=yield nt._get(X);if(Rt){const Jt=ut._fromJSON(f,Rt);nt!==x&&(Ee=Jt),x=nt;break}}catch{}const $e=T.filter(nt=>nt._shouldAllowMigration);return x._shouldAllowMigration&&$e.length?(x=$e[0],Ee&&(yield x._set(X,Ee.toJSON())),yield Promise.all(g.map(function(){var nt=(0,u.Z)(function*(Rt){if(Rt!==x)try{yield Rt._remove(X)}catch{}});return function(Rt){return nt.apply(this,arguments)}}())),new H(x,f,y)):new H(x,f,y)})()}}function O(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(pe(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(N(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ue(f))return"Blackberry";if(at(f))return"Webos";if(R(f))return"Safari";if((f.includes("chrome/")||J(f))&&!f.includes("edge/"))return"Chrome";if(Be(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function N(_=(0,B.z$)()){return/firefox\//i.test(_)}function R(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function J(_=(0,B.z$)()){return/crios\//i.test(_)}function pe(_=(0,B.z$)()){return/iemobile/i.test(_)}function Be(_=(0,B.z$)()){return/android/i.test(_)}function Ue(_=(0,B.z$)()){return/blackberry/i.test(_)}function at(_=(0,B.z$)()){return/webos/i.test(_)}function At(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function _t(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function $n(_=(0,B.z$)()){return At(_)||Be(_)||at(_)||Ue(_)||/windows phone/i.test(_)||pe(_)}function ko(_,f=[]){let g;switch(_){case"Browser":g=O((0,B.z$)());break;case"Worker":g=`${O((0,B.z$)())}-${_}`;break;default:g=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${y}`}class al{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=x=>new Promise((X,Ee)=>{try{X(f(x))}catch($e){Ee($e)}});y.onAbort=g,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const T of g.queue)yield T(f),T.onAbort&&y.push(T.onAbort)}catch(T){y.reverse();for(const x of y)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class ll{constructor(f,g,y){this.app=f,this.heartbeatServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new al(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=q(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,x;if(!y._deleted&&(y.persistenceManager=yield H.create(y,f),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(x=y.currentUser)||void 0===x?void 0:x.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var y;const T=yield g.assertedPersistence.getCurrentUser();let x=T,X=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ee=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,$e=x?._redirectEventId,nt=yield g.tryRedirectSignIn(f);(!Ee||Ee===$e)&&nt?.user&&(x=nt.user,X=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(x)}catch(Ee){x=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ee))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return Q(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield Mr(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $t(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const y=f?(0,B.m9)(f):null;return y&&Q(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return f&&Q(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(q(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,u.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&q(f)||g._popupRedirectResolver;Q(y,g,"argument-error"),g.redirectPersistenceManager=yield H.create(g,[q(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var y,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,T){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(X,this,"internal-error"),X.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,y,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function jn(_){return(0,B.m9)(_)}class Fo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Eu(_,f,g){const y=jn(_);Q(y._canInitEmulator,y,"emulator-config-failed"),Q(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const T=!!g?.disableWarnings,x=ul(f),{host:X,port:Ee}=function ta(_){const f=ul(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const x=T[1];return{host:x,port:Lo(y.substr(x.length+1))}}{const[x,X]=y.split(":");return{host:x,port:Lo(X)}}}(f);y.config.emulator={url:`${x}//${X}${null===Ee?"":`:${Ee}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:X,port:Ee,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Vt(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function ul(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Lo(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class en{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ae("not implemented")}_getIdTokenResponse(f){return ae("not implemented")}_linkToIdToken(f,g){return ae("not implemented")}_getReauthenticationResolver(f){return ae("not implemented")}}function qn(_,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:resetPassword",Ct(_,f))})).apply(this,arguments)}function Xn(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function We(_,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:update",Ct(_,f))})).apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithPassword",Ct(_,f))})).apply(this,arguments)}function Zr(_,f){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:sendOobCode",Ct(_,f))})).apply(this,arguments)}function Li(_,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function na(_,f){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function Et(_,f){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function ra(_,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.Z)(function*(_,f){return Zr(_,f)})).apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithEmailLink",Ct(_,f))})).apply(this,arguments)}function ao(){return(ao=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithEmailLink",Ct(_,f))})).apply(this,arguments)}class Cr extends en{constructor(f,g,y,T=null){super("password",y),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new Cr(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new Cr(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function tn(_,f){return er.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ui(_,f){return kn.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return Xn(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function ia(_,f){return ao.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Pr(_,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithIdp",Ct(_,f))})).apply(this,arguments)}class gi extends en{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T}=g,x=(0,oe._T)(g,["providerId","signInMethod"]);if(!y||!T)return null;const X=new gi(y,T);return X.idToken=x.idToken||void 0,X.accessToken=x.accessToken||void 0,X.secret=x.secret,X.nonce=x.nonce,X.pendingToken=x.pendingToken||null,X}_getIdTokenResponse(f){return Pr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,Pr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Pr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,B.xO)(g)}return f}}function dl(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:sendVerificationCode",Ct(_,f))})).apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,f))})).apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(_,f){const g=yield sn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,f));if(g.temporaryProof)throw yn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const fh={USER_NOT_FOUND:"user-not-found"};function br(){return(br=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithPhoneNumber",Ct(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),fh)})).apply(this,arguments)}class _i extends en{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new _i({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new _i({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function sa(_,f){return mi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Or(_,f){return Wn.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Er(_,f){return br.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:x}=f;return y||g||T||x?new _i({verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:x}):null}}class Gn{constructor(f){var g,y,T,x,X,Ee;const $e=(0,B.zd)((0,B.pd)(f)),nt=null!==(g=$e.apiKey)&&void 0!==g?g:null,Rt=null!==(y=$e.oobCode)&&void 0!==y?y:null,Jt=function gs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=$e.mode)&&void 0!==T?T:null);Q(nt&&Rt&&Jt,"argument-error"),this.apiKey=nt,this.operation=Jt,this.code=Rt,this.continueUrl=null!==(x=$e.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Ee=$e.tenantId)&&void 0!==Ee?Ee:null}static parseLink(f){const g=function hl(_){const f=(0,B.zd)((0,B.pd)(_)).link,g=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,y=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(y?(0,B.zd)((0,B.pd)(y)).link:null)||y||g||f||_}(f);try{return new Gn(g)}catch{return null}}}let aa=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return Cr._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const T=Gn.parseLink(y);return Q(T,"argument-error"),Cr._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class yi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Vo extends yi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Bo extends Vo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Q("providerId"in g&&"signInMethod"in g,"argument-error"),gi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Q(f.idToken||f.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Bo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Bo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:x,nonce:X,providerId:Ee}=f;if(!y&&!T&&!g&&!x||!Ee)return null;try{return new Bo(Ee)._credential({idToken:g,accessToken:y,nonce:X,pendingToken:x})}catch{return null}}}let gh=(()=>{class _ extends Vo{constructor(){super("facebook.com")}static credential(g){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),zc=(()=>{class _ extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T}=g;if(!y&&!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),mh=(()=>{class _ extends Vo{constructor(){super("github.com")}static credential(g){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class lo extends en{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Pr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,Pr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Pr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T,pendingToken:x}=g;return y&&T&&x&&y===T?new lo(y,x):null}static _create(f,g){return new lo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uo extends yi{constructor(f){Q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return uo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return uo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=lo.fromJSON(f);return Q(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return lo._create(y,g)}catch{return null}}}let Vi=(()=>{class _ extends Vo{constructor(){super("twitter.com")}static credential(g,y){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=g;if(!y||!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function wu(_,f){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signUp",Ct(_,f))})).apply(this,arguments)}class qr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,T=!1){return(0,u.Z)(function*(){const x=yield ut._fromIdTokenResponse(f,y,T),X=ua(y);return new qr({user:x,providerId:X,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const T=ua(y);return new qr({user:f,providerId:T,_tokenResponse:y,operationType:g})})()}}function ua(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Zc(_){return ca.apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(_){var f;const g=jn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new qr({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield wu(g,{returnSecureToken:!0}),T=yield qr._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Iu extends B.ZR{constructor(f,g,y,T){var x;super(g.code,g.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,Iu.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,T){return new Iu(f,g,y,T)}}function _h(_,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Iu._fromErrorAndOperation(_,x,f,y):x})}function co(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function ho(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(_,f){const g=(0,B.m9)(_);yield ms(!0,g,f);const{providerUserInfo:y}=yield Wt(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=co(y||[]);return g.providerData=g.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function po(_,f){return da.apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(_,f,g=!1){const y=yield Zt(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return qr._forOperation(_,"link",y)})).apply(this,arguments)}function ms(_,f,g){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(_,f,g){yield Mr(f);const T=!1===_?"provider-already-linked":"no-such-provider";Q(co(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function ha(_,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.Z)(function*(_,f,g=!1){const{auth:y}=_,T="reauthenticate";try{const x=yield Zt(_,_h(y,T,f,_),g);Q(x.idToken,y,"internal-error");const X=Qe(x.idToken);Q(X,y,"internal-error");const{sub:Ee}=X;return Q(_.uid===Ee,y,"user-mismatch"),qr._forOperation(_,T,x)}catch(x){throw"auth/user-not-found"===x?.code&&Te(y,"user-mismatch"),x}})).apply(this,arguments)}function ys(_,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(_,f,g=!1){const y="signIn",T=yield _h(_,y,f),x=yield qr._fromIdTokenResponse(_,y,T);return g||(yield _._updateCurrentUser(x.user)),x})).apply(this,arguments)}function tr(_,f){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(_,f){return ys(jn(_),f)})).apply(this,arguments)}function fa(_,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(_,f){const g=(0,B.m9)(_);return yield ms(!1,g,f.providerId),po(g,f)})).apply(this,arguments)}function Cs(_,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(_,f){return ha((0,B.m9)(_),f)})).apply(this,arguments)}function cr(_,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(_,f){return sn(_,"POST","/v1/accounts:signInWithCustomToken",Ct(_,f))})).apply(this,arguments)}function ga(_,f){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(_,f){const g=jn(_),y=yield cr(g,{token:f,returnSecureToken:!0}),T=yield qr._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Rn{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ma._fromServerResponse(f,g):"totpInfo"in g?Es._fromServerResponse(f,g):Te(f,"internal-error")}}class ma extends Rn{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ma(g)}}class Es extends Rn{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Es(g)}}function _a(_,f,g){var y;Q((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),Q(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Q(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Q(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ai(_,f,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_),T={requestType:"PASSWORD_RESET",email:f};g&&_a(y,T,g),yield na(y,T)})).apply(this,arguments)}function ws(_,f,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(_,f,g){yield qn((0,B.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ya(_,f){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(_,f){yield We((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function va(_,f){return pl.apply(this,arguments)}function pl(){return(pl=(0,u.Z)(function*(_,f){const g=(0,B.m9)(_),y=yield qn(g,{oobCode:f}),T=y.requestType;switch(Q(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(y.mfaInfo,g,"internal-error");default:Q(y.email,g,"internal-error")}let x=null;return y.mfaInfo&&(x=Rn._fromServerResponse(jn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function Du(_,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(_,f){const{data:g}=yield va((0,B.m9)(_),f);return g.email})).apply(this,arguments)}function Dn(_,f,g){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(_,f,g){const y=jn(_),T=yield wu(y,{returnSecureToken:!0,email:f,password:g}),x=yield qr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}function De(_,f,g){return tr((0,B.m9)(_),aa.credential(f,g))}function Lt(_,f,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};Q(g.handleCodeInApp,y,"argument-error"),g&&_a(y,T,g),yield Et(y,T)})).apply(this,arguments)}function Au(_,f){return"EMAIL_SIGNIN"===Gn.parseLink(f)?.operation}function Kn(_,f,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_),T=aa.credentialWithLink(f,g||Pe());return Q(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),tr(y,T)})).apply(this,arguments)}function Ea(_,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:createAuthUri",Ct(_,f))})).apply(this,arguments)}function ba(_,f){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(_,f){const y={identifier:f,continueUri:Oe()?Pe():"http://localhost"},{signinMethods:T}=yield Ea((0,B.m9)(_),y);return T||[]})).apply(this,arguments)}function ml(_,f){return Su.apply(this,arguments)}function Su(){return(Su=(0,u.Z)(function*(_,f){const g=(0,B.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&_a(g.auth,T,f);const{email:x}=yield Li(g.auth,T);x!==_.email&&(yield _.reload())})).apply(this,arguments)}function jo(_,f,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&_a(y.auth,x,g);const{email:X}=yield ra(y.auth,x);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function li(_,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(_,f){return et(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vi(_,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,B.m9)(_),x={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},X=yield Zt(y,li(y.auth,x));y.displayName=X.displayName||null,y.photoURL=X.photoUrl||null;const Ee=y.providerData.find(({providerId:$e})=>"password"===$e);Ee&&(Ee.displayName=y.displayName,Ee.photoURL=y.photoURL),yield y._updateTokensIfNecessary(X)})).apply(this,arguments)}function yh(_,f){return vl((0,B.m9)(_),f,null)}function yl(_,f){return vl((0,B.m9)(_),null,f)}function vl(_,f,g){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(_,f,g){const{auth:y}=_,x={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const X=yield Zt(_,Xn(y,x));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class mo{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class Ru extends mo{constructor(f,g,y,T){super(f,g,y),this.username=T}}class Cl extends mo{constructor(f,g){super(f,"facebook.com",g)}}class Pu extends Ru{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class qc extends mo{constructor(f,g){super(f,"google.com",g)}}class wa extends Ru{constructor(f,g,y){super(f,"twitter.com",g,y)}}function Kc(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Mu(_){var f,g;if(!_)return null;const{providerId:y}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},x=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const X=null===(g=null===(f=Qe(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new mo(x,"anonymous"!==X&&"custom"!==X?X:null)}if(!y)return null;switch(y){case"facebook.com":return new Cl(x,T);case"github.com":return new Pu(x,T);case"google.com":return new qc(x,T);case"twitter.com":return new wa(x,T,_.screenName||null);case"custom":case"anonymous":return new mo(x,null);default:return new mo(x,y,T)}}(g)}class _o{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new _o("enroll",f,g)}static _fromMfaPendingCredential(f){return new _o("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return _o._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return _o._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Da{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=jn(f),T=g.customData._serverResponse,x=(T.mfaInfo||[]).map(Ee=>Rn._fromServerResponse(y,Ee));Q(T.mfaPendingCredential,y,"internal-error");const X=_o._fromMfaPendingCredential(T.mfaPendingCredential);return new Da(X,x,function(){var Ee=(0,u.Z)(function*($e){const nt=yield $e._process(y,X);delete T.mfaInfo,delete T.mfaPendingCredential;const Rt=Object.assign(Object.assign({},T),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(g.operationType){case"signIn":const Jt=yield qr._fromIdTokenResponse(y,g.operationType,Rt);return yield y._updateCurrentUser(Jt.user),Jt;case"reauthenticate":return Q(g.user,y,"internal-error"),qr._forOperation(g.user,g.operationType,Rt);default:Te(y,"internal-error")}});return function($e){return Ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function Fn(_,f){var g;const y=(0,B.m9)(_),T=f;return Q(f.customData.operationType,y,"argument-error"),Q(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),Da._fromError(y,T)}function Eh(_,f){return et(_,"POST","/v2/accounts/mfaEnrollment:start",Ct(_,f))}class Wo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Rn._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new Wo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return _o._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,u.Z)(function*(){const T=f,x=yield y.getSession(),X=yield Zt(y.user,T._process(y.user.auth,x,g));return yield y.user._updateTokensIfNecessary(X),y.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const y="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const x=yield Zt(g.user,function Hi(_,f){return et(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==y),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const $i=new WeakMap;function Ou(_){const f=(0,B.m9)(_);return $i.has(f)||$i.set(f,Wo._fromUser(f)),$i.get(f)}const vo="__sak";class Co{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(vo,"1"),this.storage.removeItem(vo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ta=(()=>{class _ extends Co{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eo(){const _=(0,B.z$)();return R(_)||At(_)}()&&function sl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$n(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),x=this.localCache[y];T!==x&&g(y,x,T)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((Ee,$e,nt)=>{this.notifyListeners(Ee,nt)});const T=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(T);if(g.newValue!==Ee)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!y)return}const x=()=>{const Ee=this.storage.getItem(T);!y&&this.localCache[T]===Ee||this.notifyListeners(T,Ee)},X=this.storage.getItem(T);!function lt(){return(0,B.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var T=()=>super._set,x=this;return(0,u.Z)(function*(){yield T().call(x,g,y),x.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,T=this;return(0,u.Z)(function*(){const x=yield y().call(T,g);return T.localCache[g]=JSON.stringify(x),x})()}_remove(g){var y=()=>super._remove,T=this;return(0,u.Z)(function*(){yield y().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),Aa=(()=>{class _ extends Co{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let Jc=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(x=>x.isListeningto(g));if(y)return y;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,u.Z)(function*(){const T=g,{eventId:x,eventType:X,data:Ee}=T.data,$e=y.handlersMap[X];if(!$e?.size)return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:X});const nt=Array.from($e).map(function(){var Jt=(0,u.Z)(function*(Yr){return Yr(T.origin,Ee)});return function(Yr){return Jt.apply(this,arguments)}}()),Rt=yield function As(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(nt);T.ports[0].postMessage({status:"done",eventId:x,eventType:X,response:Rt})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ci(_="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return _+g}class Go{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var T=this;return(0,u.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let X,Ee;return new Promise(($e,nt)=>{const Rt=Ci("",20);x.port1.start();const Jt=setTimeout(()=>{nt(new Error("unsupported_event"))},y);Ee={messageChannel:x,onMessage(Yr){const rs=Yr;if(rs.data.eventId===Rt)switch(rs.data.status){case"ack":clearTimeout(Jt),X=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e(rs.data.response);break;default:clearTimeout(Jt),clearTimeout(X),nt(new Error("invalid_response"))}}},T.handlers.add(Ee),x.port1.addEventListener("message",Ee.onMessage),T.target.postMessage({eventType:f,eventId:Rt,data:g},[x.port2])}).finally(()=>{Ee&&T.removeMessageHandler(Ee)})})()}}function fn(){return window}function Ss(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function zo(){return(zo=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",wo="firebaseLocalStorage",bl="fbase_key";class Ei{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ms(_,f){return _.transaction([wo],f?"readwrite":"readonly").objectStore(wo)}function wl(){const _=indexedDB.open(bo,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(wo,{keyPath:bl})}catch(T){g(T)}}),_.addEventListener("success",(0,u.Z)(function*(){const y=_.result;y.objectStoreNames.contains(wo)?f(y):(y.close(),yield function kr(){const _=indexedDB.deleteDatabase(bo);return new Ei(_).toPromise()}(),f(yield wl()))}))})}function Io(_,f,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(_,f,g){const y=Ms(_,!0).put({[bl]:f,value:g});return new Ei(y).toPromise()})).apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(_,f){const g=Ms(_,!1).get(f),y=yield new Ei(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Rs(_,f){const g=Ms(_,!0).delete(f);return new Ei(g).toPromise()}const Pa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield wl()),g.db})()}_withRetries(g){var y=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const x=yield y._openDb();return yield g(x)}catch(x){if(T++>3)throw x;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ss()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=Jc._getInstance(function Zo(){return Ss()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(T,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(T,x){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var y,T;if(g.activeServiceWorker=yield function Sa(){return zo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Go(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(y=x[0])&&void 0!==y&&y.fulfilled&&null!==(T=x[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Xc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield wl();return yield Io(g,vo,"1"),yield Rs(g,vo),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(x=>Io(x,g,y)),T.localCache[g]=y,T.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(x=>function Ma(_,f){return Do.apply(this,arguments)}(x,g));return y.localCache[g]=T,T})()}_remove(g){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(T=>Rs(T,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const y=yield g._withRetries(X=>{const Ee=Ms(X,!1).getAll();return new Ei(Ee).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:X,value:Ee}of y)x.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(Ee)&&(g.notifyListeners(X,Ee),T.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!x.has(X)&&(g.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Il(_,f){return et(_,"POST","/v2/accounts/mfaSignIn:start",Ct(_,f))}function Ps(){return(Ps=(0,u.Z)(function*(_){return(yield et(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ns(_){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=T=>{const x=Me("internal-error");x.customData=T,g(x)},y.type="text/javascript",y.charset="UTF-8",function Os(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function bi(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Na=1e12;class nd{constructor(f){this.auth=f,this.counter=Na,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new rd(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||Na;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Na))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var y;return null===(y=g._widgets.get(f||Na))||void 0===y||y.execute(),""})()}}class rd{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;Q(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wi=bi("rcb"),Yo=new st(3e4,6e4);class Ih{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return Q(function id(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(fn().grecaptcha):new Promise((y,T)=>{const x=fn().setTimeout(()=>{T(Me(f,"network-request-failed"))},Yo.get());fn()[wi]=()=>{fn().clearTimeout(x),delete fn()[wi];const Ee=fn().grecaptcha;if(!Ee)return void T(Me(f,"internal-error"));const $e=Ee.render;Ee.render=(nt,Rt)=>{const Jt=$e(nt,Rt);return this.counter++,Jt},this.hostLanguage=g,y(Ee)},Ns(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:wi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),T(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=fn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qo{load(f){return(0,u.Z)(function*(){return new nd(f)})()}clearedOneInstance(){}}const To="recaptcha",Dh={theme:"light",type:"image"};class Gt{constructor(f,g=Object.assign({},Dh),y){this.parameters=g,this.type=To,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(y),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;Q(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qo:new Ih,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(x=>{const X=Ee=>{Ee&&(f.tokenChangeListeners.delete(X),x(Ee))};f.tokenChangeListeners.add(X),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=fn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){Q(Oe()&&!Ss(),f.auth,"internal-error"),yield function od(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Wi(_){return Ps.apply(this,arguments)}(f.auth);Q(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xa{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=_i._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Th(_,f,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,u.Z)(function*(_,f,g){const y=jn(_),T=yield Fu(y,f,(0,B.m9)(g));return new xa(T,x=>tr(y,x))})).apply(this,arguments)}function Up(_,f,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_);yield ms(!1,y,"phone");const T=yield Fu(y.auth,f,(0,B.m9)(g));return new xa(T,x=>fa(y,x))})).apply(this,arguments)}function Vp(_,f,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_),T=yield Fu(y.auth,f,(0,B.m9)(g));return new xa(T,x=>Cs(y,x))})).apply(this,arguments)}function Fu(_,f,g){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,u.Z)(function*(_,f,g){var y;const T=yield g.verify();try{let x;if(Q("string"==typeof T,_,"argument-error"),Q(g.type===To,_,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const X=x.session;if("phoneNumber"in x)return Q("enroll"===X.type,_,"internal-error"),(yield Eh(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Q("signin"===X.type,_,"internal-error");const Ee=(null===(y=x.multiFactorHint)||void 0===y?void 0:y.uid)||x.multiFactorUid;return Q(Ee,_,"missing-multi-factor-info"),(yield Il(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield dl(_,{phoneNumber:x.phoneNumber,recaptchaToken:T});return X}}finally{g._reset()}})).apply(this,arguments)}function Ln(_,f){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,u.Z)(function*(_,f){yield po((0,B.m9)(_),f)})).apply(this,arguments)}let ka=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=jn(g)}verifyPhoneNumber(g,y){return Fu(this.auth,g,(0,B.m9)(y))}static credential(g,y){return _i._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:T}=g;return y&&T?_i._fromTokenResponse(y,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ao(_,f){return f?q(f):(Q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class dr extends en{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Pr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Pr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Pr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function es(_){return ys(_.auth,new dr(_),_.bypassAuthState)}function Dl(_){const{auth:f,user:g}=_;return Q(g,f,"internal-error"),ha(g,new dr(_),_.bypassAuthState)}function xs(_){return zi.apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return Q(g,f,"internal-error"),po(g,new dr(_),_.bypassAuthState)})).apply(this,arguments)}class Tl{constructor(f,g,y,T,x=!1){this.auth=f,this.resolver=y,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(y,T){f.pendingPromise={resolve:y,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(y,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:x,tenantId:X,error:Ee,type:$e}=f;if(Ee)return void g.reject(Ee);const nt={auth:g.auth,requestUri:y,sessionId:T,tenantId:X||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($e)(nt))}catch(Rt){g.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return es;case"linkViaPopup":case"linkViaRedirect":return xs;case"reauthViaPopup":case"reauthViaRedirect":return Dl;default:Te(this.auth,"internal-error")}}resolve(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lu=new st(2e3,1e4);function Uu(_,f,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(_,f,g){const y=jn(_);we(_,f,yi);const T=Ao(y,g);return new Fa(y,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Un(_,f,g){return qe.apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_);we(y.auth,f,yi);const T=Ao(y.auth,g);return new Fa(y.auth,"reauthViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}function Lr(_,f,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_);we(y.auth,f,yi);const T=Ao(y.auth,g);return new Fa(y.auth,"linkViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}let Fa=(()=>{class _ extends Tl{constructor(g,y,T,x,X){super(g,y,x,X),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const y=yield g.execute();return Q(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,u.Z)(function*(){ge(1===g.filter.length,"Popup operations only handle one event");const y=Ci();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Me(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Lu.get())};g()}}return _.currentPopupAction=null,_})();const nr=new Map;class ad extends Tl{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let y=nr.get(g.auth._key());if(!y){try{const x=(yield function ld(_,f){return Di.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(x)}catch(T){y=()=>Promise.reject(T)}nr.set(g.auth._key(),y)}return g.bypassAuthState||nr.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const T=yield y.auth._redirectUserForId(f.eventId);if(T)return y.user=T,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Di(){return(Di=(0,u.Z)(function*(_,f){const g=Ml(f),y=it(_);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(g));return yield y._remove(g),T})).apply(this,arguments)}function Al(_,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,u.Z)(function*(_,f){return it(_)._set(Ml(f),"true")})).apply(this,arguments)}function Sl(){nr.clear()}function Zi(_,f){nr.set(_._key(),f)}function it(_){return q(_._redirectPersistence)}function Ml(_){return j("pendingRedirect",_.config.apiKey,_.name)}function ks(_,f,g){return function Vu(_,f,g){return b.apply(this,arguments)}(_,f,g)}function b(){return(b=(0,u.Z)(function*(_,f,g){const y=jn(_);we(_,f,yi),yield y._initializationPromise;const T=Ao(y,g);return yield Al(T,y),T._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function w(_,f,g){return function A(_,f,g){return V.apply(this,arguments)}(_,f,g)}function V(){return(V=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_);we(y.auth,f,yi),yield y.auth._initializationPromise;const T=Ao(y.auth,g);yield Al(T,y.auth);const x=yield ft(y);return T._openRedirect(y.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Y(_,f,g){return function ie(_,f,g){return Ce.apply(this,arguments)}(_,f,g)}function Ce(){return(Ce=(0,u.Z)(function*(_,f,g){const y=(0,B.m9)(_);we(y.auth,f,yi),yield y.auth._initializationPromise;const T=Ao(y.auth,g);yield ms(!1,y,f.providerId),yield Al(T,y.auth);const x=yield ft(y);return T._openRedirect(y.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Ge(_,f){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(_,f){return yield jn(_)._initializationPromise,Xe(_,f,!1)})).apply(this,arguments)}function Xe(_,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(_,f,g=!1){const y=jn(_),T=Ao(y,f),X=yield new ad(y,T,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield y._persistUserIfCurrent(X.user),yield y._setRedirectUser(null,f)),X})).apply(this,arguments)}function ft(_){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(_){const f=Ci(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Br{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function hr(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qt(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!Qt(f)){const T=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(Me(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fs(f))}saveEventToCache(f){this.cachedEventUids.add(Fs(f)),this.lastProcessedEventTime=Date.now()}}function Fs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Qt({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function ci(_){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(_,f={}){return et(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sh=/^https?/;function ir(){return(ir=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield ci(_);for(const g of f)try{if(Hu(g))return}catch{}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Hu(_){const f=Pe(),{protocol:g,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===y}if(!Sh.test(g))return!1;if(Bu.test(_))return y===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const $u=new st(3e4,6e4);function Bp(){const _=fn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Kr=null;function Dr(_){return Kr=Kr||function ts(_){return new Promise((f,g)=>{var y,T,x;function X(){Bp(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bp(),g(Me(_,"network-request-failed"))},timeout:$u.get()})}if(null!==(T=null===(y=fn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(x=fn().gapi)||void 0===x||!x.load){const Ee=bi("iframefcb");return fn()[Ee]=()=>{gapi.load?X():g(Me(_,"network-request-failed"))},Ns(`https://apis.google.com/js/api.js?onload=${Ee}`).catch($e=>g($e))}X()}}).catch(f=>{throw Kr=null,f})}(_),Kr}const Ls=new st(5e3,15e3),Mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ph(_){const f=_.config;Q(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?wt(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,y={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=Rh.get(_.config.apiHost);T&&(y.eid=T);const x=_._getFrameworks();return x.length&&(y.fw=x.join(",")),`${g}?${(0,B.xO)(y).slice(1)}`}function La(){return La=(0,u.Z)(function*(_){const f=yield Dr(_),g=fn().gapi;return Q(g,_,"internal-error"),f.open({where:document.body,url:Ph(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mh,dontclear:!0},y=>new Promise(function(){var T=(0,u.Z)(function*(x,X){yield y.restyle({setHideOnLeave:!1});const Ee=Me(_,"network-request-failed"),$e=fn().setTimeout(()=>{X(Ee)},Ls.get());function nt(){fn().clearTimeout($e),x(y)}y.ping(nt).then(nt,()=>{X(Ee)})});return function(x,X){return T.apply(this,arguments)}}()))}),La.apply(this,arguments)}const Mt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kh(_,f,g,y,T,x){Q(_.config.authDomain,_,"auth-domain-config-required"),Q(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:P.SDK_VERSION,eventId:T};if(f instanceof yi){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[$e,nt]of Object.entries(x||{}))X[$e]=nt}if(f instanceof Vo){const $e=f.getScopes().filter(nt=>""!==nt);$e.length>0&&(X.scopes=$e.join(","))}_.tenantId&&(X.tid=_.tenantId);const Ee=X;for(const $e of Object.keys(Ee))void 0===Ee[$e]&&delete Ee[$e];return`${function Yn({config:_}){return _.emulator?wt(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(Ee).slice(1)}`}const Ki="webStorageSupport",Tr=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aa,this._completeRedirectFn=Xe,this._overrideRedirectResult=Zi}_openPopup(f,g,y,T){var x=this;return(0,u.Z)(function*(){var X;ge(null===(X=x.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Ee=kh(f,g,y,Pe(),T);return function Ti(_,f,g,y=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-y)/2,0).toString();let Ee="";const $e=Object.assign(Object.assign({},Mt),{width:y.toString(),height:T.toString(),top:x,left:X}),nt=(0,B.z$)().toLowerCase();g&&(Ee=J(nt)?"_blank":g),N(nt)&&(f=f||"http://localhost",$e.scrollbars="yes");const Rt=Object.entries($e).reduce((Yr,[rs,Zu])=>`${Yr}${rs}=${Zu},`,"");if(function an(_=(0,B.z$)()){var f;return At(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(nt)&&"_self"!==Ee)return function ju(_,f){const g=document.createElement("a");g.href=_,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",Ee),new Oh(null);const Jt=window.open(f||"",Ee,Rt);Q(Jt,_,"popup-blocked");try{Jt.focus()}catch{}return new Oh(Jt)}(f,Ee,Ci())})()}_openRedirect(f,g,y,T){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(f),function ji(_){fn().location.href=_}(kh(f,g,y,Pe(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:x}=this.eventManagers[g];return T?Promise.resolve(T):(ge(x,"If manager is not set, promise should be"),x)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const y=yield function cd(_){return La.apply(this,arguments)}(f),T=new Br(f);return y.register("authEvent",x=>(Q(x?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=y,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ki,{type:Ki},T=>{var x;const X=null===(x=T?.[0])||void 0===x?void 0:x[Ki];void 0!==X&&g(!!X),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function So(_){return ir.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return $n()||R()||At()}};class Gu{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return ae("unexpected MultiFactorSessionType")}}}class Rl extends Gu{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Rl(f)}_finalizeEnroll(f,g,y){return function Ir(_,f){return et(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(_,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function td(_,f){return et(_,"POST","/v2/accounts/mfaSignIn:finalize",Ct(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dd=(()=>{class _{constructor(){}static assertion(g){return Rl._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Pl="@firebase/auth";class Ot{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function $p(_){(0,P._registerComponent)(new se.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:x,authDomain:X}=y.options;return((Ee,$e)=>{Q(x&&!x.includes(":"),"invalid-api-key",{appName:Ee.name}),Q(!X?.includes(":"),"argument-error",{appName:Ee.name});const nt={apiKey:x,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ko(_)},Rt=new ll(Ee,$e,nt);return function re(_,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(q);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(Rt,g),Rt})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new se.wA("auth-internal",f=>{const g=jn(f.getProvider("auth").getImmediate());return new Ot(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Pl,"0.22.0",function Ha(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Pl,"0.22.0","esm2017")}("Browser")},2090:(Ye,be,k)=>{k.d(be,{$s:()=>rt,BH:()=>we,DV:()=>vr,Dv:()=>Cn,GJ:()=>Gr,L:()=>ce,LL:()=>Nn,P0:()=>Te,Pz:()=>Ae,Sg:()=>Fe,UG:()=>ge,UI:()=>Wt,US:()=>se,Wj:()=>Mr,Wl:()=>ii,Yr:()=>Je,ZB:()=>K,ZR:()=>xt,aH:()=>Me,b$:()=>le,cI:()=>sr,dS:()=>Rr,eu:()=>st,g5:()=>P,gK:()=>Hn,gQ:()=>ar,h$:()=>ue,hl:()=>$t,hu:()=>B,jU:()=>Z,lb:()=>vt,m9:()=>bn,ne:()=>dt,p$:()=>G,pd:()=>vn,r3:()=>yn,ru:()=>q,tV:()=>$,uI:()=>ae,ug:()=>It,vZ:()=>Bn,w1:()=>Pe,w9:()=>fi,xO:()=>Zn,xb:()=>Sr,z$:()=>Q,zI:()=>wt,zd:()=>Sn});const B=function(j,H){if(!j)throw P(H)},P=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},ne=function(j){const H=[];let O=0;for(let N=0;N<j.length;N++){let R=j.charCodeAt(N);R<128?H[O++]=R:R<2048?(H[O++]=R>>6|192,H[O++]=63&R|128):55296==(64512&R)&&N+1<j.length&&56320==(64512&j.charCodeAt(N+1))?(R=65536+((1023&R)<<10)+(1023&j.charCodeAt(++N)),H[O++]=R>>18|240,H[O++]=R>>12&63|128,H[O++]=R>>6&63|128,H[O++]=63&R|128):(H[O++]=R>>12|224,H[O++]=R>>6&63|128,H[O++]=63&R|128)}return H},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,H){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const O=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let R=0;R<j.length;R+=3){const J=j[R],pe=R+1<j.length,Be=pe?j[R+1]:0,Ue=R+2<j.length,at=Ue?j[R+2]:0;let an=(15&Be)<<2|at>>6,lt=63&at;Ue||(lt=64,pe||(an=64)),N.push(O[J>>2],O[(3&J)<<4|Be>>4],O[an],O[lt])}return N.join("")},encodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(j):this.encodeByteArray(ne(j),H)},decodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(j):function(j){const H=[];let O=0,N=0;for(;O<j.length;){const R=j[O++];if(R<128)H[N++]=String.fromCharCode(R);else if(R>191&&R<224){const J=j[O++];H[N++]=String.fromCharCode((31&R)<<6|63&J)}else if(R>239&&R<365){const Ue=((7&R)<<18|(63&j[O++])<<12|(63&j[O++])<<6|63&j[O++])-65536;H[N++]=String.fromCharCode(55296+(Ue>>10)),H[N++]=String.fromCharCode(56320+(1023&Ue))}else{const J=j[O++],pe=j[O++];H[N++]=String.fromCharCode((15&R)<<12|(63&J)<<6|63&pe)}}return H.join("")}(this.decodeStringToByteArray(j,H))},decodeStringToByteArray(j,H){this.init_();const O=H?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let R=0;R<j.length;){const J=O[j.charAt(R++)],Be=R<j.length?O[j.charAt(R)]:0;++R;const at=R<j.length?O[j.charAt(R)]:64;++R;const _t=R<j.length?O[j.charAt(R)]:64;if(++R,null==J||null==Be||null==at||null==_t)throw new he;N.push(J<<2|Be>>4),64!==at&&(N.push(Be<<4&240|at>>2),64!==_t&&N.push(at<<6&192|_t))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(j){const H=ne(j);return se.encodeByteArray(H,!0)},ce=function(j){return ue(j).replace(/\./g,"")},$=function(j){try{return se.decodeString(j,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function G(j){return K(void 0,j)}function K(j,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return H}for(const O in H)!H.hasOwnProperty(O)||!Ne(O)||(j[O]=K(j[O],H[O]));return j}function Ne(j){return"__proto__"!==j}const ve=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=j&&$(j[1]);return H&&JSON.parse(H)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Te=j=>{const H=(j=>{var H,O;return null===(O=null===(H=ve())||void 0===H?void 0:H.emulatorHosts)||void 0===O?void 0:O[j]})(j);if(!H)return;const O=H.lastIndexOf(":");if(O<=0||O+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const N=parseInt(H.substring(O+1),10);return"["===H[0]?[H.substring(1,O-1),N]:[H.substring(0,O),N]},Me=()=>{var j;return null===(j=ve())||void 0===j?void 0:j.config},Ae=j=>{var H;return null===(H=ve())||void 0===H?void 0:H[`_${j}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,O)=>{this.resolve=H,this.reject=O})}wrapCallback(H){return(O,N)=>{O?this.reject(O):this.resolve(N),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(O):H(O,N))}}}function Fe(j,H){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=H||"demo-project",R=j.iat||0,J=j.sub||j.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pe=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:R,exp:R+3600,auth_time:R,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(pe)),""].join(".")}function Q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function ge(){var j;const H=null===(j=ve())||void 0===j?void 0:j.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function q(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const j=Q();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Je(){return!1}function $t(){try{return"object"==typeof indexedDB}catch{return!1}}function st(){return new Promise((j,H)=>{try{let O=!0;const N="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(N);R.onsuccess=()=>{R.result.close(),O||self.indexedDB.deleteDatabase(N),j(!0)},R.onupgradeneeded=()=>{O=!1},R.onerror=()=>{var J;H((null===(J=R.error)||void 0===J?void 0:J.message)||"")}}catch(O){H(O)}})}function wt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xt extends Error{constructor(H,O,N){super(O),this.code=H,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nn.prototype.create)}}class Nn{constructor(H,O,N){this.service=H,this.serviceName=O,this.errors=N}create(H,...O){const N=O[0]||{},R=`${this.service}/${H}`,J=this.errors[H],pe=J?function Ct(j,H){return j.replace(et,(O,N)=>{const R=H[N];return null!=R?String(R):`<${N}?>`})}(J,N):"Error";return new xt(R,`${this.serviceName}: ${pe} (${R}).`,N)}}const et=/\{\$([^}]+)}/g;function sr(j){return JSON.parse(j)}function ii(j){return JSON.stringify(j)}const _n=function(j){let H={},O={},N={},R="";try{const J=j.split(".");H=sr($(J[0])||""),O=sr($(J[1])||""),R=J[2],N=O.d||{},delete O.d}catch{}return{header:H,claims:O,data:N,signature:R}},fi=function(j){const O=_n(j).claims;return!!O&&"object"==typeof O&&O.hasOwnProperty("iat")},Gr=function(j){const H=_n(j).claims;return"object"==typeof H&&!0===H.admin};function yn(j,H){return Object.prototype.hasOwnProperty.call(j,H)}function vr(j,H){if(Object.prototype.hasOwnProperty.call(j,H))return j[H]}function Sr(j){for(const H in j)if(Object.prototype.hasOwnProperty.call(j,H))return!1;return!0}function Wt(j,H,O){const N={};for(const R in j)Object.prototype.hasOwnProperty.call(j,R)&&(N[R]=H.call(O,j[R],R,j));return N}function Bn(j,H){if(j===H)return!0;const O=Object.keys(j),N=Object.keys(H);for(const R of O){if(!N.includes(R))return!1;const J=j[R],pe=H[R];if(je(J)&&je(pe)){if(!Bn(J,pe))return!1}else if(J!==pe)return!1}for(const R of N)if(!O.includes(R))return!1;return!0}function je(j){return null!==j&&"object"==typeof j}function Zn(j){const H=[];for(const[O,N]of Object.entries(j))Array.isArray(N)?N.forEach(R=>{H.push(encodeURIComponent(O)+"="+encodeURIComponent(R))}):H.push(encodeURIComponent(O)+"="+encodeURIComponent(N));return H.length?"&"+H.join("&"):""}function Sn(j){const H={};return j.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[R,J]=N.split("=");H[decodeURIComponent(R)]=decodeURIComponent(J)}}),H}function vn(j){const H=j.indexOf("?");if(!H)return"";const O=j.indexOf("#",H);return j.substring(H,O>0?O:void 0)}class ar{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,O){O||(O=0);const N=this.W_;if("string"==typeof H)for(let _t=0;_t<16;_t++)N[_t]=H.charCodeAt(O)<<24|H.charCodeAt(O+1)<<16|H.charCodeAt(O+2)<<8|H.charCodeAt(O+3),O+=4;else for(let _t=0;_t<16;_t++)N[_t]=H[O]<<24|H[O+1]<<16|H[O+2]<<8|H[O+3],O+=4;for(let _t=16;_t<80;_t++){const an=N[_t-3]^N[_t-8]^N[_t-14]^N[_t-16];N[_t]=4294967295&(an<<1|an>>>31)}let at,At,R=this.chain_[0],J=this.chain_[1],pe=this.chain_[2],Be=this.chain_[3],Ue=this.chain_[4];for(let _t=0;_t<80;_t++){_t<40?_t<20?(at=Be^J&(pe^Be),At=1518500249):(at=J^pe^Be,At=1859775393):_t<60?(at=J&pe|Be&(J|pe),At=2400959708):(at=J^pe^Be,At=3395469782);const an=(R<<5|R>>>27)+at+Ue+At+N[_t]&4294967295;Ue=Be,Be=pe,pe=4294967295&(J<<30|J>>>2),J=R,R=an}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+J&4294967295,this.chain_[2]=this.chain_[2]+pe&4294967295,this.chain_[3]=this.chain_[3]+Be&4294967295,this.chain_[4]=this.chain_[4]+Ue&4294967295}update(H,O){if(null==H)return;void 0===O&&(O=H.length);const N=O-this.blockSize;let R=0;const J=this.buf_;let pe=this.inbuf_;for(;R<O;){if(0===pe)for(;R<=N;)this.compress_(H,R),R+=this.blockSize;if("string"==typeof H){for(;R<O;)if(J[pe]=H.charCodeAt(R),++pe,++R,pe===this.blockSize){this.compress_(J),pe=0;break}}else for(;R<O;)if(J[pe]=H[R],++pe,++R,pe===this.blockSize){this.compress_(J),pe=0;break}}this.inbuf_=pe,this.total_+=O}digest(){const H=[];let O=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&O,O/=256;this.compress_(this.buf_);let N=0;for(let R=0;R<5;R++)for(let J=24;J>=0;J-=8)H[N]=this.chain_[R]>>J&255,++N;return H}}function dt(j,H){const O=new Qe(j,H);return O.subscribe.bind(O)}class Qe{constructor(H,O){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=O,this.task.then(()=>{H(this)}).catch(N=>{this.error(N)})}next(H){this.forEachObserver(O=>{O.next(H)})}error(H){this.forEachObserver(O=>{O.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,O,N){let R;if(void 0===H&&void 0===O&&void 0===N)throw new Error("Missing Observer.");R=function Zt(j,H){if("object"!=typeof j||null===j)return!1;for(const O of H)if(O in j&&"function"==typeof j[O])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:O,complete:N},void 0===R.next&&(R.next=dn),void 0===R.error&&(R.error=dn),void 0===R.complete&&(R.complete=dn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),J}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let O=0;O<this.observers.length;O++)this.sendOne(O,H)}sendOne(H,O){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{O(this.observers[H])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const Cn=function(j,H,O,N){let R;if(N<H?R="at least "+H:N>O&&(R=0===O?"none":"no more than "+O),R)throw new Error(j+" failed: Was called with "+N+(1===N?" argument.":" arguments.")+" Expects "+R+".")};function Hn(j,H){return`${j} failed: ${H} argument `}function Mr(j,H,O,N){if((!N||O)&&"function"!=typeof O)throw new Error(Hn(j,H)+"must be a valid function.")}function vt(j,H,O,N){if((!N||O)&&("object"!=typeof O||null===O))throw new Error(Hn(j,H)+"must be a valid context object.")}const Rr=function(j){const H=[];let O=0;for(let N=0;N<j.length;N++){let R=j.charCodeAt(N);if(R>=55296&&R<=56319){const J=R-55296;N++,B(N<j.length,"Surrogate pair missing trail surrogate."),R=65536+(J<<10)+(j.charCodeAt(N)-56320)}R<128?H[O++]=R:R<2048?(H[O++]=R>>6|192,H[O++]=63&R|128):R<65536?(H[O++]=R>>12|224,H[O++]=R>>6&63|128,H[O++]=63&R|128):(H[O++]=R>>18|240,H[O++]=R>>12&63|128,H[O++]=R>>6&63|128,H[O++]=63&R|128)}return H},It=function(j){let H=0;for(let O=0;O<j.length;O++){const N=j.charCodeAt(O);N<128?H++:N<2048?H+=2:N>=55296&&N<=56319?(H+=4,O++):H+=3}return H};function rt(j,H=1e3,O=2){const N=H*Math.pow(O,j),R=Math.round(.5*N*(Math.random()-.5)*2);return Math.min(144e5,N+R)}function bn(j){return j&&j._delegate?j._delegate:j}},6212:(Ye,be,k)=>{var u=k(4650);let B=null;function P(){return B}class oe{}const se=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ue(){return(0,u.LFG)($)}()},providedIn:"platform"}),n})();const ce=new u.OlP("Location Initialized");let $=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const o=P().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=P().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,o,a){G()?this._history.pushState(e,o,a):this._location.hash=a}replaceState(e,o,a){G()?this._history.replaceState(e,o,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function K(){return new $((0,u.LFG)(se))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function Ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let ze=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(ve)},providedIn:"root"}),n})();const de=new u.OlP("appBaseHref");let ve=(()=>{class n extends ze{constructor(e,o){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Le(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${o}${a}`:o}pushState(e,o,a,d){const p=this.prepareExternalUrl(a+Le(d));this._platformLocation.pushState(e,o,p)}replaceState(e,o,a,d){const p=this.prepareExternalUrl(a+Le(d));this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ye=(()=>{class n extends ze{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=Ne(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,a,d){let p=this.prepareExternalUrl(a+Le(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,o,p)}replaceState(e,o,a,d){let p=this.prepareExternalUrl(a+Le(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(de,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const o=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ie(we(o))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Le(o))}normalize(e){return n.stripTrailingSlash(function Ae(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._basePath,we(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",a=null){this._locationStrategy.pushState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(o)),a)}replaceState(e,o="",a=null){this._locationStrategy.replaceState(a,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(o)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(a=>a(e,o))}subscribe(e,o,a){return this._subject.subscribe({next:e,error:o,complete:a})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ne,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(u.LFG(ze))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Me(){return new Te((0,u.LFG)(ze))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}function Xn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const o=e.indexOf("="),[a,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}class er{constructor(t,e,o,a){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zr=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,a){this._viewContainer=e,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new er(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const C=o.get(d);o.move(C,p),Mn(C,a)}});for(let a=0,d=o.length;a<d;a++){const C=o.get(a).context;C.index=a,C.count=d,C.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Mn(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Mn(n,t){n.context.$implicit=t.item}let qt=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new na,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class na{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}let Vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let ho=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new fo((0,u.LFG)(se),window)}),n})();class fo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function da(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}a=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=po(this.window.history)||po(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function po(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go{}class bh extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yo extends bh{static makeCurrent(){!function ne(n){B||(B=n)}(new yo)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wo(){return Hi=Hi||document.querySelector("base"),Hi?Hi.getAttribute("href"):null}();return null==e?null:function Ou(n){$i=$i||document.createElement("a"),$i.setAttribute("href",n);const t=$i.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xn(document.cookie,t)}}let $i,Hi=null;const vo=new u.OlP("TRANSITION_ID"),Eo=[{provide:u.ip1,useFactory:function Co(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const o=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)o.remove(a[d])})}},deps:[vo,se,u.zs3],multi:!0}];let wh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ts=new u.OlP("EventManagerPlugins");let Ta=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,a){return this._findPluginFor(o).addEventListener(e,o,a)}addGlobalEventListener(e,o,a){return this._findPluginFor(o).addGlobalEventListener(e,o,a)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ts),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Qc{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,o)}}let Aa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),o.add(a))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),As=(()=>{class n extends Aa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,a){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(o.appendChild(p))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Jc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,a)=>{this._addStylesToHost(e,a,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Jc))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Jc(n){P().remove(n)}const Ci={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Go=/%COMP%/g;function Zo(n,t){return t.flat(100).map(e=>e.replace(Go,n))}function bo(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let qo=(()=>{class n{constructor(e,o,a){this.eventManager=e,this.sharedStylesHost=o,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new wo(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case u.ifc.Emulated:{let a=this.rendererByCompId.get(o.id);return a||(a=new kr(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,a)),a.applyToHost(e),a}case u.ifc.ShadowDom:return new wl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const a=Zo(o.id,o.styles);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ta),u.LFG(As),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ci[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ms(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(Ms(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,a){if(a){e=a+":"+e;const d=Ci[a];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const a=Ci[o];a?t.removeAttributeNS(a,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,o,a&u.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,bo(o)):this.eventManager.addEventListener(t,e,bo(o))}}function Ms(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kr extends wo{constructor(t,e,o,a){super(t),this.component=o;const d=Zo(a+"-"+o.id,o.styles);e.addStyles(d),this.contentAttr=function zo(n){return"_ngcontent-%COMP%".replace(Go,n)}(a+"-"+o.id),this.hostAttr=function Xc(n){return"_nghost-%COMP%".replace(Go,n)}(a+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class wl extends wo{constructor(t,e,o,a){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Zo(a.id,a.styles);for(let p=0;p<d.length;p++){const C=document.createElement("style");C.textContent=d[p],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Io=(()=>{class n extends Qc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,a){return e.addEventListener(o,a,!1),()=>this.removeEventListener(e,o,a)}removeEventListener(e,o,a){return e.removeEventListener(o,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ko=["alt","control","meta","shift"],Ma={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Do={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rs=(()=>{class n extends Qc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,a){const d=n.parseEventName(o),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const o=e.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(o.pop());let p="",C=o.indexOf("code");if(C>-1&&(o.splice(C,1),p="code."),Ko.forEach(S=>{const U=o.indexOf(S);U>-1&&(o.splice(U,1),p+=S+".")}),p+=d,0!=o.length||0===d.length)return null;const I={};return I.domEventName=a,I.fullKey=p,I}static matchEventFullKeyCode(e,o){let a=Ma[e.key]||e.key,d="";return o.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ko.forEach(p=>{p!==a&&(0,Do[p])(e)&&(d+=p+".")}),d+=a,d===o)}static eventCallback(e,o,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Os=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function td(){yo.makeCurrent()},multi:!0},{provide:se,useFactory:function Wi(){return(0,u.RDi)(document),document},deps:[]}]),Ns=new u.OlP(""),bi=[{provide:u.rWj,useClass:class Yc{addToWindow(t){u.dqk.getAngularTestability=(o,a=!0)=>{const d=t.findTestabilityInTree(o,a);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(o=>{const a=u.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const C=function(I){p=p||I,d--,0==d&&o(p)};a.forEach(function(I){I.whenStable(C)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ui=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Fr(){return new u.qLn},deps:[]},{provide:Ts,useClass:Io,multi:!0,deps:[se,u.R0b,u.Lbi]},{provide:Ts,useClass:Rs,multi:!0,deps:[se]},{provide:qo,useClass:qo,deps:[Ta,As,u.AFp]},{provide:u.FYo,useExisting:qo},{provide:Aa,useExisting:As},{provide:As,useClass:As,deps:[se]},{provide:Ta,useClass:Ta,deps:[Ts,u.R0b]},{provide:go,useClass:wh,deps:[]},[]];let Oa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:vo,useExisting:u.AFp},Eo]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ns,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ui,...bi],imports:[Vi,u.hGG]}),n})(),wi=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let o=null;return o=e?new e:function xu(){return new wi((0,u.LFG)(se))}(),o},providedIn:"root"}),n})();typeof window<"u"&&window;var Yt=k(8996),Un=k(7669);function qe(...n){const t=(0,Un.yG)(n);return(0,Yt.D)(n,t)}var Lr=k(7579);class Ur extends Lr.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}const Ii=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var nr=k(9751);const{isArray:ad}=Array,{getPrototypeOf:ld,prototype:Di,keys:Al}=Object;function Vr(n){if(1===n.length){const t=n[0];if(ad(t))return{args:t,keys:null};if(function Sl(n){return n&&"object"==typeof n&&ld(n)===Di}(t)){const e=Al(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:n,keys:null}}var Zi=k(4671),it=k(4004);const{isArray:Ml}=Array;function Vu(n){return(0,it.U)(t=>function ks(n,t){return Ml(t)?n(...t):n(t)}(n,t))}function b(n,t){return n.reduce((e,o,a)=>(e[o]=t[a],e),{})}var w=k(5403),A=k(9672);function V(...n){const t=(0,Un.yG)(n),e=(0,Un.jO)(n),{args:o,keys:a}=Vr(n);if(0===o.length)return(0,Yt.D)([],t);const d=new nr.y(function Y(n,t,e=Zi.y){return o=>{ie(t,()=>{const{length:a}=n,d=new Array(a);let p=a,C=a;for(let I=0;I<a;I++)ie(t,()=>{const S=(0,Yt.D)(n[I],t);let U=!1;S.subscribe((0,w.x)(o,W=>{d[I]=W,U||(U=!0,C--),C||o.next(e(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,t,a?p=>b(a,p):Zi.y));return e?d.pipe(Vu(e)):d}function ie(n,t,e){n?(0,A.f)(e,n,t):t()}var Ce=k(8189);function Ke(...n){return function Ge(){return(0,Ce.J)(1)}()((0,Yt.D)(n,(0,Un.yG)(n)))}var Xe=k(8421);function Dt(n){return new nr.y(t=>{(0,Xe.Xf)(n()).subscribe(t)})}var ft=k(9635),rr=k(576);function pn(n,t){const e=(0,rr.m)(n)?n:()=>n,o=a=>a.error(e());return new nr.y(t?a=>t.schedule(o,0,a):o)}var Br=k(515),Fs=k(727),Qt=k(4482);function hr(){return(0,Qt.e)((n,t)=>{let e=null;n._refCount++;const o=(0,w.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}class ci extends nr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Qt.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Fs.w0;const e=this.getSubject();t.add(this.source.subscribe((0,w.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Fs.w0.EMPTY)}return t}refCount(){return hr()(this)}}function nn(n,t){return(0,Qt.e)((e,o)=>{let a=null,d=0,p=!1;const C=()=>p&&!a&&o.complete();e.subscribe((0,w.x)(o,I=>{a?.unsubscribe();let S=0;const U=d++;(0,Xe.Xf)(n(I,U)).subscribe(a=(0,w.x)(o,W=>o.next(t?t(I,W,U,S++):W),()=>{a=null,C()}))},()=>{p=!0,C()}))})}function Bu(n){return n<=0?()=>Br.E:(0,Qt.e)((t,e)=>{let o=0;t.subscribe((0,w.x)(e,a=>{++o<=n&&(e.next(a),n<=o&&e.complete())}))})}function So(n,t){return(0,Qt.e)((e,o)=>{let a=0;e.subscribe((0,w.x)(o,d=>n.call(t,d,a++)&&o.next(d)))})}var ir=k(5577);function Hu(n){return(0,Qt.e)((t,e)=>{let o=!1;t.subscribe((0,w.x)(e,a=>{o=!0,e.next(a)},()=>{o||e.next(n),e.complete()}))})}function $u(n=Bp){return(0,Qt.e)((t,e)=>{let o=!1;t.subscribe((0,w.x)(e,a=>{o=!0,e.next(a)},()=>o?e.complete():e.error(n())))})}function Bp(){return new Ii}function ts(n,t){const e=arguments.length>=2;return o=>o.pipe(n?So((a,d)=>n(a,d,o)):Zi.y,Bu(1),e?Hu(t):$u(()=>new Ii))}function Kr(n,t){return(0,rr.m)(t)?(0,ir.z)(n,t,1):(0,ir.z)(n,1)}var Dr=k(8505);function Ls(n){return(0,Qt.e)((t,e)=>{let d,o=null,a=!1;o=t.subscribe((0,w.x)(e,void 0,void 0,p=>{d=(0,Xe.Xf)(n(p,Ls(n)(t))),o?(o.unsubscribe(),o=null,d.subscribe(e)):a=!0})),a&&(o.unsubscribe(),o=null,d.subscribe(e))})}function dy(n,t,e,o,a){return(d,p)=>{let C=e,I=t,S=0;d.subscribe((0,w.x)(p,U=>{const W=S++;I=C?n(I,U,W):(C=!0,U),o&&p.next(I)},a&&(()=>{C&&p.next(I),p.complete()})))}}function ud(n,t){return(0,Qt.e)(dy(n,t,arguments.length>=2,!0))}function Mh(n){return n<=0?()=>Br.E:(0,Qt.e)((t,e)=>{let o=[];t.subscribe((0,w.x)(e,a=>{o.push(a),n<o.length&&o.shift()},()=>{for(const a of o)e.next(a);e.complete()},void 0,()=>{o=null}))})}function Rh(n,t){const e=arguments.length>=2;return o=>o.pipe(n?So((a,d)=>n(a,d,o)):Zi.y,Mh(1),e?Hu(t):$u(()=>new Ii))}function La(n){return(0,Qt.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Mt="primary",Ua=Symbol("RouteTitle");class qi{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Va(n){return new qi(n)}function Hp(n,t,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<n.length))return null;const a={};for(let d=0;d<o.length;d++){const p=o[d],C=n[d];if(p.startsWith(":"))a[p.substring(1)]=C;else if(p!==C.path)return null}return{consumed:n.slice(0,o.length),posParams:a}}function Ti(n,t){const e=n?Object.keys(n):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!ju(n[a],t[a]))return!1;return!0}function ju(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),o=[...t].sort();return e.every((a,d)=>o[d]===a)}return n===t}function Nh(n){return Array.prototype.concat.apply([],n)}function xh(n){return n.length>0?n[n.length-1]:null}function Yn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ki(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Yt.D)(Promise.resolve(n)):qe(n)}const Wu=!1,Tr={exact:function fr(n,t,e){if(!ns(n.segments,t.segments)||!Pl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!n.children[o]||!fr(n.children[o],t.children[o],e))return!1;return!0},subset:zu},Gu={exact:function dd(n,t){return Ti(n,t)},subset:function Us(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ju(n[e],t[e]))},ignored:()=>!0};function Rl(n,t,e){return Tr[e.paths](n.root,t.root,e.matrixParams)&&Gu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zu(n,t,e){return Ba(n,t,t.segments,e)}function Ba(n,t,e,o){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!ns(a,e)||t.hasChildren()||!Pl(a,e,o))}if(n.segments.length===e.length){if(!ns(n.segments,e)||!Pl(n.segments,e,o))return!1;for(const a in t.children)if(!n.children[a]||!zu(n.children[a],t.children[a],o))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(ns(n.segments,a)&&Pl(n.segments,a,o)&&n.children[Mt])&&Ba(n.children[Mt],t,d,o)}}function Pl(n,t,e){return t.every((o,a)=>Gu[e](n[a].parameters,o.parameters))}class Mo{constructor(t=new Ot([],{}),e={},o=null){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return Fh.serialize(this)}}class Ot{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yn(e,(o,a)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _(this)}}class Ha{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Va(this.parameters)),this._parameterMap}toString(){return $e(this)}}function ns(n,t){return n.length===t.length&&n.every((e,o)=>e.path===t[o].path)}let $a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Ol},providedIn:"root"}),n})();class Ol{parse(t){const e=new Uh(t);return new Mo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${f(t.root,!0)}`,o=function Rt(n){const t=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(a=>`${y(e)}=${y(a)}`).join("&"):`${y(e)}=${y(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function T(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Fh=new Ol;function _(n){return n.segments.map(t=>$e(t)).join("/")}function f(n,t){if(!n.hasChildren())return _(n);if(t){const e=n.children[Mt]?f(n.children[Mt],!1):"",o=[];return Yn(n.children,(a,d)=>{d!==Mt&&o.push(`${d}:${f(a,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function jp(n,t){let e=[];return Yn(n.children,(o,a)=>{a===Mt&&(e=e.concat(t(o,a)))}),Yn(n.children,(o,a)=>{a!==Mt&&(e=e.concat(t(o,a)))}),e}(n,(o,a)=>a===Mt?[f(n.children[Mt],!1)]:[`${a}:${f(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${_(n)}/${e[0]}`:`${_(n)}/(${e.join("//")})`}}function g(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function y(n){return g(n).replace(/%3B/gi,";")}function x(n){return g(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(n){return decodeURIComponent(n)}function Ee(n){return X(n.replace(/\+/g,"%20"))}function $e(n){return`${x(n.path)}${function nt(n){return Object.keys(n).map(t=>`;${x(t)}=${x(n[t])}`).join("")}(n.parameters)}`}const Jt=/^[^\/()?;=#]+/;function Yr(n){const t=n.match(Jt);return t?t[0]:""}const rs=/^[^=?&#]+/,Lh=/^[^&#]+/;class Uh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Mt]=new Ot(t,e)),o}parseSegment(){const t=Yr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,Wu);return this.capture(t),new Ha(X(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Yr(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const a=Yr(this.remaining);a&&(o=a,this.capture(o))}t[X(e)]=X(o)}parseQueryParam(t){const e=function Zu(n){const t=n.match(rs);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const p=function hd(n){const t=n.match(Lh);return t?t[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const a=Ee(e),d=Ee(o);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Yr(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,Wu);let d;o.indexOf(":")>-1?(d=o.slice(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Mt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[Mt]:new Ot([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,Wu)}}function Nl(n){return n.segments.length>0?new Ot([],{[Mt]:n}):n}function is(n){const t={};for(const o of Object.keys(n.children)){const d=is(n.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function fd(n){if(1===n.numberOfChildren&&n.children[Mt]){const t=n.children[Mt];return new Ot(n.segments.concat(t.segments),t.children)}return n}(new Ot(n.segments,t))}function Yi(n){return n instanceof Mo}function Vs(n,t,e,o,a){if(0===e.length)return Qu(t.root,t.root,t.root,o,a);const d=function hy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pd(!0,0,n);let t=0,e=!1;const o=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const C={};return Yn(d.outlets,(I,S)=>{C[S]="string"==typeof I?I.split("/"):I}),[...a,{outlets:C}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((C,I)=>{0==I&&"."===C||(0==I&&""===C?e=!0:".."===C?t++:""!=C&&a.push(C))}),a):[...a,d]},[]);return new pd(e,t,o)}(e);return d.toRoot()?Qu(t.root,t.root,new Ot([],{}),o,a):function p(I){const S=function py(n,t,e,o){if(n.isAbsolute)return new kl(t.root,!0,0);if(-1===o)return new kl(e,e===t.root,0);return function Bh(n,t,e){let o=n,a=t,d=e;for(;d>a;){if(d-=a,o=o.parent,!o)throw new u.vHH(4005,!1);a=o.segments.length}return new kl(o,!1,a-d)}(e,o+(Ku(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,I),U=S.processChildren?ja(S.segmentGroup,S.index,d.commands):Ju(S.segmentGroup,S.index,d.commands);return Qu(t.root,S.segmentGroup,U,o,a)}(n.snapshot?._lastPathIndex)}function Ku(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yu(n){return"object"==typeof n&&null!=n&&n.outlets}function Qu(n,t,e,o,a){let p,d={};o&&Yn(o,(I,S)=>{d[S]=Array.isArray(I)?I.map(U=>`${U}`):`${I}`}),p=n===t?e:J0(n,t,e);const C=Nl(is(p));return new Mo(C,d,a)}function J0(n,t,e){const o={};return Yn(n.children,(a,d)=>{o[d]=a===t?e:J0(a,t,e)}),new Ot(n.segments,o)}class pd{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Ku(o[0]))throw new u.vHH(4003,!1);const a=o.find(Yu);if(a&&a!==xh(o))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kl{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function Ju(n,t,e){if(n||(n=new Ot([],{})),0===n.segments.length&&n.hasChildren())return ja(n,t,e);const o=function my(n,t,e){let o=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(o>=e.length)return d;const p=n.segments[a],C=e[o];if(Yu(C))break;const I=`${C}`,S=o<e.length-1?e[o+1]:null;if(a>0&&void 0===I)break;if(I&&S&&"object"==typeof S&&void 0===S.outlets){if(!Xu(I,S,p))return d;o+=2}else{if(!Xu(I,{},p))return d;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(n,t,e),a=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const d=new Ot(n.segments.slice(0,o.pathIndex),{});return d.children[Mt]=new Ot(n.segments.slice(o.pathIndex),n.children),ja(d,0,a)}return o.match&&0===a.length?new Ot(n.segments,{}):o.match&&!n.hasChildren()?gd(n,t,e):o.match?ja(n,0,a):gd(n,t,e)}function ja(n,t,e){if(0===e.length)return new Ot(n.segments,{});{const o=function gy(n){return Yu(n[0])?n[0].outlets:{[Mt]:n}}(e),a={};return Yn(o,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=Ju(n.children[p],t,d))}),Yn(n.children,(d,p)=>{void 0===o[p]&&(a[p]=d)}),new Ot(n.segments,a)}}function gd(n,t,e){const o=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(Yu(d)){const I=Gp(d.outlets);return new Ot(o,I)}if(0===a&&Ku(e[0])){o.push(new Ha(n.segments[t].path,Hh(e[0]))),a++;continue}const p=Yu(d)?d.outlets[Mt]:`${d}`,C=a<e.length-1?e[a+1]:null;p&&C&&Ku(C)?(o.push(new Ha(p,Hh(C))),a+=2):(o.push(new Ha(p,{})),a++)}return new Ot(o,{})}function Gp(n){const t={};return Yn(n,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=gd(new Ot([],{}),0,e))}),t}function Hh(n){const t={};return Yn(n,(e,o)=>t[o]=`${e}`),t}function Xu(n,t,e){return n==e.path&&Ti(t,e.parameters)}const md="imperative";class Ro{constructor(t,e){this.id=t,this.url=e}}class zp extends Ro{constructor(t,e,o="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fl extends Ro{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $h extends Ro{constructor(t,e,o,a){super(t,e),this.reason=o,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zp extends Ro{constructor(t,e,o,a){super(t,e),this.reason=o,this.code=a,this.type=16}}class qp extends Ro{constructor(t,e,o,a){super(t,e),this.error=o,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jh extends Ro{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kp extends Ro{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ll extends Ro{constructor(t,e,o,a,d){super(t,e),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X0 extends Ro{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eE extends Ro{constructor(t,e,o,a){super(t,e),this.urlAfterRedirects=o,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EI{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tE{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nE{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _y{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gh{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vy=(()=>{class n{createUrlTree(e,o,a,d,p,C){return Vs(e||o.root,a,d,p,C)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){return vy.\u0275fac(t)},providedIn:"root"}),n})();class Cy{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qp(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=Qp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Jp(t,this._root).map(e=>e.value)}}function Qp(n,t){if(n===t.value)return t;for(const e of t.children){const o=Qp(n,e);if(o)return o}return null}function Jp(n,t){if(n===t.value)return[t];for(const e of t.children){const o=Jp(n,e);if(o.length)return o.unshift(t),o}return[]}class Bs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ai(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ec extends Cy{constructor(t,e){super(t),this.snapshot=e,tg(this,t)}toString(){return this.snapshot.toString()}}function Ey(n,t){const e=function bI(n,t){const p=new Xp([],{},{},"",{},Mt,t,null,n.root,-1,{});return new eg("",new Bs(p,[]))}(n,t),o=new Ur([new Ha("",{})]),a=new Ur({}),d=new Ur({}),p=new Ur({}),C=new Ur(""),I=new _d(o,a,p,C,d,Mt,t,e.root);return I.snapshot=e.root,new ec(new Bs(I,[]),e)}class _d{constructor(t,e,o,a,d,p,C,I){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=C,this.title=this.data?.pipe((0,it.U)(S=>S[Ua]))??qe(void 0),this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(t=>Va(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(t=>Va(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sE(n,t="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const a=e[o],d=e[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(d.component)break;o--}}return function wI(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Xp{get title(){return this.data?.[Ua]}constructor(t,e,o,a,d,p,C,I,S,U,W){this.url=t,this.params=e,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=C,this.routeConfig=I,this._urlSegment=S,this._lastPathIndex=U,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Va(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Va(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eg extends Cy{constructor(t,e){super(e),this.url=t,tg(this,e)}toString(){return by(this._root)}}function tg(n,t){t.value._routerState=n,t.children.forEach(e=>tg(n,e))}function by(n){const t=n.children.length>0?` { ${n.children.map(by).join(", ")} } `:"";return`${n.value}${t}`}function ng(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ti(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ti(t.params,e.params)||n.params.next(e.params),function Oh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ti(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ti(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rg(n,t){const e=Ti(n.params,t.params)&&function $p(n,t){return ns(n,t)&&n.every((e,o)=>Ti(e.parameters,t[o].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||rg(n.parent,t.parent))}function Si(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const a=function yd(n,t,e){return t.children.map(o=>{for(const a of e.children)if(n.shouldReuseRoute(o.value,a.value.snapshot))return Si(n,o,a);return Si(n,o)})}(n,t,e);return new Bs(o,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(C=>Si(n,C)),p}}const o=function wy(n){return new _d(new Ur(n.url),new Ur(n.params),new Ur(n.queryParams),new Ur(n.fragment),new Ur(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Si(n,d));return new Bs(o,a)}}const zh="ngNavigationCancelingError";function og(n,t){const{redirectTo:e,navigationBehaviorOptions:o}=Yi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=aE(!1,0,t);return a.url=e,a.navigationBehaviorOptions=o,a}function aE(n,t,e){const o=new Error("NavigationCancelingError: "+(n||""));return o[zh]=!0,o.cancellationCode=t,e&&(o.url=e),o}function lE(n){return uE(n)&&Yi(n.url)}function uE(n){return n&&n[zh]}class sg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ul,this.attachRef=null}}let Ul=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,o){const a=this.getOrCreateContext(e);a.outlet=o,this.contexts.set(e,a)}onChildOutletDestroyed(e){const o=this.getContext(e);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let o=this.getContext(e);return o||(o=new sg,this.contexts.set(e,o)),o}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ag=!1;let Iy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(Ul),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(e){if(e.name){const{firstChange:o,previousValue:a}=e.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ag);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ag);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ag);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new u.vHH(4013,ag);this._activatedRoute=e;const a=this.location,p=e.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,I=new Dy(e,C,a.injector);if(o&&function cE(n){return!!n.resolveComponentFactory}(o)){const S=o.resolveComponentFactory(p);this.activated=a.createComponent(S,a.length,I)}else this.activated=a.createComponent(p,{index:a.length,injector:I,environmentInjector:o??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class Dy{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===_d?this.route:t===Ul?this.childContexts:this.parent.get(t,e)}}let lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,o){1&e&&u._UZ(0,"router-outlet")},dependencies:[Iy],encapsulation:2}),n})();function Ty(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function cg(n){const t=n.children&&n.children.map(cg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Mt&&(e.component=lg),e}function di(n){return n.outlet||Mt}function dg(n,t){const e=n.filter(o=>di(o)===t);return e.push(...n.filter(o=>di(o)!==t)),e}function Cd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class gE{constructor(t,e,o,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=a}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),ng(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const a=Ai(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],o),delete a[p]}),Yn(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const p=o.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,d=Ai(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(o&&o.outlet){const p=o.outlet.detach(),C=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:C})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),a=o&&t.value.component?o.children:e,d=Ai(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const a=Ai(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],o),this.forwardEvent(new Wh(d.value.snapshot))}),t.children.length&&this.forwardEvent(new nE(t.value.snapshot))}activateRoutes(t,e,o){const a=t.value,d=e?e.value:null;if(ng(a),a===d)if(a.component){const p=o.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,o);else if(a.component){const p=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const C=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(C.contexts),p.attachRef=C.componentRef,p.route=C.route.value,p.outlet&&p.outlet.attach(C.componentRef,C.route.value),ng(C.route.value),this.activateChildRoutes(t,null,p.children)}else{const C=Cd(a.snapshot),I=C?.get(u._Vd)??null;p.attachRef=null,p.route=a,p.resolver=I,p.injector=C,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,o)}}class Ay{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ed{constructor(t,e){this.component=t,this.route=e}}function TI(n,t,e){const o=n._root;return Vl(o,t?t._root:null,e,[o.value])}function os(n,t){const e=Symbol(),o=t.get(n,e);return o===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:o}function Vl(n,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ai(t);return n.children.forEach(p=>{(function Sy(n,t,e,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,C=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const I=function My(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ns(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ns(n.url,t.url)||!Ti(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rg(n,t)||!Ti(n.queryParams,t.queryParams);default:return!rg(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);I?a.canActivateChecks.push(new Ay(o)):(d.data=p.data,d._resolvedData=p._resolvedData),Vl(n,t,d.component?C?C.children:null:e,o,a),I&&C&&C.outlet&&C.outlet.isActivated&&a.canDeactivateChecks.push(new Ed(C.outlet.component,p))}else p&&tc(t,C,a),a.canActivateChecks.push(new Ay(o)),Vl(n,null,d.component?C?C.children:null:e,o,a)})(p,d[p.value.outlet],e,o.concat([p.value]),a),delete d[p.value.outlet]}),Yn(d,(p,C)=>tc(p,e.getContext(C),a)),a}function tc(n,t,e){const o=Ai(n),a=n.value;Yn(o,(d,p)=>{tc(d,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Ed(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function bd(n){return"function"==typeof n}function Zh(n){return n instanceof Ii||"EmptyError"===n?.name}const wd=Symbol("INITIAL_VALUE");function Qi(){return nn(n=>V(n.map(t=>t.pipe(Bu(1),function Sh(...n){const t=(0,Un.yG)(n);return(0,Qt.e)((e,o)=>{(t?Ke(n,e,t):Ke(n,e)).subscribe(o)})}(wd)))).pipe((0,it.U)(t=>{for(const e of t)if(!0!==e){if(e===wd)return wd;if(!1===e||e instanceof Mo)return e}return!0}),So(t=>t!==wd),Bu(1)))}function Ny(n){return(0,ft.z)((0,Dr.b)(t=>{if(Yi(t))throw og(0,t)}),(0,it.U)(t=>!0===t))}const Yh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hl(n,t,e,o,a){const d=yg(n,t,e);return d.matched?function vE(n,t,e,o){const a=t.canMatch;return a&&0!==a.length?qe(a.map(p=>{const C=os(p,n);return Ki(function fg(n){return n&&bd(n.canMatch)}(C)?C.canMatch(t,e):n.runInContext(()=>C(t,e)))})).pipe(Qi(),Ny()):qe(!0)}(o=Ty(t,o),t,e).pipe((0,it.U)(p=>!0===p?d:{...Yh})):qe(d)}function yg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Yh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Hp)(e,n,t);if(!a)return{...Yh};const d={};Yn(a.posParams,(C,I)=>{d[I]=C.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function Qh(n,t,e,o){if(e.length>0&&function EE(n,t,e){return e.some(o=>Jh(n,t,o)&&di(o)!==Mt)}(n,e,o)){const d=new Ot(t,function vg(n,t,e,o){const a={};a[Mt]=o,o._sourceSegment=n,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&di(d)!==Mt){const p=new Ot([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[di(d)]=p}return a}(n,t,o,new Ot(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function xy(n,t,e){return e.some(o=>Jh(n,t,o))}(n,e,o)){const d=new Ot(n.segments,function CE(n,t,e,o,a){const d={};for(const p of o)if(Jh(n,e,p)&&!a[di(p)]){const C=new Ot([],{});C._sourceSegment=n,C._segmentIndexShift=t.length,d[di(p)]=C}return{...a,...d}}(n,t,e,o,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new Ot(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Jh(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Cg(n,t,e,o){return!!(di(n)===o||o!==Mt&&Jh(t,e,n))&&("**"===n.path||yg(t,n,e).matched)}function bE(n,t,e){return 0===t.length&&!n.children[e]}const Xh=!1;class Wa{constructor(t){this.segmentGroup=t||null}}class ky{constructor(t){this.urlTree=t}}function ss(n){return pn(new Wa(n))}function nc(n){return pn(new ky(n))}class DE{constructor(t,e,o,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=o,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=Qh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ot(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Mt).pipe((0,it.U)(d=>this.createUrlTree(is(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ls(d=>{if(d instanceof ky)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Wa?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Mt).pipe((0,it.U)(a=>this.createUrlTree(is(a),t.queryParams,t.fragment))).pipe(Ls(a=>{throw a instanceof Wa?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,Xh)}createUrlTree(t,e,o){const a=Nl(t);return new Mo(a,e,o)}expandSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,it.U)(d=>new Ot([],d))):this.expandSegment(t,o,e,o.segments,a,!0)}expandChildren(t,e,o){const a=[];for(const d of Object.keys(o.children))"primary"===d?a.unshift(d):a.push(d);return(0,Yt.D)(a).pipe(Kr(d=>{const p=o.children[d],C=dg(e,d);return this.expandSegmentGroup(t,C,p,d).pipe((0,it.U)(I=>({segment:I,outlet:d})))}),ud((d,p)=>(d[p.outlet]=p.segment,d),{}),Rh())}expandSegment(t,e,o,a,d,p){return(0,Yt.D)(o).pipe(Kr(C=>this.expandSegmentAgainstRoute(t,e,o,C,a,d,p).pipe(Ls(S=>{if(S instanceof Wa)return qe(null);throw S}))),ts(C=>!!C),Ls((C,I)=>{if(Zh(C))return bE(e,a,d)?qe(new Ot([],{})):ss(e);throw C}))}expandSegmentAgainstRoute(t,e,o,a,d,p,C){return Cg(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,p):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,a,d,p):ss(e):ss(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,a){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?nc(d):this.lineralizeSegments(o,d).pipe((0,ir.z)(p=>{const C=new Ot(p,{});return this.expandSegment(t,C,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,a,d,p){const{matched:C,consumedSegments:I,remainingSegments:S,positionalParamSegments:U}=yg(e,a,d);if(!C)return ss(e);const W=this.applyRedirectCommands(I,a.redirectTo,U);return a.redirectTo.startsWith("/")?nc(W):this.lineralizeSegments(a,W).pipe((0,ir.z)(ee=>this.expandSegment(t,e,o,ee.concat(S),p,!1)))}matchSegmentAgainstRoute(t,e,o,a,d){return"**"===o.path?(t=Ty(o,t),o.loadChildren?(o._loadedRoutes?qe({routes:o._loadedRoutes,injector:o._loadedInjector}):this.configLoader.loadChildren(t,o)).pipe((0,it.U)(C=>(o._loadedRoutes=C.routes,o._loadedInjector=C.injector,new Ot(a,{})))):qe(new Ot(a,{}))):Hl(e,o,a,t).pipe(nn(({matched:p,consumedSegments:C,remainingSegments:I})=>p?this.getChildConfig(t=o._injector??t,o,a).pipe((0,ir.z)(U=>{const W=U.injector??t,ee=U.routes,{segmentGroup:fe,slicedSegments:Se}=Qh(e,C,I,ee),tt=new Ot(fe.segments,fe.children);if(0===Se.length&&tt.hasChildren())return this.expandChildren(W,ee,tt).pipe((0,it.U)(Ar=>new Ot(C,Ar)));if(0===ee.length&&0===Se.length)return qe(new Ot(C,{}));const yt=di(o)===d;return this.expandSegment(W,tt,ee,Se,yt?Mt:d,!0).pipe((0,it.U)(Xt=>new Ot(C.concat(Xt.segments),Xt.children)))})):ss(e)))}getChildConfig(t,e,o){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function _g(n,t,e,o){const a=t.canLoad;return void 0===a||0===a.length?qe(!0):qe(a.map(p=>{const C=os(p,n);return Ki(function Ry(n){return n&&bd(n.canLoad)}(C)?C.canLoad(t,e):n.runInContext(()=>C(t,e)))})).pipe(Qi(),Ny())}(t,e,o).pipe((0,ir.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Dr.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function Fy(n){return pn(aE(Xh,3))}())):qe({routes:[],injector:t})}lineralizeSegments(t,e){let o=[],a=e.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return qe(o);if(a.numberOfChildren>1||!a.children[Mt])return pn(new u.vHH(4e3,Xh));a=a.children[Mt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreateUrlTree(t,e,o,a){const d=this.createSegmentGroup(t,e.root,o,a);return new Mo(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Yn(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const C=a.substring(1);o[d]=e[C]}else o[d]=a}),o}createSegmentGroup(t,e,o,a){const d=this.createSegments(t,e.segments,o,a);let p={};return Yn(e.children,(C,I)=>{p[I]=this.createSegmentGroup(t,C,o,a)}),new Ot(d,p)}createSegments(t,e,o,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,o))}findPosParam(t,e,o){const a=o[e.path.substring(1)];if(!a)throw new u.vHH(4001,Xh);return a}findOrReturn(t,e){let o=0;for(const a of e){if(a.path===t.path)return e.splice(o),a;o++}return t}}class Ly{}class AE{constructor(t,e,o,a,d,p,C){this.injector=t,this.rootComponentType=e,this.config=o,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=p,this.urlSerializer=C}recognize(){const t=Qh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Mt).pipe((0,it.U)(e=>{if(null===e)return null;const o=new Xp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Bs(o,e),d=new eg(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,o=sE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,o,a){return 0===o.segments.length&&o.hasChildren()?this.processChildren(t,e,o):this.processSegment(t,e,o,o.segments,a)}processChildren(t,e,o){return(0,Yt.D)(Object.keys(o.children)).pipe(Kr(a=>{const d=o.children[a],p=dg(e,a);return this.processSegmentGroup(t,p,d,a)}),ud((a,d)=>a&&d?(a.push(...d),a):null),function Ph(n,t=!1){return(0,Qt.e)((e,o)=>{let a=0;e.subscribe((0,w.x)(o,d=>{const p=n(d,a++);(p||t)&&o.next(d),!p&&o.complete()}))})}(a=>null!==a),Hu(null),Rh(),(0,it.U)(a=>{if(null===a)return null;const d=Uy(a);return function Ig(n){n.sort((t,e)=>t.value.outlet===Mt?-1:e.value.outlet===Mt?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,o,a,d){return(0,Yt.D)(e).pipe(Kr(p=>this.processSegmentAgainstRoute(p._injector??t,p,o,a,d)),ts(p=>!!p),Ls(p=>{if(Zh(p))return bE(o,a,d)?qe([]):qe(null);throw p}))}processSegmentAgainstRoute(t,e,o,a,d){if(e.redirectTo||!Cg(e,o,a,d))return qe(null);let p;if("**"===e.path){const C=a.length>0?xh(a).parameters:{},I=By(o)+a.length;p=qe({snapshot:new Xp(a,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hy(e),di(e),e.component??e._loadedComponent??null,e,Vy(o),I,$l(e)),consumedSegments:[],remainingSegments:[]})}else p=Hl(o,e,a,t).pipe((0,it.U)(({matched:C,consumedSegments:I,remainingSegments:S,parameters:U})=>{if(!C)return null;const W=By(o)+I.length;return{snapshot:new Xp(I,U,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hy(e),di(e),e.component??e._loadedComponent??null,e,Vy(o),W,$l(e)),consumedSegments:I,remainingSegments:S}}));return p.pipe(nn(C=>{if(null===C)return qe(null);const{snapshot:I,consumedSegments:S,remainingSegments:U}=C;t=e._injector??t;const W=e._loadedInjector??t,ee=function Id(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:fe,slicedSegments:Se}=Qh(o,S,U,ee.filter(yt=>void 0===yt.redirectTo));if(0===Se.length&&fe.hasChildren())return this.processChildren(W,ee,fe).pipe((0,it.U)(yt=>null===yt?null:[new Bs(I,yt)]));if(0===ee.length&&0===Se.length)return qe([new Bs(I,[])]);const tt=di(e)===d;return this.processSegment(W,ee,fe,Se,tt?Mt:d).pipe((0,it.U)(yt=>null===yt?null:[new Bs(I,yt)]))}))}}function SE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Uy(n){const t=[],e=new Set;for(const o of n){if(!SE(o)){t.push(o);continue}const a=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...o.children),e.add(a)):t.push(o)}for(const o of e){const a=Uy(o.children);t.push(new Bs(o.value,a))}return t.filter(o=>!e.has(o))}function Vy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function By(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Hy(n){return n.data||{}}function $l(n){return n.resolve||{}}function OE(n){return"string"==typeof n.title||null===n.title}function ef(n){return nn(t=>{const e=n(t);return e?(0,Yt.D)(e).pipe((0,it.U)(()=>t)):qe(t)})}const jl=new u.OlP("ROUTES");let Dg=(()=>{class n{constructor(e,o){this.injector=e,this.compiler=o,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const o=Ki(e.loadComponent()).pipe((0,it.U)(Ji),(0,Dr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),La(()=>{this.componentLoaders.delete(e)})),a=new ci(o,()=>new Lr.x).pipe(hr());return this.componentLoaders.set(e,a),a}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return qe({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const d=this.loadModuleFactoryOrRoutes(o.loadChildren).pipe((0,it.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(o);let I,S,U=!1;Array.isArray(C)?S=C:(I=C.create(e).injector,S=Nh(I.get(jl,[],u.XFs.Self|u.XFs.Optional)));return{routes:S.map(cg),injector:I}}),La(()=>{this.childrenLoaders.delete(o)})),p=new ci(d,()=>new Lr.x).pipe(hr());return this.childrenLoaders.set(o,p),p}loadModuleFactoryOrRoutes(e){return Ki(e()).pipe((0,it.U)(Ji),(0,ir.z)(a=>a instanceof u.YKP||Array.isArray(a)?qe(a):(0,Yt.D)(this.compiler.compileModuleAsync(a))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ji(n){return function NE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Lr.x,this.configLoader=(0,u.f3M)(Dg),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)($a),this.rootContexts=(0,u.f3M)(Ul),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new tE(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new EI(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:o})}setupNavigations(e){return this.transitions=new Ur({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:md,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(So(o=>0!==o.id),(0,it.U)(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),nn(o=>{let a=!1,d=!1;return qe(o).pipe((0,Dr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nn(p=>{const C=e.browserUrlTree.toString(),I=!e.navigated||p.extractedUrl.toString()!==C||C!==e.currentUrlTree.toString();if(!I&&"reload"!==(p.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new Zp(p.id,e.serializeUrl(o.rawUrl),U,0)),e.rawUrlTree=p.rawUrl,p.resolve(null),Br.E}if(e.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Gy(p.source)&&(e.browserUrlTree=p.extractedUrl),qe(p).pipe(nn(U=>{const W=this.transitions?.getValue();return this.events.next(new zp(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),W!==this.transitions?.getValue()?Br.E:Promise.resolve(U)}),function TE(n,t,e,o){return nn(a=>function IE(n,t,e,o,a){return new DE(n,t,e,o,a).apply()}(n,t,e,a.extractedUrl,o).pipe((0,it.U)(d=>({...a,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Dr.b)(U=>{this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects},o.urlAfterRedirects=U.urlAfterRedirects}),function Hs(n,t,e,o,a){return(0,ir.z)(d=>function wg(n,t,e,o,a,d,p="emptyOnly"){return new AE(n,t,e,o,a,p,d).recognize().pipe(nn(C=>null===C?function bg(n){return new nr.y(t=>t.error(n))}(new Ly):qe(C)))}(n,t,e,d.urlAfterRedirects,o.serialize(d.urlAfterRedirects),o,a).pipe((0,it.U)(p=>({...d,targetSnapshot:p}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Dr.b)(U=>{if(o.targetSnapshot=U.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!U.extras.skipLocationChange){const ee=e.urlHandlingStrategy.merge(U.urlAfterRedirects,U.rawUrl);e.setBrowserUrl(ee,U)}e.browserUrlTree=U.urlAfterRedirects}const W=new jh(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(W)}));if(I&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:U,extractedUrl:W,source:ee,restoredState:fe,extras:Se}=p,tt=new zp(U,this.urlSerializer.serialize(W),ee,fe);this.events.next(tt);const yt=Ey(W,this.rootComponentType).snapshot;return qe(o={...p,targetSnapshot:yt,urlAfterRedirects:W,extras:{...Se,skipLocationChange:!1,replaceUrl:!1}})}{const U="";return this.events.next(new Zp(p.id,e.serializeUrl(o.extractedUrl),U,1)),e.rawUrlTree=p.rawUrl,p.resolve(null),Br.E}}),(0,Dr.b)(p=>{const C=new Kp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(C)}),(0,it.U)(p=>o={...p,guards:TI(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function _E(n,t){return(0,ir.z)(e=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?qe({...e,guardsResult:!0}):function gg(n,t,e,o){return(0,Yt.D)(n).pipe((0,ir.z)(a=>function Oy(n,t,e,o,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?qe(d.map(C=>{const I=Cd(t)??a,S=os(C,I);return Ki(function SI(n){return n&&bd(n.canDeactivate)}(S)?S.canDeactivate(n,t,e,o):I.runInContext(()=>S(n,t,e,o))).pipe(ts())})).pipe(Qi()):qe(!0)}(a.component,a.route,e,t,o)),ts(a=>!0!==a,!0))}(p,o,a,n).pipe((0,ir.z)(C=>C&&function mE(n){return"boolean"==typeof n}(C)?function qh(n,t,e,o){return(0,Yt.D)(t).pipe(Kr(a=>Ke(function mg(n,t){return null!==n&&t&&t(new Yp(n)),qe(!0)}(a.route.parent,o),function yE(n,t){return null!==n&&t&&t(new _y(n)),qe(!0)}(a.route,o),function Bl(n,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function AI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Dt(()=>qe(p.guards.map(I=>{const S=Cd(p.node)??e,U=os(I,S);return Ki(function hg(n){return n&&bd(n.canActivateChild)}(U)?U.canActivateChild(o,n):S.runInContext(()=>U(o,n))).pipe(ts())})).pipe(Qi())));return qe(d).pipe(Qi())}(n,a.path,e),function Kh(n,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return qe(!0);const a=o.map(d=>Dt(()=>{const p=Cd(t)??e,C=os(d,p);return Ki(function Py(n){return n&&bd(n.canActivate)}(C)?C.canActivate(t,n):p.runInContext(()=>C(t,n))).pipe(ts())}));return qe(a).pipe(Qi())}(n,a.route,e))),ts(a=>!0!==a,!0))}(o,d,n,t):qe(C)),(0,it.U)(C=>({...e,guardsResult:C})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Dr.b)(p=>{if(o.guardsResult=p.guardsResult,Yi(p.guardsResult))throw og(0,p.guardsResult);const C=new Ll(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(C)}),So(p=>!!p.guardsResult||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",3,e),!1)),ef(p=>{if(p.guards.canActivateChecks.length)return qe(p).pipe((0,Dr.b)(C=>{const I=new X0(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(I)}),nn(C=>{let I=!1;return qe(C).pipe(function RE(n,t){return(0,ir.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=e;if(!a.length)return qe(e);let d=0;return(0,Yt.D)(a).pipe(Kr(p=>function PE(n,t,e,o){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!OE(a)&&(d[Ua]=a.title),function PI(n,t,e,o){const a=function OI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return qe({});const d={};return(0,Yt.D)(a).pipe((0,ir.z)(p=>function $y(n,t,e,o){const a=Cd(t)??o,d=os(n,a);return Ki(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[p],t,e,o).pipe(ts(),(0,Dr.b)(C=>{d[p]=C}))),Mh(1),function cd(n){return(0,it.U)(()=>n)}(d),Ls(p=>Zh(p)?Br.E:pn(p)))}(d,n,t,o).pipe((0,it.U)(p=>(n._resolvedData=p,n.data=sE(n,e).resolve,a&&OE(a)&&(n.data[Ua]=a.title),null)))}(p.route,o,n,t)),(0,Dr.b)(()=>d++),Mh(1),(0,ir.z)(p=>d===a.length?qe(e):Br.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Dr.b)({next:()=>I=!0,complete:()=>{I||(e.restoreHistory(C),this.cancelNavigationTransition(C,"",2,e))}}))}),(0,Dr.b)(C=>{const I=new eE(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(I)}))}),ef(p=>{const C=I=>{const S=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Dr.b)(U=>{I.component=U}),(0,it.U)(()=>{})));for(const U of I.children)S.push(...C(U));return S};return V(C(p.targetSnapshot.root)).pipe(Hu(),Bu(1))}),ef(()=>this.afterPreactivation()),(0,it.U)(p=>{const C=function ig(n,t,e){const o=Si(n,t._root,e?e._root:void 0);return new ec(o,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return o={...p,targetRouterState:C}}),(0,Dr.b)(p=>{e.currentUrlTree=p.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),e.routerState=p.targetRouterState,"deferred"===e.urlUpdateStrategy&&(p.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,p),e.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,it.U)(o=>(new gE(t,o.targetRouterState,o.currentRouterState,e).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p)),(0,Dr.b)({next:p=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Fl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{a=!0}}),La(()=>{a||d||this.cancelNavigationTransition(o,"",1,e),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ls(p=>{if(d=!0,uE(p)){lE(p)||(e.navigated=!0,e.restoreHistory(o,!0));const C=new $h(o.id,this.urlSerializer.serialize(o.extractedUrl),p.message,p.cancellationCode);if(this.events.next(C),lE(p)){const I=e.urlHandlingStrategy.merge(p.url,e.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Gy(o.source)};e.scheduleNavigation(I,md,null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{e.restoreHistory(o,!0);const C=new qp(o.id,this.urlSerializer.serialize(o.extractedUrl),p,o.targetSnapshot??void 0);this.events.next(C);try{o.resolve(e.errorHandler(p))}catch(I){o.reject(I)}}return Br.E}))}))}cancelNavigationTransition(e,o,a,d){const p=new $h(e.id,this.urlSerializer.serialize(e.extractedUrl),o,a);this.events.next(p),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n){return n!==md}let zy=(()=>{class n{buildTitle(e){let o,a=e.root;for(;void 0!==a;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(d=>d.outlet===Mt);return o}getResolvedTitleForRoute(e){return e.data[Ua]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(xE)},providedIn:"root"}),n})(),xE=(()=>{class n extends zy{constructor(e){super(),this.title=e}updateTitle(e){const o=this.buildTitle(e);void 0!==o&&this.title.setTitle(o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(wi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(FE)},providedIn:"root"}),n})();class Zy{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let FE=(()=>{class n extends Zy{}return n.\u0275fac=function(){let t;return function(o){return(t||(t=u.n5z(n)))(o||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nf=new u.OlP("",{providedIn:"root",factory:()=>({})});let Tt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(qy)},providedIn:"root"}),n})(),qy=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,o){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ky(n){throw n}function UE(n,t,e){return t.parse("/")}const VE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(nf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ky,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Tt),this.routeReuseStrategy=(0,u.f3M)(kE),this.urlCreationStrategy=(0,u.f3M)(oE),this.titleStrategy=(0,u.f3M)(zy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nh((0,u.f3M)(jl,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Dd),this.urlSerializer=(0,u.f3M)($a),this.location=(0,u.f3M)(Te),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ey(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),md,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,o,e.state)},0)}))}navigateToSyncWithBrowser(e,o,a){const d={replaceUrl:!0},p=a?.navigationId?a:null;if(a){const I={...a};delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(d.state=I)}const C=this.parseUrl(e);this.scheduleNavigation(C,o,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(cg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:C,preserveFragment:I}=o,S=I?this.currentUrlTree.fragment:p;let U=null;switch(C){case"merge":U={...this.currentUrlTree.queryParams,...d};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=d||null}return null!==U&&(U=this.removeEmptyProps(U)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,e,U,S??null)}navigateByUrl(e,o={skipLocationChange:!1}){const a=Yi(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,md,null,o)}navigate(e,o={skipLocationChange:!1}){return function Qy(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return o}isActive(e,o){let a;if(a=!0===o?{...VE}:!1===o?{...Yy}:o,Yi(e))return Rl(this.currentUrlTree,e,a);const d=this.parseUrl(e);return Rl(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((o,a)=>{const d=e[a];return null!=d&&(o[a]=d),o},{})}scheduleNavigation(e,o,a,d,p){if(this.disposed)return Promise.resolve(!1);let C,I,S,U;return p?(C=p.resolve,I=p.reject,S=p.promise):S=new Promise((W,ee)=>{C=W,I=ee}),U="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:U,source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:C,reject:I,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(W=>Promise.reject(W))}setBrowserUrl(e,o){const a=this.urlSerializer.serialize(e),d={...o.extras.state,...this.generateNgRouterState(o.id,o.targetPageId)};this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,o=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Td=(()=>{class n{constructor(e,o,a,d,p,C){this.router=e,this.route=o,this.tabIndexAttribute=a,this.renderer=d,this.el=p,this.locationStrategy=C,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Lr.x;const I=p.nativeElement.tagName;this.isAnchorElement="A"===I||"AREA"===I,this.isAnchorElement?this.subscription=e.events.subscribe(S=>{S instanceof Fl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,o,a,d,p){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||o||a||d||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,o){const a=this.renderer,d=this.el.nativeElement;null!==o?a.setAttribute(d,e,o):a.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Mi),u.Y36(_d),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(ze))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,o){1&e&&u.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&u.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Ag{}let $E=(()=>{class n{constructor(e,o,a,d,p){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(So(e=>e instanceof Fl),Kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const a=[];for(const d of o){d.providers&&!d._injector&&(d._injector=(0,u.MMx)(d.providers,e,`Route: ${d.path}`));const p=d._injector??e,C=d._loadedInjector??p;d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent?a.push(this.preloadConfig(p,d)):(d.children||d._loadedRoutes)&&a.push(this.processRoutes(C,d.children??d._loadedRoutes))}return(0,Yt.D)(a).pipe((0,Ce.J)())}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>{let a;a=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(e,o):qe(null);const d=a.pipe((0,ir.z)(p=>null===p?qe(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(o.loadComponent&&!o._loadedComponent){const p=this.loader.loadComponent(o);return(0,Yt.D)([d,p]).pipe((0,Ce.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ag),u.LFG(Dg))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ad=new u.OlP("");let rf=(()=>{class n{constructor(e,o,a,d,p={}){this.urlSerializer=e,this.transitions=o,this.viewportScroller=a,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gh&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gh(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function oc(n,t){return{\u0275kind:n,\u0275providers:t}}function Wl(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const o=n.get(Mi),a=n.get(Xy);1===n.get(sf)&&o.initialNavigation(),n.get(tv,null,u.XFs.Optional)?.setUpPreloading(),n.get(Ad,null,u.XFs.Optional)?.init(),o.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Xy=new u.OlP("",{factory:()=>new Lr.x}),sf=new u.OlP("",{providedIn:"root",factory:()=>1});const tv=new u.OlP("");function GE(n){return oc(0,[{provide:tv,useExisting:$E},{provide:Ag,useExisting:n}])}const nv=new u.OlP("ROUTER_FORROOT_GUARD"),rv=[Te,{provide:$a,useClass:Ol},Mi,Ul,{provide:_d,useFactory:function jE(n){return n.routerState.root},deps:[Mi]},Dg,[]];function iv(){return new u.PXZ("Router",Mi)}let lf=(()=>{class n{constructor(e){}static forRoot(e,o){return{ngModule:n,providers:[rv,[],{provide:jl,multi:!0,useValue:e},{provide:nv,useFactory:UI,deps:[[Mi,new u.FiY,new u.tp0]]},{provide:nf,useValue:o||{}},o?.useHash?{provide:ze,useClass:ye}:{provide:ze,useClass:ve},{provide:Ad,useFactory:()=>{const n=(0,u.f3M)(ho),t=(0,u.f3M)(u.R0b),e=(0,u.f3M)(nf),o=(0,u.f3M)(Dd),a=(0,u.f3M)($a);return e.scrollOffset&&n.setOffset(e.scrollOffset),new rf(a,o,n,t,e)}},o?.preloadingStrategy?GE(o.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:iv},o?.initialNavigation?sc(o):[],[{provide:Rg,useFactory:Wl},{provide:u.tb,multi:!0,useExisting:Rg}]]}}static forChild(e){return{ngModule:n,providers:[{provide:jl,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(nv,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lg]}),n})();function UI(n){return"guarded"}function sc(n){return["disabled"===n.initialNavigation?oc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(Mi);return()=>{t.setUpLocationChangeListener()}}},{provide:sf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?oc(2,[{provide:sf,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(ce,Promise.resolve());return()=>e.then(()=>new Promise(a=>{const d=t.get(Mi),p=t.get(Xy);(function o(a){t.get(Mi).events.pipe(So(p=>p instanceof Fl||p instanceof $h||p instanceof qp),(0,it.U)(p=>p instanceof Fl||p instanceof $h&&(0===p.code||1===p.code)&&null),So(p=>null!==p),Bu(1)).subscribe(()=>{a()})})(()=>{a(!0)}),t.get(Dd).afterPreactivation=()=>(a(!0),p.closed?qe(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const Rg=new u.OlP("");var YE=k(4986),Pg=k(6451),Md=k(3099);function Og(n,t){return n===t}var Rd=k(5032),Pn=k(2122),Ri=k(2011),xg=(k(9568),k(3942)),Ga=k(4859),$s=k(5861),js=k(9681),F=k(2090),Pd=k(1877);const sv="@firebase/database";let cf="";function av(n){cf=n}class QE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Pi{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Fg=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QE(t)}}catch{}return new Pi},Gl=Fg("localStorage"),lv=Fg("sessionStorage"),za=new Pd.Yd("@firebase/database"),Lg=function(){let n=1;return function(){return n++}}(),uv=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const o=e.digest();return F.US.encodeByteArray(o)},Od=function(...n){let t="";for(let e=0;e<n.length;e++){const o=n[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=Od.apply(null,o):t+="object"==typeof o?(0,F.Wl)(o):o,t+=" "}return t};let zl=null,Ug=!0;const cv=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(za.logLevel=Pd.in.VERBOSE,zl=za.log.bind(za),t&&lv.set("logging_enabled",!0)):"function"==typeof n?zl=n:(zl=null,lv.remove("logging_enabled"))},pr=function(...n){if(!0===Ug&&(Ug=!1,null===zl&&!0===lv.get("logging_enabled")&&cv(!0)),zl){const t=Od.apply(null,n);zl(t)}},Zl=function(n){return function(...t){pr(n,...t)}},Vg=function(...n){const t="FIREBASE INTERNAL ERROR: "+Od(...n);za.error(t)},as=function(...n){const t=`FIREBASE FATAL ERROR: ${Od(...n)}`;throw za.error(t),new Error(t)},Hr=function(...n){const t="FIREBASE WARNING: "+Od(...n);za.warn(t)},df=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},us="[MIN_NAME]",Ws="[MAX_NAME]",ql=function(n,t){if(n===t)return 0;if(n===us||t===Ws)return-1;if(t===us||n===Ws)return 1;{const e=eb(n),o=eb(t);return null!==e?null!==o?e-o==0?n.length-t.length:e-o:-1:null!==o?1:n<t?-1:1}},dv=function(n,t){return n===t?0:n<t?-1:1},Nd=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},Bg=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const o in n)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,F.Wl)(t[o]),e+=":",e+=Bg(n[t[o]]);return e+="}",e},hv=function(n,t){const e=n.length;if(e<=t)return[n];const o=[];for(let a=0;a<e;a+=t)o.push(n.substring(a,a+t>e?e:a+t));return o};function Jn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const fv=function(n){(0,F.hu)(!df(n),"Invalid JSON number");const o=1023;let a,d,p,C,I;0===n?(d=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),o),d=C+o,p=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(d=0,p=Math.round(n/Math.pow(2,-1074))));const S=[];for(I=52;I;I-=1)S.push(p%2?1:0),p=Math.floor(p/2);for(I=11;I;I-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const U=S.join("");let W="";for(I=0;I<64;I+=8){let ee=parseInt(U.substr(I,8),2).toString(16);1===ee.length&&(ee="0"+ee),W+=ee}return W.toLowerCase()},ff=new RegExp("^-?(0*)\\d{1,10}$"),eb=function(n){if(ff.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Kl=function(n){try{n()}catch(t){setTimeout(()=>{throw Hr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lc=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class gv{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){Hr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class jg{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hr(t)}}let Oi=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Gg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vv="websocket",tb="long_polling";class zg{constructor(t,e,o,a,d=!1,p="",C=!1,I=!1){this.secure=e,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=C,this.isUsingEmulator=I,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Cv(n,t,e){let o;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===vv)o=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==tb)throw new Error("Unknown connection type: "+t);o=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function nb(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Jn(e,(d,p)=>{a.push(d+"="+p)}),o+a.join("&")}class rb{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Zg={},qg={};function Kg(n){const t=n.toString();return Zg[t]||(Zg[t]=new rb),Zg[t]}class Yg{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&Kl(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xi{constructor(t,e,o,a,d,p,C){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=a,this.authToken=d,this.transportSessionId=p,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zl(t),this.stats_=Kg(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),Cv(e,tb,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Yg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xg((...d)=>{const[p,C,I,S,U]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=C,this.password=I;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,C]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Gg.test(location.hostname)&&(o.r="f");const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xi.forceAllow_=!0}static forceDisallow(){Xi.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Xi.forceAllow_&&(Xi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,F.h$)(e),a=hv(o,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Xg{constructor(t,e,o,a){if(this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Lg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Xg.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(C){pr("frame writing exception"),C.stack&&pr(C.stack),pr(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||pr("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const p=this.pendingSegs.shift();o=o+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),o()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||"loaded"===a||"complete"===a)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{pr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let gf=null;typeof MozWebSocket<"u"?gf=MozWebSocket:typeof WebSocket<"u"&&(gf=WebSocket);let Qr=(()=>{class n{constructor(e,o,a,d,p,C,I){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zl(this.connId),this.stats_=Kg(o),this.connURL=n.connectionURL_(o,C,I,d,a),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,a,d,p){const C={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&Gg.test(location.hostname)&&(C.r="f"),o&&(C.s=o),a&&(C.ls=a),d&&(C.ac=d),p&&(C.p=p),Cv(e,vv,C)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gl.set("previous_websocket_failure",!0);try{let a;if((0,F.Yr)()){a={headers:{"User-Agent":`Firebase/5/${cf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,C=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;C&&(a.proxy={origin:C})}this.mySock=new gf(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==gf&&!n.forceDisallow_}static previouslyFailed(){return Gl.isInMemoryStorage||!0===Gl.get("previous_websocket_failure")}markConnectionHealthy(){Gl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const a=(0,F.cI)(o);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const a=this.extractFrameCount_(o);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const o=(0,F.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const a=hv(o,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),cc=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xi,Qr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=Qr&&Qr.isAvailable();let a=o&&!Qr.previouslyFailed();if(e.webSocketOnly&&(o||Hr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Qr];else{const d=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class tm{constructor(t,e,o,a,d,p,C,I,S,U){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=p,this.onReady_=C,this.onDisconnect_=I,this.onKill_=S,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zl("c:"+this.id+":"),this.transportManager_=new cc(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=lc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nd("t",t),o=Nd("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nd("t",t),o=Nd("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nd("t",t);if("d"in t){const o=t.d;if("h"===e){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Vg("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&Hr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),lc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nm{put(t,e,o,a){}merge(t,e,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class rm{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const a=this.getInitialEvent(t);a&&e.apply(o,a)}off(t,e,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!o||o===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Fd extends rm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fd}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ht(){return new jt("")}function Nt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Za(n){return n.pieces_.length-n.pieceNum_}function rn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new jt(n.pieces_,t)}function _f(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pc(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function yf(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new jt(t,0)}function un(n,t){const e=[];for(let o=n.pieceNum_;o<n.pieces_.length;o++)e.push(n.pieces_[o]);if(t instanceof jt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&e.push(o[a])}return new jt(e,0)}function kt(n){return n.pieceNum_>=n.pieces_.length}function gr(n,t){const e=Nt(n),o=Nt(t);if(null===e)return t;if(e===o)return gr(rn(n),rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function vf(n,t){const e=pc(n,0),o=pc(t,0);for(let a=0;a<e.length&&a<o.length;a++){const d=ql(e[a],o[a]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function Ld(n,t){if(Za(n)!==Za(t))return!1;for(let e=n.pieceNum_,o=t.pieceNum_;e<=n.pieces_.length;e++,o++)if(n.pieces_[e]!==t.pieces_[o])return!1;return!0}function to(n,t){let e=n.pieceNum_,o=t.pieceNum_;if(Za(n)>Za(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class sm{constructor(t,e){this.errorPrefix_=e,this.parts_=pc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,F.ug)(this.parts_[o]);lm(this)}}function lm(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gs(n))}function Gs(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Cf extends rm{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Cf}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const gc=1e3;let bf,qa=(()=>{class n extends nm{constructor(e,o,a,d,p,C,I,S){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Zl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Fd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,a){const d=++this.requestNumber_,p={r:d,a:e,b:o};this.log_((0,F.Wl)(p)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const o=new F.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:C=>{const I=C.d;"ok"===C.s?o.resolve(I):o.reject(I)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,a,d){this.initConnection_();const p=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+p),this.listens.has(C)||this.listens.set(C,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(C).has(p),"listen() called twice for same path/queryId.");const I={onComplete:d,hashFn:o,query:e,tag:a};this.listens.get(C).set(p,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(a)})}sendListen_(e){const o=e.query,a=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+a+" for "+d);const p={p:a};e.tag&&(p.q=o._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,I=>{const S=I.d,U=I.s;n.warnOnListenWarnings_(S,o),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",I),"ok"!==U&&this.removeListen_(a,d),e.onComplete&&e.onComplete(U,S))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',p=o._path.toString();Hr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(o,a,d=>{const p=d.s,C=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,a=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,a)})}unlisten(e,o){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,o)}sendUnlisten_(e,o,a,d){this.log_("Unlisten on "+e+" for "+o);const p={p:e};d&&(p.q=a,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:a})}onDisconnectMerge(e,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:a})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,a,d){const p={p:o,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,C=>{d&&setTimeout(()=>{d(C.s,C.d)},Math.floor(0))})}put(e,o,a,d){this.putInternal("p",e,o,a,d)}merge(e,o,a,d){this.putInternal("m",e,o,a,d)}putInternal(e,o,a,d,p){this.initConnection_();const C={p:o,d:a};void 0!==p&&(C.h=p),this.outstandingPuts_.push({action:e,request:C,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,a,p=>{this.log_(o+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const o=e.r,a=this.requestCBHash_[o];a&&(delete this.requestCBHash_[o],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Vg("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=gc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,$s.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,C=e.lastSessionId;let I=!1,S=null;const U=function(){S?S.close():(I=!0,d())};e.realtime_={close:U,sendRequest:function(fe){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(fe)}};const ee=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[fe,Se]=yield Promise.all([e.authTokenProvider_.getToken(ee),e.appCheckTokenProvider_.getToken(ee)]);I?pr("getToken() completed but was canceled"):(pr("getToken() completed. Creating connection."),e.authToken_=fe&&fe.accessToken,e.appCheckToken_=Se&&Se.token,S=new tm(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,a,d,tt=>{Hr(tt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(fe){e.log_("Failed to get token: "+fe),I||(e.repoInfo_.nodeAdmin&&Hr(fe),U())}}})()}interrupt(e){pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=gc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let a;a=o?o.map(p=>Bg(p)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const a=new jt(e).toString();let d;if(this.listens.has(a)){const p=this.listens.get(a);d=p.get(o),p.delete(o),0===p.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,o){pr("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){pr("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,F.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+cf.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fd.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ft{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Ft(t,e)}}class Ef{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new Ft(us,t),a=new Ft(us,e);return 0!==this.compare(o,a)}minPost(){return Ft.MIN}}class wf extends Ef{static get __EMPTY_NODE(){return bf}static set __EMPTY_NODE(t){bf=t}compare(t,e){return ql(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Ft.MIN}maxPost(){return new Ft(Ws,bf)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ft(t,bf)}toString(){return".key"}}const Ni=new wf;class Ud{constructor(t,e,o,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?o(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Df,no=(()=>{class n{constructor(e,o,a,d,p){this.key=e,this.value=o,this.color=a??n.RED,this.left=d??Jr.EMPTY_NODE,this.right=p??Jr.EMPTY_NODE}copy(e,o,a,d,p){return new n(e??this.key,o??this.value,a??this.color,d??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,a){let d=this;const p=a(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,o,a),null):0===p?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let a,d;if(a=this,o(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,o),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===o(e,a.key)){if(a.right.isEmpty())return Jr.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,o))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Jr{constructor(t,e=Jr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Jr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,no.BLACK,null,null))}remove(t){return new Jr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,no.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,a=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(a=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ud(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Ud(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Ud(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Ud(this.root_,null,this.comparator_,!0,t)}}function Ov(n,t){return ql(n.name,t.name)}function If(n,t){return ql(n,t)}Jr.EMPTY_NODE=new class Pv{copy(t,e,o,a,d){return this}insert(t,e,o){return new no(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Vd=function(n){return"number"==typeof n?"number:"+fv(n):"string:"+n},zs=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Df||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Df||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let xv,Tf,Ka,mc=(()=>{class n{constructor(e,o=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zs(this.priorityNode_)}static set __childrenNodeConstructor(e){xv=e}static get __childrenNodeConstructor(){return xv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:".priority"===Nt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const a=Nt(e);return null===a?o:o.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===Za(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vd(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?fv(this.value_):this.value_,this.lazyHash_=uv(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(o),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(d>=0,"Unknown leaf type: "+o),(0,F.hu)(p>=0,"Unknown leaf type: "+a),d===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gn=new class fm extends Ef{compare(t,e){const o=t.node.getPriority(),a=e.node.getPriority(),d=o.compareTo(a);return 0===d?ql(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Ft.MIN}maxPost(){return new Ft(Ws,new mc("[PRIORITY-POST]",Ka))}makePost(t,e){const o=Tf(t);return new Ft(e,new mc("[PRIORITY-POST]",o))}toString(){return".priority"}},HI=Math.log(2);class pb{constructor(t){this.count=parseInt(Math.log(t+1)/HI,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Af=function(n,t,e,o){n.sort(t);const a=function(I,S){const U=S-I;let W,ee;if(0===U)return null;if(1===U)return W=n[I],ee=e?e(W):W,new no(ee,W.node,no.BLACK,null,null);{const fe=parseInt(U/2,10)+I,Se=a(I,fe),tt=a(fe+1,S);return W=n[fe],ee=e?e(W):W,new no(ee,W.node,no.BLACK,Se,tt)}},C=function(I){let S=null,U=null,W=n.length;const ee=function(Se,tt){const yt=W-Se,Ut=W;W-=Se;const Xt=a(yt+1,Ut),Ar=n[yt],An=e?e(Ar):Ar;fe(new no(An,Ar.node,tt,null,Xt))},fe=function(Se){S?(S.left=Se,S=Se):(U=Se,S=Se)};for(let Se=0;Se<I.count;++Se){const tt=I.nextBitIsOne(),yt=Math.pow(2,I.count-(Se+1));tt?ee(yt,no.BLACK):(ee(yt,no.BLACK),ee(yt,no.RED))}return U}(new pb(n.length));return new Jr(o||t,C)};let Sf;const _c={};class on{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(_c&&gn,"ChildrenNode.ts has not been loaded"),Sf=Sf||new on({".priority":_c},{".priority":gn}),Sf}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Jr?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Ni,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const d=e.getIterator(Ft.Wrap);let C,p=d.getNext();for(;p;)a=a||t.isDefinedOn(p.node),o.push(p),p=d.getNext();C=a?Af(o,t.getCompare()):_c;const I=t.toString(),S=Object.assign({},this.indexSet_);S[I]=t;const U=Object.assign({},this.indexes_);return U[I]=C,new on(U,S)}addToIndexes(t,e){const o=(0,F.UI)(this.indexes_,(a,d)=>{const p=(0,F.DV)(this.indexSet_,d);if((0,F.hu)(p,"Missing index implementation for "+d),a===_c){if(p.isDefinedOn(t.node)){const C=[],I=e.getIterator(Ft.Wrap);let S=I.getNext();for(;S;)S.name!==t.name&&C.push(S),S=I.getNext();return C.push(t),Af(C,p.getCompare())}return _c}{const C=e.get(t.name);let I=a;return C&&(I=I.remove(new Ft(t.name,C))),I.insert(t,t.node)}});return new on(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,F.UI)(this.indexes_,a=>{if(a===_c)return a;{const d=e.get(t.name);return d?a.remove(new Ft(t.name,d)):a}});return new on(o,this.indexSet_)}}let yc,St=(()=>{class n{constructor(e,o,a){this.children_=e,this.priorityNode_=o,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&zs(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yc||(yc=new n(new Jr(If),null,on.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?yc:o}}getChild(e){const o=Nt(e);return null===o?this:this.getImmediateChild(o).getChild(rn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,F.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const a=new Ft(e,o);let d,p;o.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,o),p=this.indexMap_.addToIndexes(a,this.children_));const C=d.isEmpty()?yc:this.priorityNode_;return new n(d,C,p)}}updateChild(e,o){const a=Nt(e);if(null===a)return o;{(0,F.hu)(".priority"!==Nt(e)||1===Za(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(rn(e),o);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let a=0,d=0,p=!0;if(this.forEachChild(gn,(C,I)=>{o[C]=I.val(e),a++,p&&n.INTEGER_REGEXP_.test(C)?d=Math.max(d,Number(C)):p=!1}),!e&&p&&d<2*a){const C=[];for(const I in o)C[I]=o[I];return C}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vd(this.getPriority().val())+":"),this.forEachChild(gn,(o,a)=>{const d=a.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":uv(e)}return this.lazyHash_}getPredecessorChildName(e,o,a){const d=this.resolveIndex_(a);if(d){const p=d.getPredecessorKey(new Ft(e,o));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new Ft(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const a=o.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new Ft(o,this.children_.get(o)):null}forEachChild(e,o){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Ft.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const a=this.resolveIndex_(o);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vc?-1:0}withIndex(e){if(e===Ni||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Ni||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const a=this.getIterator(gn),d=o.getIterator(gn);let p=a.getNext(),C=d.getNext();for(;p&&C;){if(p.name!==C.name||!p.node.equals(C.node))return!1;p=a.getNext(),C=d.getNext()}return null===p&&null===C}return!1}return!1}}resolveIndex_(e){return e===Ni?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vc=new class gb extends St{constructor(){super(new Jr(If),St.EMPTY_NODE,on.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return St.EMPTY_NODE}isEmpty(){return!1}};function Tn(n,t=null){if(null===n)return St.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new mc(n,Tn(t));if(n instanceof Array){let e=St.EMPTY_NODE;return Jn(n,(o,a)=>{if((0,F.r3)(n,o)&&"."!==o.substring(0,1)){const d=Tn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(Tn(t))}{const e=[];let o=!1;if(Jn(n,(p,C)=>{if("."!==p.substring(0,1)){const I=Tn(C);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new Ft(p,I)))}}),0===e.length)return St.EMPTY_NODE;const d=Af(e,Ov,p=>p.name,If);if(o){const p=Af(e,gn.getCompare());return new St(d,Tn(t),new on({".priority":p},{".priority":gn}))}return new St(d,Tn(t),on.Default)}}Object.defineProperties(Ft,{MIN:{value:new Ft(us,St.EMPTY_NODE)},MAX:{value:new Ft(Ws,vc)}}),wf.__EMPTY_NODE=St.EMPTY_NODE,mc.__childrenNodeConstructor=St,function Nv(n){Df=n}(vc),function fb(n){Ka=n}(vc),function hm(n){Tf=n}(Tn);class Mf extends Ef{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!kt(t)&&".priority"!==Nt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),a=this.extractChild(e.node),d=o.compareTo(a);return 0===d?ql(t.name,e.name):d}makePost(t,e){const o=Tn(t),a=St.EMPTY_NODE.updateChild(this.indexPath_,o);return new Ft(e,a)}maxPost(){const t=St.EMPTY_NODE.updateChild(this.indexPath_,vc);return new Ft(Ws,t)}toString(){return pc(this.indexPath_,0).join("/")}}const pm=new class Cc extends Ef{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?ql(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Ft.MIN}maxPost(){return Ft.MAX}makePost(t,e){const o=Tn(t);return new Ft(e,o)}toString(){return".value"}};function kv(n){return{type:"value",snapshotNode:n}}function su(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Bd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ec(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Rf{constructor(t){this.index_=t}updateChild(t,e,o,a,d,p){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=t.getImmediateChild(e);return C.getChild(a).equals(o.getChild(a))&&C.isEmpty()===o.isEmpty()||(null!=p&&(o.isEmpty()?t.hasChild(e)?p.trackChildChange(Bd(e,C)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?p.trackChildChange(su(e,o)):p.trackChildChange(Ec(e,o,C))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(gn,(a,d)=>{e.hasChild(a)||o.trackChildChange(Bd(a,d))}),e.isLeafNode()||e.forEachChild(gn,(a,d)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(d)||o.trackChildChange(Ec(a,d,p))}else o.trackChildChange(su(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?St.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class au{constructor(t){this.indexedFilter_=new Rf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=au.getStartPost_(t),this.endPost_=au.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&o}updateChild(t,e,o,a,d,p){return this.matches(new Ft(e,o))||(o=St.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,a,d,p)}updateFullNode(t,e,o){e.isLeafNode()&&(e=St.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(St.EMPTY_NODE);const d=this;return e.forEachChild(gn,(p,C)=>{d.matches(new Ft(p,C))||(a=a.updateImmediateChild(p,St.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class cs{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=e=>{const o=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new au(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,o,a,d,p){return this.rangedFilter_.matches(new Ft(e,o))||(o=St.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,a,d,p):this.fullLimitUpdateChild_(t,e,o,d,p)}updateFullNode(t,e,o){let a;if(e.isLeafNode()||e.isEmpty())a=St.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=St.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const C=d.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;a=a.updateImmediateChild(C.name,C.node),p++}}}else{let d;a=e.withIndex(this.index_),a=a.updatePriority(St.EMPTY_NODE),d=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let p=0;for(;d.hasNext();){const C=d.getNext();p<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?p++:a=a.updateImmediateChild(C.name,St.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,a,d){let p;if(this.reverse_){const W=this.index_.getCompare();p=(ee,fe)=>W(fe,ee)}else p=this.index_.getCompare();const C=t;(0,F.hu)(C.numChildren()===this.limit_,"");const I=new Ft(e,o),S=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),U=this.rangedFilter_.matches(I);if(C.hasChild(e)){const W=C.getImmediateChild(e);let ee=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=ee&&(ee.name===e||C.hasChild(ee.name));)ee=a.getChildAfterChild(this.index_,ee,this.reverse_);const fe=null==ee?1:p(ee,I);if(U&&!o.isEmpty()&&fe>=0)return d?.trackChildChange(Ec(e,o,W)),C.updateImmediateChild(e,o);{d?.trackChildChange(Bd(e,W));const tt=C.updateImmediateChild(e,St.EMPTY_NODE);return null!=ee&&this.rangedFilter_.matches(ee)?(d?.trackChildChange(su(ee.name,ee.node)),tt.updateImmediateChild(ee.name,ee.node)):tt}}return o.isEmpty()?t:U&&p(S,I)>=0?(null!=d&&(d.trackChildChange(Bd(S.name,S.node)),d.trackChildChange(su(e,o))),C.updateImmediateChild(e,o).updateImmediateChild(S.name,St.EMPTY_NODE)):t}}class Pf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const t=new Pf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function xi(n,t,e){const o=n.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function Of(n,t,e){const o=n.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Nf(n,t){const e=n.copy();return e.index_=t,e}function Lv(n){const t={};if(n.isDefault())return t;let e;if(n.index_===gn?e="$priority":n.index_===pm?e="$value":n.index_===Ni?e="$key":((0,F.hu)(n.index_ instanceof Mf,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_){const o=n.startAfterSet_?"startAfter":"startAt";t[o]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t[o]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const o=n.endBeforeSet_?"endBefore":"endAt";t[o]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t[o]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Uv(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==gn&&(t.i=n.index_.toString()),t}class bc extends nm{constructor(t,e,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Zl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=bc.getListenId_(t,o),C={};this.listens_[p]=C;const I=Lv(t._queryParams);this.restRequest_(d+".json",I,(S,U)=>{let W=U;if(404===S&&(W=null,S=null),null===S&&this.onDataUpdate_(d,W,!1,o),(0,F.DV)(this.listens_,p)===C){let ee;ee=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(ee,null)}})}unlisten(t,e){const o=bc.getListenId_(t,e);delete this.listens_[o]}get(t){const e=Lv(t._queryParams),o=t._path.toString(),a=new F.BH;return this.restRequest_(o+".json",e,(d,p)=>{let C=p;404===d&&(C=null,d=null),null===d?(this.onDataUpdate_(o,C,!1,null),a.resolve(C)):a.reject(new Error(C))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+p);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+p+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,F.cI)(C.responseText)}catch{Hr("Failed to parse JSON response for "+p+": "+C.responseText)}o(null,I)}else 401!==C.status&&404!==C.status&&Hr("Got unsuccessful REST response for "+p+" Status: "+C.status),o(C.status);o=null}},C.open("GET",p,!0),C.send()})}}class Hd{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xf(){return{value:null,children:new Map}}function lu(n,t,e){if(kt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const o=Nt(t);n.children.has(o)||n.children.set(o,xf()),lu(n.children.get(o),t=rn(t),e)}}function gm(n,t){if(kt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(gn,(o,a)=>{lu(n,new jt(o),a)}),gm(n,t)}}if(n.children.size>0){const e=Nt(t);return t=rn(t),n.children.has(e)&&gm(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function kf(n,t,e){null!==n.value?e(t,n.value):function Vv(n,t){n.children.forEach((e,o)=>{t(o,e)})}(n,(o,a)=>{kf(a,new jt(t.toString()+"/"+o),e)})}class Ff{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Jn(this.last_,(o,a)=>{e[o]=e[o]-a}),this.last_=t,e}}class mm{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ff(t);const o=1e4+2e4*Math.random();lc(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;Jn(t,(a,d)=>{d>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=d,o=!0)}),o&&this.server_.reportStats(e),lc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Xr=(()=>{return(n=Xr||(Xr={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Xr;var n})();function Uf(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class jd{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Xr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(kt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new jt(t));return new jd(Ht(),e,this.revert)}}return(0,F.hu)(Nt(this.path)===t,"operationForChild called for unrelated child."),new jd(rn(this.path),this.affectedTree,this.revert)}}class wc{constructor(t,e){this.source=t,this.path=e,this.type=Xr.LISTEN_COMPLETE}operationForChild(t){return kt(this.path)?new wc(this.source,Ht()):new wc(this.source,rn(this.path))}}class Ya{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Xr.OVERWRITE}operationForChild(t){return kt(this.path)?new Ya(this.source,Ht(),this.snap.getImmediateChild(t)):new Ya(this.source,rn(this.path),this.snap)}}class uu{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Xr.MERGE}operationForChild(t){if(kt(this.path)){const e=this.children.subtree(new jt(t));return e.isEmpty()?null:e.value?new Ya(this.source,Ht(),e.value):new uu(this.source,Ht(),e)}return(0,F.hu)(Nt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new uu(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zs{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(kt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Nt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class vb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Wd(n,t,e,o,a,d){const p=o.filter(C=>C.type===e);p.sort((C,I)=>function bb(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const o=new Ft(t.childName,t.snapshotNode),a=new Ft(e.childName,e.snapshotNode);return n.index_.compare(o,a)}(n,C,I)),p.forEach(C=>{const I=function Eb(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,C,d);a.forEach(S=>{S.respondsTo(C.type)&&t.push(S.createEvent(I,n.query_))})})}function Vf(n,t){return{eventCache:n,serverCache:t}}function Gd(n,t,e,o){return Vf(new Zs(t,e,o),n.serverCache)}function jv(n,t,e,o){return Vf(n.eventCache,new Zs(t,e,o))}function Bf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function cu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let _m;class cn{constructor(t,e=(()=>(_m||(_m=new Jr(dv)),_m))()){this.value=t,this.children=e}static fromObject(t){let e=new cn(null);return Jn(t,(o,a)=>{e=e.set(new jt(o),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ht(),value:this.value};if(kt(t))return null;{const o=Nt(t),a=this.children.get(o);if(null!==a){const d=a.findRootMostMatchingPathAndValue(rn(t),e);return null!=d?{path:un(new jt(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(kt(t))return this;{const e=Nt(t),o=this.children.get(e);return null!==o?o.subtree(rn(t)):new cn(null)}}set(t,e){if(kt(t))return new cn(e,this.children);{const o=Nt(t),d=(this.children.get(o)||new cn(null)).set(rn(t),e),p=this.children.insert(o,d);return new cn(this.value,p)}}remove(t){if(kt(t))return this.children.isEmpty()?new cn(null):new cn(null,this.children);{const e=Nt(t),o=this.children.get(e);if(o){const a=o.remove(rn(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new cn(null):new cn(this.value,d)}return this}}get(t){if(kt(t))return this.value;{const e=Nt(t),o=this.children.get(e);return o?o.get(rn(t)):null}}setTree(t,e){if(kt(t))return e;{const o=Nt(t),d=(this.children.get(o)||new cn(null)).setTree(rn(t),e);let p;return p=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new cn(this.value,p)}}fold(t){return this.fold_(Ht(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((a,d)=>{o[a]=d.fold_(un(t,a),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Ht(),e)}findOnPath_(t,e,o){const a=!!this.value&&o(e,this.value);if(a)return a;if(kt(t))return null;{const d=Nt(t),p=this.children.get(d);return p?p.findOnPath_(rn(t),un(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ht(),e)}foreachOnPath_(t,e,o){if(kt(t))return this;{this.value&&o(e,this.value);const a=Nt(t),d=this.children.get(a);return d?d.foreachOnPath_(rn(t),un(e,a),o):new cn(null)}}foreach(t){this.foreach_(Ht(),t)}foreach_(t,e){this.children.inorderTraversal((o,a)=>{a.foreach_(un(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class Oo{constructor(t){this.writeTree_=t}static empty(){return new Oo(new cn(null))}}function zd(n,t,e){if(kt(t))return new Oo(new cn(e));{const o=n.writeTree_.findRootMostValueAndPath(t);if(null!=o){const a=o.path;let d=o.value;const p=gr(a,t);return d=d.updateChild(p,e),new Oo(n.writeTree_.set(a,d))}{const a=new cn(e),d=n.writeTree_.setTree(t,a);return new Oo(d)}}}function ym(n,t,e){let o=n;return Jn(e,(a,d)=>{o=zd(o,un(t,a),d)}),o}function Wv(n,t){if(kt(t))return Oo.empty();{const e=n.writeTree_.setTree(t,new cn(null));return new Oo(e)}}function vm(n,t){return null!=Qa(n,t)}function Qa(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(gr(e.path,t)):null}function Cm(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(gn,(o,a)=>{t.push(new Ft(o,a))}):n.writeTree_.children.inorderTraversal((o,a)=>{null!=a.value&&t.push(new Ft(o,a.value))}),t}function qs(n,t){if(kt(t))return n;{const e=Qa(n,t);return new Oo(null!=e?new cn(e):n.writeTree_.subtree(t))}}function Hf(n){return n.writeTree_.isEmpty()}function du(n,t){return Em(Ht(),n.writeTree_,t)}function Em(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let o=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,F.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=Em(un(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==o&&(e=e.updateChild(un(n,".priority"),o)),e}}function Zd(n,t){return On(t,n)}function hu(n,t){if(n.snap)return to(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&to(un(n.path,e),t))return!0;return!1}function Db(n){return n.visible}function fu(n,t,e){let o=Oo.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const p=d.path;let C;if(d.snap)to(e,p)?(C=gr(e,p),o=zd(o,C,d.snap)):to(p,e)&&(C=gr(p,e),o=zd(o,Ht(),d.snap.getChild(C)));else{if(!d.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(to(e,p))C=gr(e,p),o=ym(o,C,d.children);else if(to(p,e))if(C=gr(p,e),kt(C))o=ym(o,Ht(),d.children);else{const I=(0,F.DV)(d.children,Nt(C));if(I){const S=I.getChild(rn(C));o=zd(o,Ht(),S)}}}}}return o}function Tb(n,t,e,o,a){if(o||a){const d=qs(n.visibleWrites,t);return!a&&Hf(d)?e:a||null!=e||vm(d,Ht())?du(fu(n.allWrites,function(S){return(S.visible||a)&&(!o||!~o.indexOf(S.writeId))&&(to(S.path,t)||to(t,S.path))},t),e||St.EMPTY_NODE):null}{const d=Qa(n.visibleWrites,t);if(null!=d)return d;{const p=qs(n.visibleWrites,t);return Hf(p)?e:null!=e||vm(p,Ht())?du(p,e||St.EMPTY_NODE):null}}}function $f(n,t,e,o){return Tb(n.writeTree,n.treePath,t,e,o)}function wm(n,t){return function bm(n,t,e){let o=St.EMPTY_NODE;const a=Qa(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(gn,(d,p)=>{o=o.updateImmediateChild(d,p)}),o;if(e){const d=qs(n.visibleWrites,t);return e.forEachChild(gn,(p,C)=>{const I=du(qs(d,new jt(p)),C);o=o.updateImmediateChild(p,I)}),Cm(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}return Cm(qs(n.visibleWrites,t)).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}(n.writeTree,n.treePath,t)}function Qv(n,t,e,o){return function jI(n,t,e,o,a){(0,F.hu)(o||a,"Either existingEventSnap or existingServerSnap must exist");const d=un(t,e);if(vm(n.visibleWrites,d))return null;{const p=qs(n.visibleWrites,d);return Hf(p)?a.getChild(e):du(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,o)}function Ks(n,t){return function Yv(n,t){return Qa(n.visibleWrites,t)}(n.writeTree,un(n.treePath,t))}function Ic(n,t,e){return function Kv(n,t,e,o){const a=un(t,e),d=Qa(n.visibleWrites,a);return null!=d?d:o.isCompleteForChild(e)?du(qs(n.visibleWrites,a),o.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function qd(n,t){return On(un(n.treePath,t),n.writeTree)}function On(n,t){return{treePath:n,writeTree:t}}class GI{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,Ec(o,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,Bd(o,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,su(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(o,Ec(o,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const Im=new class Jv{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class Dm{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Zs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ic(this.writes_,t,o)}}getChildAfterChild(t,e,o){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:cu(this.viewCache_),d=function Ab(n,t,e,o,a,d){return function WI(n,t,e,o,a,d,p){let C;const I=qs(n.visibleWrites,t),S=Qa(I,Ht());if(null!=S)C=S;else{if(null==e)return[];C=du(I,e)}if(C=C.withIndex(p),C.isEmpty()||C.isLeafNode())return[];{const U=[],W=p.getCompare(),ee=d?C.getReverseIteratorFrom(o,p):C.getIteratorFrom(o,p);let fe=ee.getNext();for(;fe&&U.length<a;)0!==W(fe,o)&&U.push(fe),fe=ee.getNext();return U}}(n.writeTree,n.treePath,t,e,o,a,d)}(this.writes_,a,e,1,o,t);return 0===d.length?null:d[0]}}function rC(n,t,e,o,a,d){const p=t.eventCache;if(null!=Ks(o,e))return t;{let C,I;if(kt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=cu(t),W=wm(o,S instanceof St?S:St.EMPTY_NODE);C=n.filter.updateFullNode(t.eventCache.getNode(),W,d)}else{const S=$f(o,cu(t));C=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=Nt(e);if(".priority"===S){(0,F.hu)(1===Za(e),"Can't have a priority with additional path components");const U=p.getNode();I=t.serverCache.getNode();const W=Qv(o,e,U,I);C=null!=W?n.filter.updatePriority(U,W):p.getNode()}else{const U=rn(e);let W;if(p.isCompleteForChild(S)){I=t.serverCache.getNode();const ee=Qv(o,e,p.getNode(),I);W=null!=ee?p.getNode().getImmediateChild(S).updateChild(U,ee):p.getNode().getImmediateChild(S)}else W=Ic(o,S,t.serverCache);C=null!=W?n.filter.updateChild(p.getNode(),S,W,U,a,d):p.getNode()}}return Gd(t,C,p.isFullyInitialized()||kt(e),n.filter.filtersNodes())}}function jf(n,t,e,o,a,d,p,C){const I=t.serverCache;let S;const U=p?n.filter:n.filter.getIndexedFilter();if(kt(e))S=U.updateFullNode(I.getNode(),o,null);else if(U.filtersNodes()&&!I.isFiltered()){const fe=I.getNode().updateChild(e,o);S=U.updateFullNode(I.getNode(),fe,null)}else{const fe=Nt(e);if(!I.isCompleteForPath(e)&&Za(e)>1)return t;const Se=rn(e),yt=I.getNode().getImmediateChild(fe).updateChild(Se,o);S=".priority"===fe?U.updatePriority(I.getNode(),yt):U.updateChild(I.getNode(),fe,yt,Se,Im,null)}const W=jv(t,S,I.isFullyInitialized()||kt(e),U.filtersNodes());return rC(n,W,e,a,new Dm(a,W,d),C)}function Tm(n,t,e,o,a,d,p){const C=t.eventCache;let I,S;const U=new Dm(a,t,d);if(kt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),o,p),I=Gd(t,S,!0,n.filter.filtersNodes());else{const W=Nt(e);if(".priority"===W)S=n.filter.updatePriority(t.eventCache.getNode(),o),I=Gd(t,S,C.isFullyInitialized(),C.isFiltered());else{const ee=rn(e),fe=C.getNode().getImmediateChild(W);let Se;if(kt(ee))Se=o;else{const tt=U.getCompleteChild(W);Se=null!=tt?".priority"===_f(ee)&&tt.getChild(yf(ee)).isEmpty()?tt:tt.updateChild(ee,o):St.EMPTY_NODE}I=fe.equals(Se)?t:Gd(t,n.filter.updateChild(C.getNode(),W,Se,ee,U,p),C.isFullyInitialized(),n.filter.filtersNodes())}}return I}function Dc(n,t){return n.eventCache.isCompleteForChild(t)}function iC(n,t,e){return e.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function Am(n,t,e,o,a,d,p,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,I=t;S=kt(e)?o:new cn(null).setTree(e,o);const U=t.serverCache.getNode();return S.children.inorderTraversal((W,ee)=>{if(U.hasChild(W)){const Se=iC(0,t.serverCache.getNode().getImmediateChild(W),ee);I=jf(n,I,new jt(W),Se,a,d,p,C)}}),S.children.inorderTraversal((W,ee)=>{const fe=!t.serverCache.isCompleteForChild(W)&&null===ee.value;if(!U.hasChild(W)&&!fe){const tt=iC(0,t.serverCache.getNode().getImmediateChild(W),ee);I=jf(n,I,new jt(W),tt,a,d,p,C)}}),I}class aC{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Rf(o.getIndex()),d=function _b(n){return n.loadsAllData()?new Rf(n.getIndex()):n.hasLimit()?new cs(n):new au(n)}(o);this.processor_=function Xv(n){return{filter:n}}(d);const p=e.serverCache,C=e.eventCache,I=a.updateFullNode(St.EMPTY_NODE,p.getNode(),null),S=d.updateFullNode(St.EMPTY_NODE,C.getNode(),null),U=new Zs(I,p.isFullyInitialized(),a.filtersNodes()),W=new Zs(S,C.isFullyInitialized(),d.filtersNodes());this.viewCache_=Vf(W,U),this.eventGenerator_=new vb(this.query_)}get query(){return this.query_}}function Yd(n,t){const e=cu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!kt(t)&&!e.getImmediateChild(Nt(t)).isEmpty())?e.getChild(t):null}function lC(n){return 0===n.eventRegistrations_.length}function uC(n,t,e){const o=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,a);p&&o.push(p)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const p=n.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return o}function Sm(n,t,e,o){t.type===Xr.MERGE&&null!==t.source.queryId&&((0,F.hu)(cu(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Bf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function tC(n,t,e,o,a){const d=new GI;let p,C;if(e.type===Xr.OVERWRITE){const S=e;S.source.fromUser?p=Tm(n,t,S.path,S.snap,o,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),C=S.source.tagged||t.serverCache.isFiltered()&&!kt(S.path),p=jf(n,t,S.path,S.snap,o,a,C,d))}else if(e.type===Xr.MERGE){const S=e;S.source.fromUser?p=function Sb(n,t,e,o,a,d,p){let C=t;return o.foreach((I,S)=>{const U=un(e,I);Dc(t,Nt(U))&&(C=Tm(n,C,U,S,a,d,p))}),o.foreach((I,S)=>{const U=un(e,I);Dc(t,Nt(U))||(C=Tm(n,C,U,S,a,d,p))}),C}(n,t,S.path,S.children,o,a,d):((0,F.hu)(S.source.fromServer,"Unknown source."),C=S.source.tagged||t.serverCache.isFiltered(),p=Am(n,t,S.path,S.children,o,a,C,d))}else if(e.type===Xr.ACK_USER_WRITE){const S=e;p=S.revert?function sC(n,t,e,o,a,d){let p;if(null!=Ks(o,e))return t;{const C=new Dm(o,t,a),I=t.eventCache.getNode();let S;if(kt(e)||".priority"===Nt(e)){let U;if(t.serverCache.isFullyInitialized())U=$f(o,cu(t));else{const W=t.serverCache.getNode();(0,F.hu)(W instanceof St,"serverChildren would be complete if leaf node"),U=wm(o,W)}S=n.filter.updateFullNode(I,U,d)}else{const U=Nt(e);let W=Ic(o,U,t.serverCache);null==W&&t.serverCache.isCompleteForChild(U)&&(W=I.getImmediateChild(U)),S=null!=W?n.filter.updateChild(I,U,W,rn(e),C,d):t.eventCache.getNode().hasChild(U)?n.filter.updateChild(I,U,St.EMPTY_NODE,rn(e),C,d):I,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=$f(o,cu(t)),p.isLeafNode()&&(S=n.filter.updateFullNode(S,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=Ks(o,Ht()),Gd(t,S,p,n.filter.filtersNodes())}}(n,t,S.path,o,a,d):function Wf(n,t,e,o,a,d,p){if(null!=Ks(a,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=o.value){if(kt(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return jf(n,t,e,I.getNode().getChild(e),a,d,C,p);if(kt(e)){let S=new cn(null);return I.getNode().forEachChild(Ni,(U,W)=>{S=S.set(new jt(U),W)}),Am(n,t,e,S,a,d,C,p)}return t}{let S=new cn(null);return o.foreach((U,W)=>{const ee=un(e,U);I.isCompleteForPath(ee)&&(S=S.set(U,I.getNode().getChild(ee)))}),Am(n,t,e,S,a,d,C,p)}}(n,t,S.path,S.affectedTree,o,a,d)}else{if(e.type!==Xr.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);p=function oC(n,t,e,o,a){const d=t.serverCache;return rC(n,jv(t,d.getNode(),d.isFullyInitialized()||kt(e),d.isFiltered()),e,o,Im,a)}(n,t,e.path,o,d)}const I=d.getChanges();return function nC(n,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Bf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(kv(Bf(t)))}}(t,p,I),{viewCache:p,changes:I}}(n.processor_,a,t,e,o);return function eC(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,F.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,Mm(n,d.changes,d.viewCache.eventCache.getNode(),null)}function Mm(n,t,e,o){return function Cb(n,t,e,o){const a=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function $I(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),Wd(n,a,"child_removed",t,o,e),Wd(n,a,"child_added",t,o,e),Wd(n,a,"child_moved",d,o,e),Wd(n,a,"child_changed",t,o,e),Wd(n,a,"value",t,o,e),a}(n.eventGenerator_,t,e,o?[o]:n.eventRegistrations_)}let Gf,Zf;class Rm{constructor(){this.views=new Map}}function dC(n,t,e,o){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,F.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Sm(d,t,e,o)}{let d=[];for(const p of n.views.values())d=d.concat(Sm(p,t,e,o));return d}}function Nb(n,t,e,o,a){const p=n.views.get(t._queryIdentifier);if(!p){let C=$f(e,a?o:null),I=!1;C?I=!0:o instanceof St?(C=wm(e,o),I=!1):(C=St.EMPTY_NODE,I=!1);const S=Vf(new Zs(C,I,!1),new Zs(o,a,!1));return new aC(t,S)}return p}function Qd(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ja(n,t){let e=null;for(const o of n.views.values())e=e||Yd(o,t);return e}function fC(n,t){return t._queryParams.loadsAllData()?zf(n):n.views.get(t._queryIdentifier)}function Pm(n,t){return null!=fC(n,t)}function ro(n){return null!=zf(n)}function zf(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qI=1;class pC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new cn(null),this.pendingWriteTree_=function ct(){return{visibleWrites:Oo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qf(n,t,e,o,a){return function Gv(n,t,e,o,a){(0,F.hu)(o>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:o,visible:a}),a&&(n.visibleWrites=zd(n.visibleWrites,t,e)),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o,a),a?pu(n,new Ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Xa(n,t,e=!1){const o=function Zv(n,t){for(let e=0;e<n.allWrites.length;e++){const o=n.allWrites[e];if(o.writeId===t)return o}return null}(n.pendingWriteTree_,t);if(function qv(n,t){const e=n.allWrites.findIndex(C=>C.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=n.allWrites[e];n.allWrites.splice(e,1);let a=o.visible,d=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const C=n.allWrites[p];C.visible&&(p>=e&&hu(C,o.path)?a=!1:to(o.path,C.path)&&(d=!0)),p--}return!!a&&(d?(function Ib(n){n.visibleWrites=fu(n.allWrites,Db,Ht()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(o.snap?n.visibleWrites=Wv(n.visibleWrites,o.path):Jn(o.children,I=>{n.visibleWrites=Wv(n.visibleWrites,un(o.path,I))}),!0))}(n.pendingWriteTree_,t)){let d=new cn(null);return null!=o.snap?d=d.set(Ht(),!0):Jn(o.children,p=>{d=d.set(new jt(p),!0)}),pu(n,new jd(o.path,d,e))}return[]}function Ys(n,t,e){return pu(n,new Ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Jd(n,t,e,o,a=!1){const d=t._path,p=n.syncPointTree_.get(d);let C=[];if(p&&("default"===t._queryIdentifier||Pm(p,t))){const I=function hC(n,t,e,o){const a=t._queryIdentifier,d=[];let p=[];const C=ro(n);if("default"===a)for(const[I,S]of n.views.entries())p=p.concat(uC(S,e,o)),lC(S)&&(n.views.delete(I),S.query._queryParams.loadsAllData()||d.push(S.query));else{const I=n.views.get(a);I&&(p=p.concat(uC(I,e,o)),lC(I)&&(n.views.delete(a),I.query._queryParams.loadsAllData()||d.push(I.query)))}return C&&!ro(n)&&d.push(new(function Ob(){return(0,F.hu)(Gf,"Reference.ts has not been loaded"),Gf}())(t._repo,t._path)),{removed:d,events:p}}(p,t,e,o);(function zI(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const S=I.removed;if(C=I.events,!a){const U=-1!==S.findIndex(ee=>ee._queryParams.loadsAllData()),W=n.syncPointTree_.findOnPath(d,(ee,fe)=>ro(fe));if(U&&!W){const ee=n.syncPointTree_.subtree(d);if(!ee.isEmpty()){const fe=function Bb(n){return n.fold((t,e,o)=>{if(e&&ro(e))return[zf(e)];{let a=[];return e&&(a=Qd(e)),Jn(o,(d,p)=>{a=a.concat(p)}),a}})}(ee);for(let Se=0;Se<fe.length;++Se){const tt=fe[Se],yt=tt.query,Ut=vC(n,tt);n.listenProvider_.startListening(eh(yt),Xd(n,yt),Ut.hashFn,Ut.onComplete)}}}!W&&S.length>0&&!o&&(U?n.listenProvider_.stopListening(eh(t),null):S.forEach(ee=>{const fe=n.queryToTagMap.get(Ac(ee));n.listenProvider_.stopListening(eh(ee),fe)}))}!function Hb(n,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const a=Ac(o),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,S)}return C}function mC(n,t,e,o){const a=xm(n,o);if(null!=a){const d=Kf(a),p=d.path,C=d.queryId,I=gr(p,t);return km(n,p,new Ya(Uf(C),I,e))}return[]}function Om(n,t,e,o=!1){const a=t._path;let d=null,p=!1;n.syncPointTree_.foreachOnPath(a,(ee,fe)=>{const Se=gr(ee,a);d=d||Ja(fe,Se),p=p||ro(fe)});let I,C=n.syncPointTree_.get(a);C?(p=p||ro(C),d=d||Ja(C,Ht())):(C=new Rm,n.syncPointTree_=n.syncPointTree_.set(a,C)),null!=d?I=!0:(I=!1,d=St.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((fe,Se)=>{const tt=Ja(Se,Ht());tt&&(d=d.updateImmediateChild(fe,tt))}));const S=Pm(C,t);if(!S&&!t._queryParams.loadsAllData()){const ee=Ac(t);(0,F.hu)(!n.queryToTagMap.has(ee),"View does not exist, but we have a tag");const fe=function $b(){return qI++}();n.queryToTagMap.set(ee,fe),n.tagToQueryMap.set(fe,ee)}let W=function ZI(n,t,e,o,a,d){const p=Nb(n,t,o,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function Rb(n,t){n.eventRegistrations_.push(t)}(p,e),function cC(n,t){const e=n.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(gn,(d,p)=>{o.push(su(d,p))}),e.isFullyInitialized()&&o.push(kv(e.getNode())),Mm(n,o,e.getNode(),t)}(p,e)}(C,t,e,Zd(n.pendingWriteTree_,a),d,I);if(!S&&!p&&!o){const ee=fC(C,t);W=W.concat(function jb(n,t,e){const o=t._path,a=Xd(n,t),d=vC(n,e),p=n.listenProvider_.startListening(eh(t),a,d.hashFn,d.onComplete),C=n.syncPointTree_.subtree(o);if(a)(0,F.hu)(!ro(C.value),"If we're adding a query, it shouldn't be shadowed");else{const I=C.fold((S,U,W)=>{if(!kt(S)&&U&&ro(U))return[zf(U).query];{let ee=[];return U&&(ee=ee.concat(Qd(U).map(fe=>fe.query))),Jn(W,(fe,Se)=>{ee=ee.concat(Se)}),ee}});for(let S=0;S<I.length;++S){const U=I[S];n.listenProvider_.stopListening(eh(U),Xd(n,U))}}return p}(n,t,ee))}return W}function Tc(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(p,C)=>{const S=Ja(C,gr(p,t));if(S)return S});return Tb(a,t,d,e,!0)}function pu(n,t){return Nm(t,n.syncPointTree_,null,Zd(n.pendingWriteTree_,Ht()))}function Nm(n,t,e,o){if(kt(n.path))return yC(n,t,e,o);{const a=t.get(Ht());null==e&&null!=a&&(e=Ja(a,Ht()));let d=[];const p=Nt(n.path),C=n.operationForChild(p),I=t.children.get(p);if(I&&C){const S=e?e.getImmediateChild(p):null,U=qd(o,p);d=d.concat(Nm(C,I,S,U))}return a&&(d=d.concat(dC(a,n,o,e))),d}}function yC(n,t,e,o){const a=t.get(Ht());null==e&&null!=a&&(e=Ja(a,Ht()));let d=[];return t.children.inorderTraversal((p,C)=>{const I=e?e.getImmediateChild(p):null,S=qd(o,p),U=n.operationForChild(p);U&&(d=d.concat(yC(U,C,I,S)))}),a&&(d=d.concat(dC(a,n,o,e))),d}function vC(n,t){const e=t.query,o=Xd(n,e);return{hashFn:()=>(function Mb(n){return n.viewCache_.serverCache.getNode()}(t)||St.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return o?function Ub(n,t,e){const o=xm(n,e);if(o){const a=Kf(o),d=a.path,p=a.queryId,C=gr(d,t);return km(n,d,new wc(Uf(p),C))}return[]}(n,e._path,o):function gC(n,t){return pu(n,new wc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function Hg(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const o=new Error(n+" at "+t._path.toString()+": "+e);return o.code=n.toUpperCase(),o}(a,e);return Jd(n,e,null,d)}}}}function Xd(n,t){const e=Ac(t);return n.queryToTagMap.get(e)}function Ac(n){return n._path.toString()+"$"+n._queryIdentifier}function xm(n,t){return n.tagToQueryMap.get(t)}function Kf(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new jt(n.substr(0,t))}}function km(n,t,e){const o=n.syncPointTree_.get(t);return(0,F.hu)(o,"Missing sync point for query tag that we're tracking"),dC(o,e,Zd(n.pendingWriteTree_,t),null)}function eh(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function kb(){return(0,F.hu)(Zf,"Reference.ts has not been loaded"),Zf}())(n._repo,n._path):n}class Fm{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Fm(e)}node(){return this.node_}}class Lm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=un(this.path_,t);return new Lm(this.syncTree_,e)}node(){return Tc(this.syncTree_,this.path_)}}const Um=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Wb(n[".sv"],t,e):"object"==typeof n[".sv"]?Gb(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Wb=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Gb=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const o=n.increment;"number"!=typeof o&&(0,F.hu)(!1,"Unexpected increment value: "+o);const a=t.node();if((0,F.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const p=a.getValue();return"number"!=typeof p?o:p+o},Vm=function(n,t,e,o){return Hm(t,new Lm(e,n),o)},Bm=function(n,t,e){return Hm(n,new Fm(t),e)};function Hm(n,t,e){const o=n.getPriority().val(),a=Um(o,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const p=n,C=Um(p.getValue(),t,e);return C!==p.getValue()||a!==p.getPriority().val()?new mc(C,Tn(a)):n}{const p=n;return d=p,a!==p.getPriority().val()&&(d=d.updatePriority(new mc(a))),p.forEachChild(gn,(C,I)=>{const S=Hm(I,t.getImmediateChild(C),e);S!==I&&(d=d.updateImmediateChild(C,S))}),d}}class $m{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function Sc(n,t){let e=t instanceof jt?t:new jt(t),o=n,a=Nt(e);for(;null!==a;){const d=(0,F.DV)(o.node.children,a)||{children:{},childCount:0};o=new $m(a,o,d),e=rn(e),a=Nt(e)}return o}function Qs(n){return n.node.value}function Yf(n,t){n.node.value=t,el(n)}function Qf(n){return n.node.childCount>0}function Jf(n,t){Jn(n.node.children,(e,o)=>{t(new $m(e,n,o))})}function Xf(n,t,e,o){e&&!o&&t(n),Jf(n,a=>{Xf(a,t,!0,o)}),e&&o&&t(n)}function Mc(n){return new jt(null===n.parent?n.name:Mc(n.parent)+"/"+n.name)}function el(n){null!==n.parent&&function EC(n,t,e){const o=function zb(n){return void 0===Qs(n)&&!Qf(n)}(e),a=(0,F.r3)(n.node.children,t);o&&a?(delete n.node.children[t],n.node.childCount--,el(n)):!o&&!a&&(n.node.children[t]=e.node,n.node.childCount++,el(n))}(n.parent,n.name,n)}const qb=/[\[\].#$\/\u0000-\u001F\u007F]/,KI=/[\[\].#$\u0000-\u001F\u007F]/,ep=10485760,Rc=function(n){return"string"==typeof n&&0!==n.length&&!qb.test(n)},bC=function(n){return"string"==typeof n&&0!==n.length&&!KI.test(n)},th=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!df(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},No=function(n,t,e,o){o&&void 0===t||gu((0,F.gK)(n,"value"),t,e)},gu=function(n,t,e){const o=e instanceof jt?new sm(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Gs(o));if("function"==typeof t)throw new Error(n+"contains a function "+Gs(o)+" with contents = "+t.toString());if(df(t))throw new Error(n+"contains "+t.toString()+" "+Gs(o));if("string"==typeof t&&t.length>ep/3&&(0,F.ug)(t)>ep)throw new Error(n+"contains a string greater than "+ep+" utf8 bytes "+Gs(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(Jn(t,(p,C)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!Rc(p)))throw new Error(n+" contains an invalid key ("+p+") "+Gs(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function am(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),lm(n)})(o,p),gu(n,C,o),function Sv(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(o)}),a&&d)throw new Error(n+' contains ".value" child '+Gs(o)+" in addition to actual children.")}},Wm=function(n,t,e,o){if(o&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];Jn(t,(p,C)=>{const I=new jt(p);if(gu(a,C,un(e,I)),".priority"===_f(I)&&!th(C))throw new Error(a+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(I)}),function(n,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=pc(o);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!Rc(d[p]))throw new Error(n+"contains an invalid key ("+d[p]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(vf);let a=null;for(e=0;e<t.length;e++){if(o=t[e],null!==a&&to(a,o))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}}(a,d)},tp=function(n,t,e){if(!e||void 0!==t){if(df(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!th(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Pc=function(n,t,e,o){if(!(o&&void 0===e||Rc(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},nh=function(n,t,e,o){if(!(o&&void 0===e||bC(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},io=function(n,t){if(".info"===Nt(t))throw new Error(n+" failed = Can't modify data under /.info/")},IC=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Rc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bC(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class DC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gm(n,t){let e=null;for(let o=0;o<t.length;o++){const a=t[o],d=a.getPath();null!==e&&!Ld(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function zm(n,t,e){Gm(n,e),TC(n,o=>Ld(o,t))}function ki(n,t,e){Gm(n,e),TC(n,o=>to(o,t)||to(t,o))}function TC(n,t){n.recursionDepth_++;let e=!0;for(let o=0;o<n.eventLists_.length;o++){const a=n.eventLists_[o];a&&(t(a.path)?(YI(n.eventLists_[o]),n.eventLists_[o]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function YI(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const o=e.getEventRunner();zl&&pr("event: "+e.toString()),Kl(o)}}}const AC="repo_interrupt";class Qb{constructor(t,e,o,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xf(),this.transactionQueueTree_=new $m,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SC(n){const e=n.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function rh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:SC(n)})}function MC(n,t,e,o,a){n.dataUpdateCount++;const d=new jt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(o){const I=(0,F.UI)(e,S=>Tn(S));p=function _C(n,t,e,o){const a=xm(n,o);if(a){const d=Kf(a),p=d.path,C=d.queryId,I=gr(p,t),S=cn.fromObject(e);return km(n,p,new uu(Uf(C),I,S))}return[]}(n.serverSyncTree_,d,I,a)}else{const I=Tn(e);p=mC(n.serverSyncTree_,d,I,a)}else if(o){const I=(0,F.UI)(e,S=>Tn(S));p=function Lb(n,t,e){const o=cn.fromObject(e);return pu(n,new uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,d,I)}else{const I=Tn(e);p=Ys(n.serverSyncTree_,d,I)}let C=d;p.length>0&&(C=ei(n,d)),ki(n.eventQueue_,C,p)}function RC(n,t){Zm(n,"connected",t),!1===t&&function OC(n){Oc(n,"onDisconnectEvents");const t=rh(n),e=xf();kf(n.onDisconnect_,Ht(),(a,d)=>{const p=Vm(a,d,n.serverSyncTree_,t);lu(e,a,p)});let o=[];kf(e,Ht(),(a,d)=>{o=o.concat(Ys(n.serverSyncTree_,a,d));const p=Ym(n,a);ei(n,p)}),n.onDisconnect_=xf(),ki(n.eventQueue_,Ht(),o)}(n)}function Zm(n,t,e){const o=new jt("/.info/"+t),a=Tn(e);n.infoData_.updateSnapshot(o,a);const d=Ys(n.infoSyncTree_,o,a);ki(n.eventQueue_,o,d)}function np(n){return n.nextWriteId_++}function mu(n,t,e,o,a){Oc(n,"set",{path:t.toString(),value:e,priority:o});const d=rh(n),p=Tn(e,o),C=Tc(n.serverSyncTree_,t),I=Bm(p,C,d),S=np(n),U=qf(n.serverSyncTree_,t,I,S,!0);Gm(n.eventQueue_,U),n.server_.put(t.toString(),p.val(!0),(ee,fe)=>{const Se="ok"===ee;Se||Hr("set at "+t+" failed: "+ee);const tt=Xa(n.serverSyncTree_,S,!Se);ki(n.eventQueue_,t,tt),tl(0,a,ee,fe)});const W=Ym(n,t);ei(n,W),ki(n.eventQueue_,W,[])}function NC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(o,a)=>{"ok"===o&&gm(n.onDisconnect_,t),tl(0,e,o,a)})}function qm(n,t,e,o){const a=Tn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,p)=>{"ok"===d&&lu(n.onDisconnect_,t,a),tl(0,o,d,p)})}function kC(n,t,e){let o;o=".info"===Nt(t._path)?Jd(n.infoSyncTree_,t,e):Jd(n.serverSyncTree_,t,e),zm(n.eventQueue_,t._path,o)}function FC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(AC)}function Oc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),pr(e,...t)}function tl(n,t,e,o){t&&Kl(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;o&&(d+=": "+o);const p=new Error(d);p.code=a,t(p)}})}function _u(n,t,e){return Tc(n.serverSyncTree_,t,e)||St.EMPTY_NODE}function rp(n,t=n.transactionQueueTree_){if(t||op(n,t),Qs(t)){const e=Nc(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function Km(n,t,e){const o=e.map(S=>S.currentWriteId),a=_u(n,t,o);let d=a;const p=a.hash();for(let S=0;S<e.length;S++){const U=e[S];(0,F.hu)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const W=gr(t,U.path);d=d.updateChild(W,U.currentOutputSnapshotRaw)}const C=d.val(!0),I=t;n.server_.put(I.toString(),C,S=>{Oc(n,"transaction put response",{path:I.toString(),status:S});let U=[];if("ok"===S){const W=[];for(let ee=0;ee<e.length;ee++)e[ee].status=2,U=U.concat(Xa(n.serverSyncTree_,e[ee].currentWriteId)),e[ee].onComplete&&W.push(()=>e[ee].onComplete(null,!0,e[ee].currentOutputSnapshotResolved)),e[ee].unwatcher();op(n,Sc(n.transactionQueueTree_,t)),rp(n,n.transactionQueueTree_),ki(n.eventQueue_,t,U);for(let ee=0;ee<W.length;ee++)Kl(W[ee])}else{if("datastale"===S)for(let W=0;W<e.length;W++)e[W].status=3===e[W].status?4:0;else{Hr("transaction at "+I.toString()+" failed: "+S);for(let W=0;W<e.length;W++)e[W].status=4,e[W].abortReason=S}ei(n,t)}},p)}(n,Mc(t),e)}else Qf(t)&&Jf(t,e=>{rp(n,e)})}function ei(n,t){const e=ip(n,t),o=Mc(e);return function ow(n,t,e){if(0===t.length)return;const o=[];let a=[];const p=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],S=gr(e,I.path);let W,U=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)U=!0,W=I.abortReason,a=a.concat(Xa(n.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)U=!0,W="maxretry",a=a.concat(Xa(n.serverSyncTree_,I.currentWriteId,!0));else{const ee=_u(n,I.path,p);I.currentInputSnapshot=ee;const fe=t[C].update(ee.val());if(void 0!==fe){gu("transaction failed: Data returned ",fe,I.path);let Se=Tn(fe);"object"==typeof fe&&null!=fe&&(0,F.r3)(fe,".priority")||(Se=Se.updatePriority(ee.getPriority()));const yt=I.currentWriteId,Ut=rh(n),Xt=Bm(Se,ee,Ut);I.currentOutputSnapshotRaw=Se,I.currentOutputSnapshotResolved=Xt,I.currentWriteId=np(n),p.splice(p.indexOf(yt),1),a=a.concat(qf(n.serverSyncTree_,I.path,Xt,I.currentWriteId,I.applyLocally)),a=a.concat(Xa(n.serverSyncTree_,yt,!0))}else U=!0,W="nodata",a=a.concat(Xa(n.serverSyncTree_,I.currentWriteId,!0))}ki(n.eventQueue_,e,a),a=[],U&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&o.push("nodata"===W?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(W),!1,null)))}op(n,n.transactionQueueTree_);for(let C=0;C<o.length;C++)Kl(o[C]);rp(n,n.transactionQueueTree_)}(n,Nc(n,e),o),o}function ip(n,t){let e,o=n.transactionQueueTree_;for(e=Nt(t);null!==e&&void 0===Qs(o);)o=Sc(o,e),e=Nt(t=rn(t));return o}function Nc(n,t){const e=[];return LC(n,t,e),e.sort((o,a)=>o.order-a.order),e}function LC(n,t,e){const o=Qs(t);if(o)for(let a=0;a<o.length;a++)e.push(o[a]);Jf(t,a=>{LC(n,a,e)})}function op(n,t){const e=Qs(t);if(e){let o=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[o]=e[a],o++);e.length=o,Yf(t,e.length>0?e:void 0)}Jf(t,o=>{op(n,o)})}function Ym(n,t){const e=Mc(ip(n,t)),o=Sc(n.transactionQueueTree_,t);return function Zb(n,t,e){let o=e?n:n.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,a=>{xc(n,a)}),xc(n,o),Xf(o,a=>{xc(n,a)}),e}function xc(n,t){const e=Qs(t);if(e){const o=[];let a=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,F.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,F.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(Xa(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&o.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Yf(t,void 0):e.length=d+1,ki(n.eventQueue_,Mc(t),a);for(let p=0;p<o.length;p++)Kl(o[p])}}const Qm=function(n,t){const e=UC(n),o=e.namespace;return"firebase.com"===e.domain&&as(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&as("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zg(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new jt(e.pathString)}},UC=function(n){let t="",e="",o="",a="",d="",p=!0,C="https",I=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(C=n.substring(0,S-1),n=n.substring(S+2));let U=n.indexOf("/");-1===U&&(U=n.length);let W=n.indexOf("?");-1===W&&(W=n.length),t=n.substring(0,Math.min(U,W)),U<W&&(a=function sp(n){let t="";const e=n.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let a=e[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(U,W)));const ee=function sw(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Hr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,W)));S=t.indexOf(":"),S>=0?(p="https"===C||"wss"===C,I=parseInt(t.substring(S+1),10)):S=t.length;const fe=t.slice(0,S);if("localhost"===fe.toLowerCase())e="localhost";else if(fe.split(".").length<=2)e=fe;else{const Se=t.indexOf(".");o=t.substring(0,Se).toLowerCase(),e=t.substring(Se+1),d=o}"ns"in ee&&(d=ee.ns)}return{host:t,port:I,domain:e,subdomain:o,secure:p,scheme:C,pathString:a,namespace:d}},Jm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xm=function(){let n=0;const t=[];return function(e){const o=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Jm.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(o){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=Jm.charAt(t[a]);return(0,F.hu)(20===p.length,"nextPushId: Length should be 20."),p}}();class e_{constructor(t,e,o,a){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class ap{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ih{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class t_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return NC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){io("OnDisconnect.remove",this._path);const t=new F.BH;return qm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){io("OnDisconnect.set",this._path),No("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return qm(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){io("OnDisconnect.setWithPriority",this._path),No("OnDisconnect.setWithPriority",t,this._path,!1),tp("OnDisconnect.setWithPriority",e,!1);const o=new F.BH;return function xC(n,t,e,o,a){const d=Tn(e,o);n.server_.onDisconnectPut(t.toString(),d.val(!0),(p,C)=>{"ok"===p&&lu(n.onDisconnect_,t,d),tl(0,a,p,C)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){io("OnDisconnect.update",this._path),Wm("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function tw(n,t,e,o){if((0,F.xb)(e))return pr("onDisconnect().update() called with empty data.  Don't do anything."),void tl(0,o,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&Jn(e,(p,C)=>{const I=Tn(C);lu(n.onDisconnect_,un(t,p),I)}),tl(0,o,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class jr{constructor(t,e,o,a){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=a}get key(){return kt(this._path)?null:_f(this._path)}get ref(){return new oo(this._repo,this._path)}get _queryIdentifier(){const t=Uv(this._queryParams),e=Bg(t);return"{}"===e?"default":e}get _queryObject(){return Uv(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof jr))return!1;const e=this._repo===t._repo,o=Ld(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function db(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function kc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Ni){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==us)throw new Error(o);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Ws)throw new Error(o);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===gn){if(null!=t&&!th(t)||null!=e&&!th(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Mf||n.getIndex()===pm,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oo extends jr{constructor(t,e){super(t,e,new Pf,!1)}get parent(){const t=yf(this._path);return null===t?null:new oo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class yu{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new jt(t),o=rl(this.ref,t);return new yu(this._node.getChild(e),o,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,a)=>t(new yu(a,rl(this.ref,o),gn)))}hasChild(t){const e=new jt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function n_(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?rl(n._root,t):n._root}function up(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=Qm(t,n._repo.repoInfo_.nodeAdmin);IC("refFromURL",e);const o=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&o.host!==n._repo.repoInfo_.host&&as("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),n_(n,e.path.toString())}function rl(n,t){return null===Nt((n=(0,F.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nh("child","path",e,!1)):nh("child","path",t,!1),new oo(n._repo,un(n._path,t));var e}function r_(n,t){n=(0,F.m9)(n),io("set",n._path),No("set",t,n._path,!1);const e=new F.BH;return mu(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function aw(n,t){Wm("update",t,n._path,!1);const e=new F.BH;return function PC(n,t,e,o){Oc(n,"update",{path:t.toString(),value:e});let a=!0;const d=rh(n),p={};if(Jn(e,(C,I)=>{a=!1,p[C]=Vm(un(t,C),Tn(I),n.serverSyncTree_,d)}),a)pr("update() called with empty data.  Don't do anything."),tl(0,o,"ok",void 0);else{const C=np(n),I=function Fb(n,t,e,o){!function zv(n,t,e,o){(0,F.hu)(o>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:o,visible:!0}),n.visibleWrites=ym(n.visibleWrites,t,e),n.lastWriteId=o}(n.pendingWriteTree_,t,e,o);const a=cn.fromObject(e);return pu(n,new uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,C);Gm(n.eventQueue_,I),n.server_.merge(t.toString(),e,(S,U)=>{const W="ok"===S;W||Hr("update at "+t+" failed: "+S);const ee=Xa(n.serverSyncTree_,C,!W),fe=ee.length>0?ei(n,t):t;ki(n.eventQueue_,fe,ee),tl(0,o,S,U)}),Jn(e,S=>{const U=Ym(n,un(t,S));ei(n,U)}),ki(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function jC(n){n=(0,F.m9)(n);const t=new ih(()=>{}),e=new oh(t);return function ew(n,t,e){const o=function Vb(n,t){const e=t._path;let o=null;n.syncPointTree_.foreachOnPath(e,(S,U)=>{const W=gr(S,e);o=o||Ja(U,W)});let a=n.syncPointTree_.get(e);a?o=o||Ja(a,Ht()):(a=new Rm,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=o,p=d?new Zs(o,!0,!1):null;return function Kd(n){return Bf(n.viewCache_)}(Nb(a,t,Zd(n.pendingWriteTree_,t._path),d?p.getNode():St.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=o?Promise.resolve(o):n.server_.get(t).then(a=>{const d=Tn(a).withIndex(t._queryParams.getIndex());let p;if(Om(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=Ys(n.serverSyncTree_,t._path,d);else{const C=Xd(n.serverSyncTree_,t);p=mC(n.serverSyncTree_,t._path,d,C)}return ki(n.eventQueue_,t._path,p),Jd(n.serverSyncTree_,t,e,null,!0),d},a=>(Oc(n,"get for query "+(0,F.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(o=>new yu(o,new oo(n._repo,n._path),n._queryParams.getIndex()))}class oh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new e_("value",this,new yu(t.snapshotNode,new oo(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ap(this,t,e):null}matches(t){return t instanceof oh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mr{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ap(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const o=rl(new oo(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new e_(t.type,this,new yu(t.snapshotNode,o,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof mr&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function hs(n,t,e,o,a){let d;if("object"==typeof o&&(d=void 0,a=o),"function"==typeof o&&(d=o),a&&a.onlyOnce){const I=e,S=(U,W)=>{kC(n._repo,n,C),I(U,W)};S.userCallback=e.userCallback,S.context=e.context,e=S}const p=new ih(e,d||void 0),C="value"===t?new oh(p):new mr(t,p);return function nw(n,t,e){let o;o=".info"===Nt(t._path)?Om(n.infoSyncTree_,t,e):Om(n.serverSyncTree_,t,e),zm(n.eventQueue_,t._path,o)}(n._repo,n,C),()=>kC(n._repo,n,C)}function i_(n,t,e,o){return hs(n,"value",t,e,o)}function WC(n,t,e,o){return hs(n,"child_added",t,e,o)}function lw(n,t,e,o){return hs(n,"child_changed",t,e,o)}function uw(n,t,e,o){return hs(n,"child_moved",t,e,o)}function o_(n,t,e,o){return hs(n,"child_removed",t,e,o)}function s_(n,t,e){let o=null;const a=e?new ih(e):null;"value"===t?o=new oh(a):t&&(o=new mr(t,a)),kC(n._repo,n,o)}class ti{}class GC extends ti{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("endAt",this._value,t._path,!0);const e=Of(t._queryParams,this._value,this._key);if(lp(e),nl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jr(t._repo,t._path,e,t._orderByCalled)}}class cw extends ti{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("endBefore",this._value,t._path,!1);const e=function yb(n,t,e){let o;return o=Of(n,t,n.index_===Ni||e?e:us),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(lp(e),nl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jr(t._repo,t._path,e,t._orderByCalled)}}class ZC extends ti{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("startAt",this._value,t._path,!0);const e=xi(t._queryParams,this._value,this._key);if(lp(e),nl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jr(t._repo,t._path,e,t._orderByCalled)}}class hw extends ti{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){No("startAfter",this._value,t._path,!1);const e=function Fv(n,t,e){let o;return o=xi(n,t,n.index_===Ni||e?e:Ws),o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(lp(e),nl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new jr(t._repo,t._path,e,t._orderByCalled)}}class qC extends ti{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new jr(t._repo,t._path,function ds(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class cp extends ti{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new jr(t._repo,t._path,function Po(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class JI extends ti{constructor(t){super(),this._path=t}_apply(t){kc(t,"orderByChild");const e=new jt(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Mf(e),a=Nf(t._queryParams,o);return nl(a),new jr(t._repo,t._path,a,!0)}}class fw extends ti{_apply(t){kc(t,"orderByKey");const e=Nf(t._queryParams,Ni);return nl(e),new jr(t._repo,t._path,e,!0)}}class Fc extends ti{_apply(t){kc(t,"orderByPriority");const e=Nf(t._queryParams,gn);return nl(e),new jr(t._repo,t._path,e,!0)}}class JC extends ti{_apply(t){kc(t,"orderByValue");const e=Nf(t._queryParams,pm);return nl(e),new jr(t._repo,t._path,e,!0)}}class XI extends ti{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(No("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GC(this._value,this._key)._apply(new ZC(this._value,this._key)._apply(t))}}function fs(n,...t){let e=(0,F.m9)(n);for(const o of t)e=o._apply(e);return e}(function Pb(n){(0,F.hu)(!Gf,"__referenceConstructor has already been defined"),Gf=n})(oo),function xb(n){(0,F.hu)(!Zf,"__referenceConstructor has already been defined"),Zf=n}(oo);const d_={};function h_(n,t,e,o,a){let d=o||n.options.databaseURL;void 0===d&&(n.options.projectId||as("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pr("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let I,S,p=Qm(d,a),C=p.repoInfo;typeof process<"u"&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(I=!0,d=`http://${S}?ns=${C.namespace}`,p=Qm(d,a),C=p.repoInfo):I=!p.repoInfo.secure;const U=a&&I?new Oi(Oi.OWNER):new jg(n.name,n.options,t);IC("Invalid Firebase Database URL",p),kt(p.path)||as("Database URL must point to the root of a Firebase Database (not including a child path).");const W=function t0(n,t,e,o){let a=d_[t.name];a||(a={},d_[t.name]=a);let d=a[n.toURLString()];return d&&as("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new Qb(n,false,e,o),a[n.toURLString()]=d,d}(C,n,U,new gv(n.name,e));return new yw(W,n)}class yw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jb(n,t,e){if(n.stats_=Kg(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bc(n.repoInfo_,(o,a,d,p)=>{MC(n,o,a,d,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>RC(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}n.persistentConnection_=new qa(n.repoInfo_,t,(o,a,d,p)=>{MC(n,o,a,d,p)},o=>{RC(n,o)},o=>{!function Xb(n,t){Jn(t,(e,o)=>{Zm(n,e,o)})}(n,o)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(o=>{n.server_.refreshAuthToken(o)}),n.appCheckProvider_.addTokenChangeListener(o=>{n.server_.refreshAppCheckToken(o.token)}),n.statsReporter_=function Ev(n,t){const e=n.toString();return qg[e]||(qg[e]=t()),qg[e]}(n.repoInfo_,()=>new mm(n.stats_,n.server_)),n.infoData_=new Hd,n.infoSyncTree_=new pC({startListening:(o,a,d,p)=>{let C=[];const I=n.infoData_.getNode(o._path);return I.isEmpty()||(C=Ys(n.infoSyncTree_,o._path,I),setTimeout(()=>{p("ok")},0)),C},stopListening:()=>{}}),Zm(n,"connected",!1),n.serverSyncTree_=new pC({startListening:(o,a,d,p)=>(n.server_.listen(o,d,a,(C,I)=>{const S=p(C,I);ki(n.eventQueue_,o._path,S)}),[]),stopListening:(o,a)=>{n.server_.unlisten(o,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oo(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _w(n,t){const e=d_[t];(!e||e[n.key]!==n)&&as(`Database ${t}(${n.repoInfo_}) has already been deleted.`),FC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&as("Cannot call "+t+" on a deleted database.")}}function r0(){cc.IS_TRANSPORT_INITIALIZED&&Hr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function o0(){r0(),Xi.forceDisallow()}function vw(){r0(),Qr.forceDisallow(),Xi.forceAllow()}function s0(n=(0,js.getApp)(),t){const e=(0,js._getProvider)(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const o=(0,F.P0)("database");o&&f_(e,...o)}return e}function f_(n,t,e,o={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&as("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&as('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Oi(Oi.OWNER);else if(o.mockUserToken){const p="string"==typeof o.mockUserToken?o.mockUserToken:(0,F.Sg)(o.mockUserToken,n.app.options.projectId);d=new Oi(p)}!function e0(n,t,e,o){n.repoInfo_=new zg(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),o&&(n.authTokenProvider_=o)}(a,t,e,d)}function Cw(n,t){cv(n,t)}const eD={".sv":"timestamp"};class nD{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qa.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},qa.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ew(n){av(js.SDK_VERSION),(0,js._registerComponent)(new Ga.wA("database",(t,{instanceIdentifier:e})=>h_(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,js.registerVersion)(sv,"0.14.4",n),(0,js.registerVersion)(sv,"0.14.4","esm2017")}();const sD=new Pd.Yd("@firebase/database-compat"),sh=function(n){sD.warn("FIREBASE WARNING: "+n)};class dp{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const a=this._delegate.setWithPriority(t,e);return o&&a.then(()=>o(null),d=>o(d)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,sh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),a=>e(a)),o}}class d0{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Js{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),nh("DataSnapshot.child","path",t,!1),new Js(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),nh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Js(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new ni(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Wr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,a){var d;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const p=Wr.getCancelAndContextArgs_("Query.on",o,a),C=(S,U)=>{e.call(p.context,new Js(this.database,S),U)};C.userCallback=e,C.context=p.context;const I=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return i_(this._delegate,C,I),e;case"child_added":return WC(this._delegate,C,I),e;case"child_removed":return o_(this._delegate,C,I),e;case"child_changed":return lw(this._delegate,C,I),e;case"child_moved":return uw(this._delegate,C,I),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",o,!0),e){const a=()=>{};a.userCallback=e,a.context=o,s_(this._delegate,t,a)}else s_(this._delegate,t)}get(){return jC(this._delegate).then(t=>new Js(this.database,t))}once(t,e,o,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const d=Wr.getCancelAndContextArgs_("Query.once",o,a),p=new F.BH,C=(S,U)=>{const W=new Js(this.database,S);e&&e.call(d.context,W,U),p.resolve(W)};C.userCallback=e,C.context=d.context;const I=S=>{d.cancel&&d.cancel.call(d.context,S),p.reject(S)};switch(t){case"value":i_(this._delegate,C,I,{onlyOnce:!0});break;case"child_added":WC(this._delegate,C,I,{onlyOnce:!0});break;case"child_removed":o_(this._delegate,C,I,{onlyOnce:!0});break;case"child_changed":lw(this._delegate,C,I,{onlyOnce:!0});break;case"child_moved":uw(this._delegate,C,I,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Wr(this.database,fs(this._delegate,function KC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qC(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Wr(this.database,fs(this._delegate,function u_(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cp(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Wr(this.database,fs(this._delegate,function YC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return nh("orderByChild","path",n,!1),new JI(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Wr(this.database,fs(this._delegate,function QC(){return new fw}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Wr(this.database,fs(this._delegate,function pw(){return new Fc}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Wr(this.database,fs(this._delegate,function c_(){return new JC}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Wr(this.database,fs(this._delegate,function dw(n=null,t){return Pc("startAt","key",t,!0),new ZC(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Wr(this.database,fs(this._delegate,function l_(n,t){return Pc("startAfter","key",t,!0),new hw(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Wr(this.database,fs(this._delegate,function a_(n,t){return Pc("endAt","key",t,!0),new GC(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Wr(this.database,fs(this._delegate,function zC(n,t){return Pc("endBefore","key",t,!0),new cw(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Wr(this.database,fs(this._delegate,function gw(n,t){return Pc("equalTo","key",t,!0),new XI(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Wr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const a={cancel:void 0,context:void 0};if(e&&o)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=o,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new ni(this.database,new oo(this._delegate._repo,this._delegate._path))}}class ni extends Wr{constructor(t,e){super(t,new jr(e._repo,e._path,new Pf,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ni(this.database,rl(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ni(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new ni(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const o=r_(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,sh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}io("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const o=aw(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}setWithPriority(t,e,o){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",o,!0);const a=function $C(n,t,e){if(io("setWithPriority",n._path),No("setWithPriority",t,n._path,!1),tp("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const o=new F.BH;return mu(n._repo,n._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&a.then(()=>o(null),d=>o(d)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function BC(n){return io("remove",n._path),r_(n,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const a=function rD(n,t,e){var o;if(n=(0,F.m9)(n),io("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(o=e?.applyLocally)||void 0===o||o,d=new F.BH,C=i_(n,()=>{});return function iw(n,t,e,o,a,d){Oc(n,"transaction on "+t);const p={path:t,update:e,onComplete:o,status:null,order:Lg(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=_u(n,t,void 0);p.currentInputSnapshot=C;const I=p.update(C.val());if(void 0===I)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{gu("transaction failed: Data returned ",I,p.path),p.status=0;const S=Sc(n.transactionQueueTree_,t),U=Qs(S)||[];let W;U.push(p),Yf(S,U),"object"==typeof I&&null!==I&&(0,F.r3)(I,".priority")?(W=(0,F.DV)(I,".priority"),(0,F.hu)(th(W),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):W=(Tc(n.serverSyncTree_,t)||St.EMPTY_NODE).getPriority().val();const ee=rh(n),fe=Tn(I,W),Se=Bm(fe,C,ee);p.currentOutputSnapshotRaw=fe,p.currentOutputSnapshotResolved=Se,p.currentWriteId=np(n);const tt=qf(n.serverSyncTree_,t,Se,p.currentWriteId,p.applyLocally);ki(n.eventQueue_,t,tt),rp(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(I,S,U)=>{let W=null;I?d.reject(I):(W=new yu(U,new oo(n._repo,n._path),gn),d.resolve(new nD(S,W)))},C,a),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new d0(d.committed,new Js(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const o=function HC(n,t){n=(0,F.m9)(n),io("setPriority",n._path),tp("setPriority",t,!1);const e=new F.BH;return mu(n._repo,un(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),a=>e(a)),o}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const o=function VC(n,t){n=(0,F.m9)(n),io("push",n._path),No("push",t,n._path,!0);const e=SC(n._repo),o=Xm(e),a=rl(n,o),d=rl(n,o);let p;return p=null!=t?r_(d,t).then(()=>d):Promise.resolve(d),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=o.then(p=>new ni(this.database,p));e&&a.then(()=>e(null),p=>e(p));const d=new ni(this.database,o);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return io("Reference.onDisconnect",this._delegate._path),new dp(new t_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Lc{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:o0,forceLongPolling:vw}}useEmulator(t,e,o={}){f_(this._delegate,t,e,o)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof ni){const e=up(this._delegate,t.toString());return new ni(this,e)}{const e=n_(this._delegate,t);return new ni(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const o=up(this._delegate,t);return new ni(this,o)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function a0(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),FC(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function l0(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function rw(n){n.persistentConnection_&&n.persistentConnection_.resume(AC)}(n._repo)}(this._delegate)}}Lc.ServerValue={TIMESTAMP:function u0(){return eD}(),increment:n=>function tD(n){return{".sv":{increment:n}}}(n)};var h0=Object.freeze({__proto__:null,initStandalone:function bw({app:n,url:t,version:e,customAuthImpl:o,namespace:a,nodeAdmin:d=!1}){av(e);const p=new Ga.zt("auth-internal",new Ga.H0("database-standalone"));return p.setComponent(new Ga.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Lc(h_(n,p,void 0,t,d),n),namespace:a}}});const lD=Lc.ServerValue;!function uD(n){n.INTERNAL.registerComponent(new Ga.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Lc(a,o)},"PUBLIC").setServiceProps({Reference:ni,Query:Wr,Database:Lc,DataSnapshot:Js,enableLogging:Cw,INTERNAL:h0,ServerValue:lD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(xg.Z);var hp=k(5363),ww=k(6063);class fp extends Lr.x{constructor(t=1/0,e=1/0,o=ww.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:p}=this;e||(o.push(t),!a&&o.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:a}=this,d=a.slice();for(let p=0;p<d.length&&!t.closed;p+=o?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<o.length&&o.splice(0,o.length-d),!a){const p=e.now();let C=0;for(let I=1;I<o.length&&o[I]<=p;I+=2)C=I;C&&o.splice(0,C+1)}}}function f0(n,t,e){let o,a=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):o=n??1/0,(0,Md.B)({connector:()=>new fp(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Iw(n,t){return(0,rr.m)(t)?nn(()=>n,t):nn(()=>n)}var p0=k(9468),Uc=k(259);class Vc{constructor(t){return t}}class g0{constructor(){return(0,Uc.C6)()}}const p_=new u.OlP("angularfire2._apps"),m0={provide:Vc,useFactory:function dD(n){return n&&1===n.length?n[0]:new Vc((0,Uc.Mq)())},deps:[[new u.FiY,p_]]},_0={provide:g0,deps:[[new u.FiY,p_]]};function hD(n){return(t,e)=>{const o=t.runOutsideAngular(()=>n(e));return new Vc(o)}}let xo=(()=>{class n{constructor(e){(0,Uc.KN)("angularfire",Pn.q4.full,"core"),(0,Uc.KN)("angularfire",Pn.q4.full,"app"),(0,Uc.KN)("angular",u.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[m0,_0]}),n})();const so=(0,Pn.u3)(Uc.ZF,!0),g_=new Map,pp={activated:!1,tokenObservers:[]},C0={initialized:!1,enabled:!1};function _r(n){return g_.get(n)||Object.assign({},pp)}function ah(){return C0}class b0{constructor(t,e,o,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,$s.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function m_(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ri=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function w0(n){if(!_r(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function v_(n,t){return yp.apply(this,arguments)}function yp(){return(yp=(0,$s.Z)(function*({url:n,body:t},e){const o={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const W=yield a.getHeartbeatsHeader();W&&(o["X-Firebase-Client"]=W)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,C;try{p=yield fetch(n,d)}catch(W){throw ri.create("fetch-network-error",{originalErrorMessage:W?.message})}if(200!==p.status)throw ri.create("fetch-status-error",{httpStatus:p.status});try{C=yield p.json()}catch(W){throw ri.create("fetch-parse-error",{originalErrorMessage:W?.message})}const I=C.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const S=1e3*Number(I[1]),U=Date.now();return{token:C.token,expireTimeMillis:U+S,issuedAtTimeMillis:U}})).apply(this,arguments)}function Mw(n,t){const{projectId:e,appId:o,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${o}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const vu="firebase-app-check-store";let lh=null;function E_(){return lh||(lh=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{n(o.target.result)},e.onerror=o=>{var a;t(ri.create("storage-open",{originalErrorMessage:null===(a=o.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(vu,{keyPath:"compositeKey"})}}catch(e){t(ri.create("storage-open",{originalErrorMessage:e?.message}))}}),lh)}function w_(){return(w_=(0,$s.Z)(function*(n,t){const o=(yield E_()).transaction(vu,"readwrite"),d=o.objectStore(vu).put({compositeKey:n,value:t});return new Promise((p,C)=>{d.onsuccess=I=>{p()},o.onerror=I=>{var S;C(ri.create("storage-set",{originalErrorMessage:null===(S=I.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Ep=new Pd.Yd("@firebase/app-check");function D_(n,t){return(0,F.hl)()?function A0(n,t){return function b_(n,t){return w_.apply(this,arguments)}(function Rw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ep.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ow(){return ah().enabled}function Nw(){return O0.apply(this,arguments)}function O0(){return(O0=(0,$s.Z)(function*(){const n=ah();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xw={error:"UNKNOWN_ERROR"};function bp(n){return F.US.encodeString(JSON.stringify(n),!1)}function wp(n){return T_.apply(this,arguments)}function T_(){return(T_=(0,$s.Z)(function*(n,t=!1){const e=n.app;w0(e);const o=_r(e);let d,a=o.token;if(a&&!Bc(a)&&(o.token=void 0,a=void 0),!a){const I=yield o.cachedTokenPromise;I&&(Bc(I)?a=I:yield D_(e,void 0))}if(!t&&a&&Bc(a))return{token:a.token};let C,p=!1;if(Ow()){o.exchangeTokenPromise||(o.exchangeTokenPromise=v_(Mw(e,yield Nw()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),p=!0);const I=yield o.exchangeTokenPromise;return yield D_(e,I),o.token=I,{token:I.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),p=!0),a=yield _r(e).exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?Ep.warn(I.message):Ep.error(I),d=I}return a?d?C=Bc(a)?{token:a.token,internalError:d}:Tp(d):(C={token:a.token},o.token=a,yield D_(e,a)):C=Tp(d),p&&Dp(e,C),C})).apply(this,arguments)}function ea(n,t){const e=_r(n),o=e.tokenObservers.filter(a=>a.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function A_(n){const{app:t}=n,e=_r(t);let o=e.tokenRefresher;o||(o=function S_(n){const{app:t}=n;return new b0((0,$s.Z)(function*(){let o;if(o=_r(t).token?yield wp(n,!0):yield wp(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=_r(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Dp(n,t){const e=_r(n).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}function Bc(n){return n.expireTimeMillis-Date.now()>0}function Tp(n){return{token:bp(xw),error:n}}class M_{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_r(this.app);for(const e of t)ea(this.app,e.next);return Promise.resolve()}}const $w="app-check-internal";!function DD(){(0,js._registerComponent)(new Ga.wA("app-check",n=>function Ap(n,t){return new M_(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider($w).initialize()})),(0,js._registerComponent)(new Ga.wA($w,n=>function vD(n){return{getToken:t=>wp(n,t),addTokenListener:t=>function Ip(n,t,e,o){const{app:a}=n,d=_r(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:o,type:t}],d.token&&Bc(d.token)){const C=d.token;Promise.resolve().then(()=>{e({token:C.token}),A_(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>A_(n))}(n,"INTERNAL",t),removeTokenListener:t=>ea(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,js.registerVersion)("@firebase/app-check","0.6.4")}();class x_{constructor(){return(0,Pn.vb)("app-check")}}typeof window<"u"&&window,k(9260);const M=new u.OlP("angularfire2.auth.use-emulator"),L=new u.OlP("angularfire2.auth.settings"),z=new u.OlP("angularfire2.auth.tenant-id"),te=new u.OlP("angularfire2.auth.langugage-code"),me=new u.OlP("angularfire2.auth.use-device-language"),ke=new u.OlP("angularfire.auth.persistence"),Ve=(n,t,e,o,a,d,p,C)=>(0,Ri.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const I=t.runOutsideAngular(()=>n.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=a,d&&I.useDeviceLanguage(),p)for(const[S,U]of Object.entries(p))I.settings[S]=U;return C&&I.setPersistence(C),I},[e,o,a,d,p,C]);let Ze=(()=>{class n{constructor(e,o,a,d,p,C,I,S,U,W,ee,fe){const Se=new Lr.x,tt=qe(void 0).pipe((0,hp.Q)(p.outsideAngular),nn(()=>d.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9568)))),(0,it.U)(()=>(0,Ri.on)(e,d,o)),(0,it.U)(yt=>Ve(yt,d,C,S,U,W,I,ee)),f0({bufferSize:1,refCount:!1}));if(function ca(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{tt.pipe(ts()).subscribe();const Ut=tt.pipe(nn(An=>An.getRedirectResult().then(ps=>ps,()=>null)),Pn.iC,f0({bufferSize:1,refCount:!1})),Xt=tt.pipe(nn(An=>new nr.y(ps=>({unsubscribe:d.runOutsideAngular(()=>An.onAuthStateChanged(hh=>ps.next(hh),hh=>ps.error(hh),()=>ps.complete()))})))),Ar=tt.pipe(nn(An=>new nr.y(ps=>({unsubscribe:d.runOutsideAngular(()=>An.onIdTokenChanged(hh=>ps.next(hh),hh=>ps.error(hh),()=>ps.complete()))}))));this.authState=Ut.pipe(Iw(Xt),(0,p0.R)(p.outsideAngular),(0,hp.Q)(p.insideAngular)),this.user=Ut.pipe(Iw(Ar),(0,p0.R)(p.outsideAngular),(0,hp.Q)(p.insideAngular)),this.idToken=this.user.pipe(nn(An=>An?(0,Yt.D)(An.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(nn(An=>An?(0,Yt.D)(An.getIdTokenResult()):qe(null))),this.credential=(0,Pg.T)(Ut,Se,this.authState.pipe(So(An=>!An))).pipe((0,it.U)(An=>An?.user?An:null),(0,p0.R)(p.outsideAngular),(0,hp.Q)(p.insideAngular))}return(0,Ri.pX)(this,tt,d,{spy:{apply:(yt,Ut,Xt)=>{(yt.startsWith("signIn")||yt.startsWith("createUser"))&&Xt.then(Ar=>Se.next(Ar))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ri.Dh),u.LFG(Ri.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pn.HU),u.LFG(M,8),u.LFG(L,8),u.LFG(z,8),u.LFG(te,8),u.LFG(me,8),u.LFG(ke,8),u.LFG(x_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function mn(n){return null==n}function Vn(n){return"function"==typeof n.set}function Ww(n,t){return Vn(t)?t:n.ref(t)}function RD(n,t){if(function Re(n){return"string"==typeof n}(n))return t.stringCase();if(Vn(n))return t.firebaseCase();if(function bt(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function k_(n,t,e="on",o=YE.z){return new nr.y(a=>{let d=null;return d=n[e](t,(p,C)=>{o.schedule(()=>{a.next({snapshot:p,prevKey:C})}),"once"===e&&o.schedule(()=>a.complete())},p=>{o.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,it.U)(a=>{const{snapshot:d,prevKey:p}=a;let C=null;return d.exists()&&(C=d.key),{type:t,payload:d,prevKey:p,key:C}}),(0,Md.B)())}function PD(n,t){const e=n.length;for(let o=0;o<e;o++)if(n[o].payload.key===t)return o;return-1}function CA(n,t){const{payload:e,prevKey:o,key:a}=t,d=PD(n,a),p=function vA(n,t){if(mn(t))return 0;{const e=PD(n,t);return-1===e?n.length:e+1}}(n,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(I=>{const S={payload:I,type:"value",prevKey:C,key:I.key};return C=I.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const C=n[d-1];(C&&C.key||null)!==o&&(n=n.filter(I=>I.payload.key!==e.key)).splice(p,0,t)}else{if(null==o)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(C=>C.payload.key!==e.key);case"child_changed":return n.map(C=>C.payload.key===a?t:C);case"child_moved":if(d>-1){const C=n.splice(d,1)[0];return(n=n.slice()).splice(p,0,C),n}return n;default:return n}}function OD(n){return(mn(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function ND(n,t,e){return function yA(n,t,e){return k_(n,"value","once",e).pipe(nn(o=>{const a=[qe(o)];return t.forEach(d=>a.push(k_(n,d,"on",e))),(0,Pg.T)(...a).pipe(ud(CA,[]))}),function ac(n,t=Zi.y){return n=n??Og,(0,Qt.e)((e,o)=>{let a,d=!0;e.subscribe((0,w.x)(o,p=>{const C=t(p);(d||!n(a,C))&&(d=!1,a=C,o.next(p))}))})}())}(n,t=OD(t),e)}function xD(n,t,e){const o=(t=OD(t)).map(a=>k_(n,a,"on",e));return(0,Pg.T)(...o)}function kD(n,t){return function(o,a){return RD(o,{stringCase:()=>n.child(o)[t](a),firebaseCase:()=>o[t](a),snapshotCase:()=>o.ref[t](a)})}}function IA(n){return function(e){return e?RD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function FD(n,t){return function(){return k_(n,"value","on",t)}}const AA=new u.OlP("angularfire2.realtimeDatabaseURL"),SA=new u.OlP("angularfire2.database.use-emulator");let MA=(()=>{class n{constructor(e,o,a,d,p,C,I,S,U,W,ee,fe,Se,tt,yt){this.schedulers=C;const Ut=I,Xt=(0,Ri.on)(e,p,o);S&&Ve(Xt,p,U,ee,fe,Se,W,tt),this.database=(0,Ri.cc)(`${Xt.name}.database.${a}`,"AngularFireDatabase",Xt.name,()=>{const Ar=p.runOutsideAngular(()=>Xt.database(a||void 0));return Ut&&Ar.useEmulator(...Ut),Ar},[Ut])}list(e,o){const a=this.schedulers.ngZone.runOutsideAngular(()=>Ww(this.database,e));let d=a;return o&&(d=o(a)),function DA(n,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kD(o,"update"),set:kD(o,"set"),push:a=>o.push(a),remove:IA(o),snapshotChanges:a=>ND(n,a,e).pipe(Pn.iC),stateChanges:a=>xD(n,a,e).pipe(Pn.iC),auditTrail:a=>function EA(n,t,e){return function wA(n,t,e){return function bA(n,t){return k_(n,"value","on",t).pipe((0,it.U)(e=>{let o;return e.payload.forEach(a=>(o=a.key,!1)),{data:e,lastKeyToLoad:o}}))}(n,e).pipe(function Ng(...n){const t=(0,Un.jO)(n);return(0,Qt.e)((e,o)=>{const a=n.length,d=new Array(a);let p=n.map(()=>!1),C=!1;for(let I=0;I<a;I++)(0,Xe.Xf)(n[I]).subscribe((0,w.x)(o,S=>{d[I]=S,!C&&!p[I]&&(p[I]=!0,(C=p.every(Zi.y))&&(p=null))},Rd.Z));e.subscribe((0,w.x)(o,I=>{if(C){const S=[I,...d];o.next(t?t(...S):S)}}))})}(t),(0,it.U)(([a,d])=>{const p=a.lastKeyToLoad,C=d.map(I=>I.key);return{actions:d,lastKeyToLoad:p,loadedKeys:C}}),function uf(n){return(0,Qt.e)((t,e)=>{let o=!1,a=0;t.subscribe((0,w.x)(e,d=>(o||(o=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,it.U)(a=>a.actions))}(n,xD(n,t).pipe(ud((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Pn.iC),valueChanges:(a,d)=>ND(n,a,e).pipe((0,it.U)(C=>C.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),Pn.iC)}}(d,this)}object(e){return function TA(n,t){return{query:n,snapshotChanges:()=>FD(n,t.schedulers.outsideAngular)().pipe(Pn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>FD(n,t.schedulers.outsideAngular)().pipe(Pn.iC,(0,it.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ww(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ri.Dh),u.LFG(Ri.xv,8),u.LFG(AA,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pn.HU),u.LFG(SA,8),u.LFG(Ze,8),u.LFG(M,8),u.LFG(L,8),u.LFG(z,8),u.LFG(te,8),u.LFG(me,8),u.LFG(ke,8),u.LFG(x_,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class uh{constructor(t){this.db=t}getProducts(){return this.db.list("products").valueChanges()}getProduct(t){}addProduct(t){this.db.list("products").push(t)}}uh.\u0275fac=function(t){return new(t||uh)(u.LFG(MA))},uh.\u0275prov=u.Yz7({token:uh,factory:uh.\u0275fac,providedIn:"root"});class F_{}F_.\u0275fac=function(t){return new(t||F_)},F_.\u0275cmp=u.Xpm({type:F_,selectors:[["app-top-carousel"]],decls:26,vars:0,consts:[["id","carouselPromotional","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active","my-indicator"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide-to","1","aria-label","Slide 2",1,"my-indicator"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide-to","2","aria-label","Slide 3",1,"my-indicator"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide-to","3","aria-label","Slide 4",1,"my-indicator"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide-to","4","aria-label","Slide 5",1,"my-indicator"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./assets/Carousel/barbara.jpg","alt","Snow Hare",1,"d-block","w-100"],[1,"carousel-item"],["src","./assets/Carousel/horror.jpg","alt","Maame",1,"d-block","w-100"],["src","./assets/Carousel/dragon.jpg","alt","Davenports",1,"d-block","w-100"],["src","./assets/Carousel/jojo.jpg","alt","Chain of Thorns",1,"d-block","w-100"],["src","./assets/Carousel/stone.jpg","alt","McCartney",1,"d-block","w-100"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselPromotional","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"button",2)(3,"button",3)(4,"button",4)(5,"button",5)(6,"button",6),u.qZA(),u.TgZ(7,"div",7)(8,"div",8),u._UZ(9,"img",9),u.qZA(),u.TgZ(10,"div",10),u._UZ(11,"img",11),u.qZA(),u.TgZ(12,"div",10),u._UZ(13,"img",12),u.qZA(),u.TgZ(14,"div",10),u._UZ(15,"img",13),u.qZA(),u.TgZ(16,"div",10),u._UZ(17,"img",14),u.qZA()(),u.TgZ(18,"button",15),u._UZ(19,"span",16),u.TgZ(20,"span",17),u._uU(21,"Previous"),u.qZA()(),u.TgZ(22,"button",18),u._UZ(23,"span",19),u.TgZ(24,"span",17),u._uU(25,"Next"),u.qZA()()())},styles:[".my-indicator[_ngcontent-%COMP%]{background-color:#d3d3d3;height:13px;width:13px;border-radius:50%}.my-indicator.active[_ngcontent-%COMP%]{background-color:#000;height:13px;width:13px;border-radius:50%}.carousel-control-prev[_ngcontent-%COMP%]{margin-left:1%}.carousel-control-next[_ngcontent-%COMP%]{margin-right:1%}"]});class L_{constructor(){this.img="No img found",this.img2="No img found",this.author="No description found",this.description="No information found"}ngOnInit(){}}L_.\u0275fac=function(t){return new(t||L_)},L_.\u0275cmp=u.Xpm({type:L_,selectors:[["app-book-cards-component"]],inputs:{author:"author",description:"description",img:"img",img2:"img2"},decls:8,vars:4,consts:[[1,"card-grid",2,"width","11rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text-author"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2)(3,"h5",3),u._uU(4),u.qZA(),u.TgZ(5,"p",4),u._uU(6),u.qZA(),u._UZ(7,"img",1),u.qZA()()),2&t&&(u.xp6(1),u.s9C("src",e.img,u.LSH),u.xp6(3),u.Oqu(e.description),u.xp6(2),u.Oqu(e.author),u.xp6(1),u.s9C("src",e.img2,u.LSH))},styles:['h2[_ngcontent-%COMP%]{padding-left:2%;font-family:Georgia,Times New Roman,Times,serif,sans-serif;font-style:italic;font-size:25px;font-weight:500;line-height:1.3}h5[_ngcontent-%COMP%]{padding-top:2%;font-weight:400;font-size:18px}.card-text-main[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:15px}.card-text-author[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:15px;text-decoration:underline}.card-body[_ngcontent-%COMP%]{font-family:Times,Times New Roman,serif;font-size:10px}.col[_ngcontent-%COMP%]{float:left;width:25%;padding:0 px}.row[_ngcontent-%COMP%]{margin:0 -5px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.card-main[_ngcontent-%COMP%], .card-grid[_ngcontent-%COMP%]{padding:16px;text-align:center;border:none}@media screen and (max-width: 600px){.col[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:20px}}']});class U_{}U_.\u0275fac=function(t){return new(t||U_)},U_.\u0275cmp=u.Xpm({type:U_,selectors:[["app-multi-item-carousel-component"]],decls:70,vars:0,consts:[["id","carouselMulti","data-bs-ride","carousel",1,"carousel"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"card"],[1,"img-wrapper"],["src","\\assets/multi/top100.PNG","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","\\assets/multi/releases.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/soon.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/editions.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/books.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/deals.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/cardsgifts.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/bandn.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/tok.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/crime.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/horror4.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/fantasy.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/ga.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/yateens.PNG","alt","...",1,"d-block","w-100"],["src","\\assets/multi/readers.PNG","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselMulti","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselMulti","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u._UZ(5,"img",5),u.qZA()()(),u.TgZ(6,"div",6)(7,"div",3)(8,"div",4),u._UZ(9,"img",7),u.qZA()()(),u.TgZ(10,"div",6)(11,"div",3)(12,"div",4),u._UZ(13,"img",8),u.qZA()()(),u.TgZ(14,"div",6)(15,"div",3)(16,"div",4),u._UZ(17,"img",9),u.qZA()()(),u.TgZ(18,"div",6)(19,"div",3)(20,"div",4),u._UZ(21,"img",10),u.qZA()()(),u.TgZ(22,"div",6)(23,"div",3)(24,"div",4),u._UZ(25,"img",11),u.qZA()()(),u.TgZ(26,"div",6)(27,"div",3)(28,"div",4),u._UZ(29,"img",12),u.qZA()()(),u.TgZ(30,"div",6)(31,"div",3)(32,"div",4),u._UZ(33,"img",13),u.qZA()()(),u.TgZ(34,"div",6)(35,"div",3)(36,"div",4),u._UZ(37,"img",14),u.qZA()()(),u.TgZ(38,"div",6)(39,"div",3)(40,"div",4),u._UZ(41,"img",15),u.qZA()()(),u.TgZ(42,"div",6)(43,"div",3)(44,"div",4),u._UZ(45,"img",16),u.qZA()()(),u.TgZ(46,"div",6)(47,"div",3)(48,"div",4),u._UZ(49,"img",17),u.qZA()()(),u.TgZ(50,"div",6)(51,"div",3)(52,"div",4),u._UZ(53,"img",18),u.qZA()()(),u.TgZ(54,"div",6)(55,"div",3)(56,"div",4),u._UZ(57,"img",19),u.qZA()()(),u.TgZ(58,"div",6)(59,"div",3)(60,"div",4),u._UZ(61,"img",20),u.qZA()()()(),u.TgZ(62,"button",21),u._UZ(63,"span",22),u.TgZ(64,"span",23),u._uU(65,"Previous"),u.qZA()(),u.TgZ(66,"button",24),u._UZ(67,"span",25),u.TgZ(68,"span",23),u._uU(69,"Next"),u.qZA()()())},styles:[".carousel-inner[_ngcontent-%COMP%]{overflow-x:visible}.card[_ngcontent-%COMP%]{border:none}@media (min-width: 768px){.carousel-item[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;flex:0 0 10%;display:block}.carousel-inner[_ngcontent-%COMP%]{display:flex}}.card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{max-width:100%;height:13em;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%}@media (max-width: 767px){.card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{height:17em}}"]});class V_{}function RA(n,t){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"app-book-cards-component",7),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.s9C("img",e.img),u.s9C("description",e.description),u.s9C("author",e.author),u.s9C("img2",e.img2)}}V_.\u0275fac=function(t){return new(t||V_)},V_.\u0275cmp=u.Xpm({type:V_,selectors:[["app-large-book-card"]],decls:13,vars:0,consts:[[1,"card-main",2,"width","26rem"],["src","./assets\\Cards\\houseofeve.PNG","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"card-text-author"],["src","./assets\\Cards\\stars.png","alt","...","width","50","height","70",1,"card-img-top"],[1,"card-text-main"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2)(3,"h5",3),u._uU(4,"The House of Eve"),u.qZA(),u.TgZ(5,"ul",4)(6,"li",5)(7,"p",6),u._uU(8,"Sadeqa Johnson"),u.qZA()(),u.TgZ(9,"li",5),u._UZ(10,"img",7),u.qZA()(),u.TgZ(11,"p",8),u._uU(12,"This luminous novel is an exploration of what womanhood, sacrifice, and longing looked like in pre-Roe America for young black women. It is a story about the price women pay for love, and the choices no one should have to make."),u.qZA()()())},styles:['h2[_ngcontent-%COMP%]{padding-left:2%;font-family:Georgia,Times New Roman,Times,serif,sans-serif;font-style:italic;font-size:25px;font-weight:500;line-height:1.3}h5[_ngcontent-%COMP%]{padding-top:2%;font-weight:400;font-size:18px}.card-main[_ngcontent-%COMP%]{padding:16px;text-align:center;border:none}.card-text-main[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:15px}.card-text-author[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-size:15px;text-decoration:underline}.card-body[_ngcontent-%COMP%]{font-family:Times,Times New Roman,serif;font-size:10px}.col[_ngcontent-%COMP%]{float:left;width:25%;padding:0 px}.row[_ngcontent-%COMP%]{margin:0 -5px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.card-main[_ngcontent-%COMP%], .card-grid[_ngcontent-%COMP%]{padding:16px;text-align:center;border:none}@media screen and (max-width: 600px){.col[_ngcontent-%COMP%]{width:100%;display:block;margin-bottom:20px}}']});class B_{constructor(t){this.productsService=t,this.products=[]}ngOnInit(){this.productsService.getProducts().subscribe(t=>{for(var e of(console.log("Fetching products"),t))console.log(e),this.products.push(e)})}}B_.\u0275fac=function(t){return new(t||B_)(u.Y36(uh))},B_.\u0275cmp=u.Xpm({type:B_,selectors:[["app-home-layout"]],decls:15,vars:1,consts:[["id","container1",1,"d-flex","justify-content-center"],["id","pinkribbon",2,"text-align","center"],["id","container2",1,"d-flex","justify-content-center"],["id","ribbon",2,"text-align","center"],[1,"d-flex","p-2"],[1,"row","row-cols-4","g-4"],[4,"ngFor","ngForOf"],[1,"nx-2",3,"img","description","author","img2"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Buy One, Get One 50% Off For All Ages"),u.qZA()(),u.TgZ(3,"div",2)(4,"p",3),u._uU(5,"Free Shipping on Orders of $40 or More"),u.qZA()(),u._UZ(6,"app-top-carousel")(7,"app-multi-item-carousel-component")(8,"h2"),u.TgZ(9,"h2"),u._uU(10,"Fiction Favorites"),u.qZA(),u.TgZ(11,"div",4),u._UZ(12,"app-large-book-card"),u.TgZ(13,"div",5),u.YNc(14,RA,2,4,"div",6),u.qZA()()),2&t&&(u.xp6(14),u.Q6J("ngForOf",e.products))},dependencies:[Zr,F_,L_,U_,V_],styles:["h2[_ngcontent-%COMP%]{padding-left:2%;font-family:Georgia,Times New Roman,Times,serif,sans-serif;font-style:italic;font-size:25px;font-weight:500;line-height:1.3}#container1[_ngcontent-%COMP%]{background-color:#e6cacf;height:55px;line-height:55px}#container2[_ngcontent-%COMP%]{background-color:#3d5962;height:45px;line-height:45px}#ribbon[_ngcontent-%COMP%]{color:#fff}#pinkribbon[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:600}"]});class H_{}H_.\u0275fac=function(t){return new(t||H_)},H_.\u0275cmp=u.Xpm({type:H_,selectors:[["app-second-layout"]],decls:2,vars:0,template:function(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1,"Blog and Podcast Page"),u.qZA())}});class $_{}$_.\u0275fac=function(t){return new(t||$_)},$_.\u0275cmp=u.Xpm({type:$_,selectors:[["app-third-layout"]],decls:2,vars:0,template:function(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1,"Membership Page"),u.qZA())}});const PA=[{category:"Kids",description:"Only $9.99 With Purchase of Any Kids' Book",img:"./assets/CouponsPage/jimmy.PNG",date:"Offer Ends 04/09/2023"},{category:"EBOOKS & NOOK",description:"$20 Off NOOK\xae GlowLight 4e",img:"./assets/CouponsPage/nook2.PNG",date:"Limited Time Only"},{category:"Kids",description:"Buy One, Get One 50% Off Dr. Seuss Books",img:"./assets/CouponsPage/drseuss.PNG",date:"Offer Ends 03/06/2023"},{category:"Book Annex",description:"Buy One, Get One 50% Off Children's Collectible Editions",img:"./assets/CouponsPage/arthur.PNG",date:"Offer Ends 04/09/2023"},{category:"Audiobooks",description:"Audiobooks Starting at $3.99: Spine Chilling Thrillers",img:"./assets/CouponsPage/lies.PNG",date:"Offer Ends 03/31/2023"},{category:"EBOOKS & NOOK",description:"Spine Chilling Thrillers: Starting at 99\xa2",img:"./assets/CouponsPage/chesnut.PNG",date:"Offer Ends 03/31/2023"}];class j_{}j_.\u0275fac=function(t){return new(t||j_)},j_.\u0275cmp=u.Xpm({type:j_,selectors:[["app-books-carousel"]],decls:15,vars:0,consts:[["id","carousel",1,"d-flex","justify-content-center"],["id","carouselCoupons","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./assets\\CouponsPage/carouselcoupon4.PNG",1,"d-block","w-100"],[1,"carousel-item"],["src","./assets\\CouponsPage/couponcarousel2.PNG",1,"d-block","w-100"],["href","#carouselCoupons","role","button","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["href","#carouselCoupons","role","button","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"img",4),u.qZA(),u.TgZ(5,"div",5),u._UZ(6,"img",6),u.qZA()(),u.TgZ(7,"a",7),u._UZ(8,"span",8),u.TgZ(9,"span",9),u._uU(10,"Previous"),u.qZA()(),u.TgZ(11,"a",10),u._UZ(12,"span",11),u.TgZ(13,"span",9),u._uU(14,"Next"),u.qZA()()()())},styles:[".carousel-control-prev[_ngcontent-%COMP%]{margin-left:-5%}.carousel-control-next[_ngcontent-%COMP%]{margin-right:-5%}"]});class W_{constructor(){this.img="No img found",this.date="No date found",this.category="No description found",this.description="No information found"}ngOnInit(){}}W_.\u0275fac=function(t){return new(t||W_)},W_.\u0275cmp=u.Xpm({type:W_,selectors:[["app-cards-coupons"]],inputs:{category:"category",description:"description",img:"img",date:"date"},decls:12,vars:4,consts:[[1,"card-grid","card","border-secondary","mb-3",2,"width","40rem"],[1,"card-category",2,"text-align","center"],[1,"card-body"],[1,"card-description",2,"text-align","center"],["alt","...","width","200","height","300",1,"card-img-top",3,"src"],[1,"card-text-date",2,"text-align","center"],[1,"card-footer",2,"text-align","center"],[1,"text-muted"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2)(4,"h5",3),u._uU(5),u.qZA(),u._UZ(6,"img",4),u.TgZ(7,"p",5),u._uU(8),u.qZA()(),u.TgZ(9,"div",6)(10,"small",7),u._uU(11,"Available Online and in Stores"),u.qZA()()()),2&t&&(u.xp6(2),u.Oqu(e.category),u.xp6(3),u.Oqu(e.description),u.xp6(1),u.s9C("src",e.img,u.LSH),u.xp6(2),u.Oqu(e.date))},styles:["card-grid[_ngcontent-%COMP%]{padding-top:100%;width:500px;height:500px;box-sizing:border-box;border-color:gray}.card-category[_ngcontent-%COMP%]{text-transform:uppercase}.card-description[_ngcontent-%COMP%]{font-family:Times New Roman,Times,serif;font-weight:700;font-size:25px}.card-footer[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}.text-muted[_ngcontent-%COMP%]{color:#000}"]});class G_{}function OA(n,t){if(1&n&&(u.TgZ(0,"div")(1,"div",8),u._UZ(2,"app-cards-coupons",16),u.qZA()()),2&n){const e=t.$implicit;u.xp6(2),u.s9C("img",e.img),u.s9C("description",e.description),u.s9C("date",e.date),u.s9C("category",e.category)}}G_.\u0275fac=function(t){return new(t||G_)},G_.\u0275cmp=u.Xpm({type:G_,selectors:[["app-footer-coupons"]],decls:51,vars:0,consts:[[1,"text-center","text-lg-start","bg-light","text-muted"],[1,"container","text-center","text-md-start","mt-5"],[1,"row","mt-3"],[1,"col-md-2","col-lg-2","col-xl-2","mx-auto","mb-4"],[1,"text-uppercase","fw-bold","mb-4"],[1,"text-center","p-4",2,"background-color","rgba(0, 0, 0, 0.05)"],[1,"text-reset","fw-bold"]],template:function(t,e){1&t&&(u.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),u._uU(5,"B&N Services"),u.qZA(),u.TgZ(6,"p"),u._uU(7,"Affiliate Program"),u.qZA(),u.TgZ(8,"p"),u._uU(9,"Publisher and Author Guidelines"),u.qZA(),u.TgZ(10,"p"),u._uU(11,"Bulk Order Discounts"),u.qZA(),u.TgZ(12,"p"),u._uU(13,"B&N Mobile Apps"),u.qZA()(),u.TgZ(14,"div",3)(15,"h6",4),u._uU(16,"About Us"),u.qZA(),u.TgZ(17,"p"),u._uU(18,"About B&N"),u.qZA(),u.TgZ(19,"p"),u._uU(20,"Careers at B&N"),u.qZA(),u.TgZ(21,"p"),u._uU(22,"Barnes & Noble, Inc."),u.qZA(),u.TgZ(23,"p"),u._uU(24,"B&N Kitchen"),u.qZA()(),u.TgZ(25,"div",3)(26,"h6",4),u._uU(27,"Quick Help"),u.qZA(),u.TgZ(28,"p"),u._uU(29,"Help Center"),u.qZA(),u.TgZ(30,"p"),u._uU(31,"Covid Safety"),u.qZA(),u.TgZ(32,"p"),u._uU(33,"Shipping & Returns"),u.qZA(),u.TgZ(34,"p"),u._uU(35,"Store Pickup"),u.qZA()(),u.TgZ(36,"div",3)(37,"h6",4),u._uU(38,"Shop By Category"),u.qZA(),u.TgZ(39,"p"),u._uU(40,"Books"),u.qZA(),u.TgZ(41,"p"),u._uU(42,"Fiction"),u.qZA(),u.TgZ(43,"p"),u._uU(44,"Nonfiction"),u.qZA(),u.TgZ(45,"p"),u._uU(46,"Kids"),u.qZA()()()(),u.TgZ(47,"div",5),u._uU(48," \xa91997-2023 Copyright: "),u.TgZ(49,"p",6),u._uU(50,"Barnes & Noble Booksellers, Inc. 33 East 17th Street, New York, NY 10003"),u.qZA()()())},styles:["p[_ngcontent-%COMP%]{font-size:12px}"]});class z_{constructor(){for(var t of(this.products=[],PA))console.log(t),this.products.push(t)}ngOnInit(){}}z_.\u0275fac=function(t){return new(t||z_)},z_.\u0275cmp=u.Xpm({type:z_,selectors:[["app-fourth-layout"]],decls:35,vars:1,consts:[["id","container1",1,"d-flex","justify-content-center"],["id","pinkribbon",2,"text-align","center"],["id","container2",1,"d-flex","justify-content-center"],["id","ribbon",2,"text-align","center"],["id","header",2,"text-align","center"],["id","page",2,"text-align","center"],["id","container3",1,"container","justify-content-evenly"],[1,"row"],[1,"col"],["id","bluefirst",2,"text-align","center"],["id","bluesecond",2,"text-align","center"],["id","bluethird",2,"text-align","center"],["id","divider",2,"text-align","center"],[1,"d-flex","justify-content-center"],[1,"row","row-cols-2"],[4,"ngFor","ngForOf"],[1,"nx-3",3,"img","description","date","category"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Buy One, Get One 50% Off For All Ages"),u.qZA()(),u.TgZ(3,"div",2)(4,"p",3),u._uU(5,"Free Shipping on Orders of $40 or More"),u.qZA()(),u.TgZ(6,"h1",4),u._uU(7,"Coupons and Deals"),u.qZA(),u.TgZ(8,"p",5),u._uU(9,"Explore current Barnes & Noble featured coupons, deals, sales, and promotions to discover great savings!"),u.qZA(),u.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"p",9),u._uU(14,"$20 Off Nook GlowLight 4e"),u.qZA(),u.TgZ(15,"p",10),u._uU(16,"Online & In Stores"),u.qZA(),u.TgZ(17,"p",11),u._uU(18,"Shop Now>"),u.qZA()(),u.TgZ(19,"div",8)(20,"p",9),u._uU(21,"30% Off Hardcover Bestsellers"),u.qZA(),u.TgZ(22,"p",10),u._uU(23,"Online & In Stores"),u.qZA(),u.TgZ(24,"p",11),u._uU(25,"Shop Now>"),u.qZA()()()(),u.TgZ(26,"h2",12),u._uU(27,"Buy 1, Get 1 50% Off Books for All Ages"),u.qZA(),u._UZ(28,"app-books-carousel"),u.TgZ(29,"h2",12),u._uU(30,"More Special Offers"),u.qZA(),u.TgZ(31,"div",13)(32,"div",14),u.YNc(33,OA,3,4,"div",15),u.qZA()(),u._UZ(34,"app-footer-coupons")),2&t&&(u.xp6(33),u.Q6J("ngForOf",e.products))},dependencies:[Zr,j_,W_,G_],styles:["#container1[_ngcontent-%COMP%]{background-color:#e6cacf;height:55px;line-height:55px}#container2[_ngcontent-%COMP%]{background-color:#3d5962;height:45px;line-height:45px}#container3[_ngcontent-%COMP%]{background-color:#305c98;height:150px;width:80%}#ribbon[_ngcontent-%COMP%]{color:#fff}#pinkribbon[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:600}#header[_ngcontent-%COMP%]{color:#000;font-size:38px;font-family:ui-serif}#divider[_ngcontent-%COMP%]{color:#000;font-size:20px;font-family:ui-serif;font-weight:550;margin-top:4%}#page[_ngcontent-%COMP%]{color:#000;font-size:14px;margin-bottom:3.5%}#bluefirst[_ngcontent-%COMP%]{color:#fff;font-family:Times New Roman,Times,serif;font-size:25px;vertical-align:bottom;padding-top:4%;margin-bottom:.25%}#bluesecond[_ngcontent-%COMP%]{color:#fff;vertical-align:top;margin-top:.25%;margin-bottom:1%}#bluethird[_ngcontent-%COMP%]{text-align:center;color:#fff;margin-top:2%;font-size:14px;text-decoration:underline}"]});class Z_{}Z_.\u0275fac=function(t){return new(t||Z_)},Z_.\u0275cmp=u.Xpm({type:Z_,selectors:[["app-carousel-bestsellers"]],decls:21,vars:0,consts:[[2,"text-align","center"],["id","carousel",1,"d-flex","justify-content-center"],["id","carouselBestsellers","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","./assets\\BestsellersPage/1carousel.PNG",1,"d-block","vh-70","vw-70"],[1,"carousel-item"],["src","./assets\\BestsellersPage/2carousel.PNG",1,"d-block","vh-70","vw-70"],["src","./assets\\BestsellersPage/3carousel.PNG",1,"d-block","vh-70","vw-70"],["href","#carouselBestsellers","role","button","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["href","#carouselBestsellers","role","button","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Bestsellers"),u.qZA(),u.TgZ(2,"h2",0),u._uU(3,"B&N Top 100"),u.qZA(),u.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4),u._UZ(8,"img",5),u.qZA(),u.TgZ(9,"div",6),u._UZ(10,"img",7),u.qZA(),u.TgZ(11,"div",6),u._UZ(12,"img",8),u.qZA()(),u.TgZ(13,"a",9),u._UZ(14,"span",10),u.TgZ(15,"span",11),u._uU(16,"Previous"),u.qZA()(),u.TgZ(17,"a",12),u._UZ(18,"span",13),u.TgZ(19,"span",11),u._uU(20,"Next"),u.qZA()()()())},styles:[".carousel[_ngcontent-%COMP%]{margin-left:250px;margin-right:50px}h1[_ngcontent-%COMP%]{font-size:35px;font-family:ui-serif}h2[_ngcontent-%COMP%]{font-size:25px;font-family:ui-serif;margin-top:5%}.carousel-control-prev[_ngcontent-%COMP%]{margin-left:0%}.carousel-control-next[_ngcontent-%COMP%]{margin-right:0%}"]});class q_{}q_.\u0275fac=function(t){return new(t||q_)},q_.\u0275cmp=u.Xpm({type:q_,selectors:[["app-sidebar-bestsellers"]],decls:94,vars:0,consts:[[1,"nav","flex-column","sidebar"],[1,"nav-item"],[2,"text-align","center"],[1,"nav-link","disabled"]],template:function(t,e){1&t&&(u.TgZ(0,"ul",0)(1,"li",1)(2,"p",2),u._uU(3,"Bestsellers"),u.qZA()(),u.TgZ(4,"li",1)(5,"a",3),u._uU(6,"B&N Top 100"),u.qZA()(),u.TgZ(7,"li",1)(8,"a",3),u._uU(9,"Hardcover Bestsellers"),u.qZA()(),u.TgZ(10,"li",1)(11,"a",3),u._uU(12,"Paperback Bestsellers"),u.qZA()(),u.TgZ(13,"li",1)(14,"a",3),u._uU(15,"Fiction Bestsellers"),u.qZA()(),u.TgZ(16,"li",1)(17,"a",3),u._uU(18,"Nonfiction Bestsellers"),u.qZA()(),u.TgZ(19,"li",1)(20,"a",3),u._uU(21,"NY Times Bestsellers"),u.qZA()(),u.TgZ(22,"li",1)(23,"a",3),u._uU(24,"30% Off Hardcover Bestsellers"),u.qZA()(),u.TgZ(25,"li",1)(26,"a",3),u._uU(27,"Teens & YA"),u.qZA()(),u.TgZ(28,"li",1)(29,"a",3),u._uU(30,"Kids' Books"),u.qZA()(),u.TgZ(31,"li",1)(32,"a",3),u._uU(33,"eBooks"),u.qZA()(),u.TgZ(34,"li",1)(35,"a",3),u._uU(36,"Book Annex"),u.qZA()(),u.TgZ(37,"li",1)(38,"a",3),u._uU(39,"Toys & Games"),u.qZA()(),u.TgZ(40,"li",1)(41,"a",3),u._uU(42,"Stationary & Gifts"),u.qZA()(),u.TgZ(43,"li",1)(44,"a",3),u._uU(45,"Movies & TV"),u.qZA()(),u.TgZ(46,"li",1)(47,"a",3),u._uU(48,"Music"),u.qZA()(),u.TgZ(49,"li",1)(50,"p",2),u._uU(51,"Bestsellers By Subject"),u.qZA()(),u.TgZ(52,"li",1)(53,"a",3),u._uU(54,"Biography"),u.qZA()(),u.TgZ(55,"li",1)(56,"a",3),u._uU(57,"Cookbooks, Food & Wine"),u.qZA()(),u.TgZ(58,"li",1)(59,"a",3),u._uU(60,"Current Affairs & Politics"),u.qZA()(),u.TgZ(61,"li",1)(62,"a",3),u._uU(63,"Diet, Health & Fitness"),u.qZA()(),u.TgZ(64,"li",1)(65,"a",3),u._uU(66,"General Fiction"),u.qZA()(),u.TgZ(67,"li",1)(68,"a",3),u._uU(69,"Graphic Novels & Comics"),u.qZA()(),u.TgZ(70,"li",1)(71,"a",3),u._uU(72,"History"),u.qZA()(),u.TgZ(73,"li",1)(74,"a",3),u._uU(75,"Mystery & Crime"),u.qZA()(),u.TgZ(76,"li",1)(77,"a",3),u._uU(78,"Religion"),u.qZA()(),u.TgZ(79,"li",1)(80,"a",3),u._uU(81,"Romance"),u.qZA()(),u.TgZ(82,"li",1)(83,"a",3),u._uU(84,"Science Fiction & Fantasy"),u.qZA()(),u.TgZ(85,"li",1)(86,"a",3),u._uU(87,"Self-Help & Relationships"),u.qZA()(),u.TgZ(88,"li",1)(89,"a",3),u._uU(90,"Thrillers"),u.qZA()(),u.TgZ(91,"li",1)(92,"a",3),u._uU(93,"See All Subjects"),u.qZA()()())},styles:["ul.sidebar[_ngcontent-%COMP%]{border-right-color:#000;z-index:100;margin-right:100px;padding:0;width:200px;background-color:#f1f1f1;position:absolute;height:100%;overflow-y:scroll;float:left}li.nav-item[_ngcontent-%COMP%]{font-size:14px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;text-align:center}p[_ngcontent-%COMP%]{font-weight:600}"]});class K_{}K_.\u0275fac=function(t){return new(t||K_)},K_.\u0275cmp=u.Xpm({type:K_,selectors:[["app-footbar-bestsellers"]],decls:19,vars:0,consts:[[2,"text-align","center"],[1,"navbar","navbar-light",2,"background-color","#ffffff","text-align","center"],["role","group","aria-label","Footer-Buttons",1,"btn-group"],["type","button",1,"btn","btn-light"],["src",".\\assets/BestsellersPage/puzzles.PNG","alt","...","width","100","height","100",1,"card-img-top"],["src",".\\assets/BestsellersPage/stationary.PNG","alt","...","width","100","height","100",1,"card-img-top"],["src",".\\assets/BestsellersPage/movies.PNG","alt","...","width","100","height","100",1,"card-img-top"],["src",".\\assets/BestsellersPage/music.PNG","alt","...","width","100","height","100",1,"card-img-top"],["src",".\\assets/BestsellersPage/toys.PNG","alt","...","width","100","height","100",1,"card-img-top"]],template:function(t,e){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"More Bestsellers"),u.qZA(),u.TgZ(2,"nav",1)(3,"div",2)(4,"button",3),u._UZ(5,"img",4),u._uU(6,"Puzzles"),u.qZA(),u.TgZ(7,"button",3),u._UZ(8,"img",5),u._uU(9,"Stationary & Gifts"),u.qZA(),u.TgZ(10,"button",3),u._UZ(11,"img",6),u._uU(12,"Movies & TV"),u.qZA(),u.TgZ(13,"button",3),u._UZ(14,"img",7),u._uU(15,"Music"),u.qZA(),u.TgZ(16,"button",3),u._UZ(17,"img",8),u._uU(18,"Toys & Games"),u.qZA()()())},styles:["p[_ngcontent-%COMP%]{margin-left:200px;font-size:12px}.text-center[_ngcontent-%COMP%]{margin-top:100px}h1[_ngcontent-%COMP%]{font-size:25px;font-family:ui-serif;margin-top:2%}.btn-group[_ngcontent-%COMP%]{margin-left:200px}"]});class Y_{}Y_.\u0275fac=function(t){return new(t||Y_)},Y_.\u0275cmp=u.Xpm({type:Y_,selectors:[["app-fifth-layout"]],decls:11,vars:0,consts:[["id","container1",1,"d-flex","justify-content-center"],["id","pinkribbon",2,"text-align","center"],["id","container2",1,"d-flex","justify-content-center"],["id","ribbon",2,"text-align","center"],[1,"d-flex"],[1,"d-flex","justify-content-center"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"p",1),u._uU(2,"Buy One, Get One 50% Off For All Ages"),u.qZA()(),u.TgZ(3,"div",2)(4,"p",3),u._uU(5,"Free Shipping on Orders of $40 or More"),u.qZA()(),u.TgZ(6,"div",4),u._UZ(7,"app-sidebar-bestsellers")(8,"app-carousel-bestsellers"),u.qZA(),u.TgZ(9,"div",5),u._UZ(10,"app-footbar-bestsellers"),u.qZA())},dependencies:[Z_,q_,K_],styles:["#container1[_ngcontent-%COMP%]{background-color:#e6cacf;height:55px;line-height:55px}#container2[_ngcontent-%COMP%]{background-color:#3d5962;height:45px;line-height:45px}#ribbon[_ngcontent-%COMP%]{color:#fff}#pinkribbon[_ngcontent-%COMP%]{color:#000;font-size:large;font-weight:600}"]});class Q_{}Q_.\u0275fac=function(t){return new(t||Q_)},Q_.\u0275cmp=u.Xpm({type:Q_,selectors:[["app-sixth-layout"]],decls:2,vars:0,template:function(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1,"Gift Cards Page"),u.qZA())}});let LD=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ch=(()=>{class n extends LD{}return n.\u0275fac=function(){let t;return function(o){return(t||(t=u.n5z(n)))(o||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ol=new u.OlP("NgValueAccessor"),kA={provide:ol,useExisting:(0,u.Gpc)(()=>U0),multi:!0},LA=new u.OlP("CompositionEventMode");let U0=(()=>{class n extends LD{constructor(e,o,a){super(e,o),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function FA(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(LA,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&u.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[u._Bn([kA]),u.qOj]}),n})();const hi=new u.OlP("NgValidators"),$c=new u.OlP("NgAsyncValidators");function qD(n){return null!=n}function KD(n){return(0,u.QGY)(n)?(0,Yt.D)(n):n}function YD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function QD(n,t){return t.map(e=>e(n))}function JD(n){return n.map(t=>function BA(n){return!n.validate}(t)?t:e=>t.validate(e))}function Gw(n){return null!=n?function XD(n){if(!n)return null;const t=n.filter(qD);return 0==t.length?null:function(e){return YD(QD(e,t))}}(JD(n)):null}function zw(n){return null!=n?function eT(n){if(!n)return null;const t=n.filter(qD);return 0==t.length?null:function(e){return function NA(...n){const t=(0,Un.jO)(n),{args:e,keys:o}=Vr(n),a=new nr.y(d=>{const{length:p}=e;if(!p)return void d.complete();const C=new Array(p);let I=p,S=p;for(let U=0;U<p;U++){let W=!1;(0,Xe.Xf)(e[U]).subscribe((0,w.x)(d,ee=>{W||(W=!0,S--),C[U]=ee},()=>I--,void 0,()=>{(!I||!W)&&(S||d.next(o?b(o,C):C),d.complete())}))}});return t?a.pipe(Vu(t)):a}(QD(e,t).map(KD)).pipe((0,it.U)(YD))}}(JD(n)):null}function tT(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Zw(n){return n?Array.isArray(n)?n:[n]:[]}function B0(n,t){return Array.isArray(n)?n.includes(t):n===t}function iT(n,t){const e=Zw(t);return Zw(n).forEach(a=>{B0(e,a)||e.push(a)}),e}function oT(n,t){return Zw(t).filter(e=>!B0(n,e))}class sT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Fi extends sT{get formDirective(){return null}get path(){return null}}class jc extends sT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aT{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lT=(()=>{class n extends aT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(jc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&u.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[u.qOj]}),n})(),uT=(()=>{class n extends aT{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Fi,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&u.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[u.qOj]}),n})();const J_="VALID",$0="INVALID",Op="PENDING",X_="DISABLED";function Qw(n){return(j0(n)?n.validators:n)||null}function Jw(n,t){return(j0(t)?t.asyncValidators:n)||null}function j0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fT{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===J_}get invalid(){return this.status===$0}get pending(){return this.status==Op}get disabled(){return this.status===X_}get enabled(){return this.status!==X_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(iT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(iT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(oT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(oT(t,this._rawAsyncValidators))}hasValidator(t){return B0(this._rawValidators,t)}hasAsyncValidator(t){return B0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Op,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=X_,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=J_,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===J_||this.status===Op)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X_:J_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Op,this._hasOwnPendingAsyncValidator=!0;const e=KD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,a)=>o&&o._find(a),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?X_:this.errors?$0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Op)?Op:this._anyControlsHaveStatus($0)?$0:J_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){j0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function ZA(n){return Array.isArray(n)?Gw(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function qA(n){return Array.isArray(n)?zw(n):n||null}(this._rawAsyncValidators)}}class Xw extends fT{constructor(t,e,o){super(Qw(e),Jw(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function hT(n,t,e){n._forEachChild((o,a)=>{if(void 0===e[a])throw new u.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(o=>{(function dT(n,t,e){const o=n.controls;if(!(t?Object.keys(o):o).length)throw new u.vHH(1e3,"");if(!o[e])throw new u.vHH(1001,"")})(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const a=this.controls[o];a&&a.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,a)=>{o.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,a)=>((o.enabled||this.disabled)&&(e[a]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((a,d)=>{o=e(o,a,d)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ey=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>eI}),eI="always";function ty(n,t,e=eI){tI(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function QA(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pT(n,t)})}(n,t),function XA(n,t){const e=(o,a)=>{t.valueAccessor.writeValue(o),a&&t.viewToModelUpdate(o)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function JA(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pT(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function YA(n,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function z0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tI(n,t){const e=function nT(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(tT(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const o=function rT(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(tT(o,t.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const a=()=>n.updateValueAndValidity();z0(t._rawValidators,a),z0(t._rawAsyncValidators,a)}function pT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const iS={provide:Fi,useExisting:(0,u.Gpc)(()=>q0)},ny=(()=>Promise.resolve())();let q0=(()=>{class n extends Fi{constructor(e,o,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Xw({},Gw(e),zw(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ny.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),ty(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ny.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ny.then(()=>{const o=this._findContainer(e.path),a=new Xw({});(function gT(n,t){tI(n,t)})(a,e),o.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ny.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){ny.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function mT(n,t){n._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(hi,10),u.Y36($c,10),u.Y36(ey,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&u.NdJ("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([iS]),u.qOj]}),n})();function _T(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function yT(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vT=class extends fT{constructor(t=null,e,o){super(Qw(e),Jw(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),j0(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=yT(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_T(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_T(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){yT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},aS={provide:jc,useExisting:(0,u.Gpc)(()=>oI)},bT=(()=>Promise.resolve())();let oI=(()=>{class n extends jc{constructor(e,o,a,d,p,C){super(),this._changeDetectorRef=p,this.callSetDisabledState=C,this.control=new vT,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(a),this.valueAccessor=function iI(n,t){if(!t)return null;let e,o,a;return Array.isArray(t),t.forEach(d=>{d.constructor===U0?e=d:function nS(n){return Object.getPrototypeOf(n.constructor)===ch}(d)?o=d:a=d}),a||o||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function rI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){bT.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,a=0!==o&&(0,u.D6c)(o);bT.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function W0(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Fi,9),u.Y36(hi,10),u.Y36($c,10),u.Y36(ol,10),u.Y36(u.sBO,8),u.Y36(ey,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([aS]),u.qOj,u.TTD]}),n})(),wT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),PS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[DT]}),n})(),NS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ey,useValue:e.callSetDisabledState??eI}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[PS]}),n})();class ry{constructor(t){this.ps=t}ngOnInit(){}addItem(t){this.ps.addProduct(t)}}ry.\u0275fac=function(t){return new(t||ry)(u.Y36(uh))},ry.\u0275cmp=u.Xpm({type:ry,selectors:[["app-add-product"]],decls:23,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-8"],[3,"ngSubmit"],["postform","ngForm"],[1,"input-group"],[1,"input-group-text"],["type","text","ngModel","","name","img",1,"form-control"],["type","text","ngModel","","name","description",1,"form-control"],["type","text","ngModel","","name","author",1,"form-control"],["type","text","ngModel","","name","img2",1,"form-control"],["type","submit",1,"btn","btn-dark"]],template:function(t,e){if(1&t){const o=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),u.NdJ("ngSubmit",function(){u.CHM(o);const d=u.MAs(4);return u.KtG(e.addItem(d.value))}),u.TgZ(5,"div",5)(6,"span",6),u._uU(7,"Image Path"),u.qZA(),u._UZ(8,"input",7),u.qZA(),u.TgZ(9,"div",5)(10,"span",6),u._uU(11,"Title"),u.qZA(),u._UZ(12,"input",8),u.qZA(),u.TgZ(13,"div",5)(14,"span",6),u._uU(15,"Author"),u.qZA(),u._UZ(16,"input",9),u.qZA(),u.TgZ(17,"div",5)(18,"span",6),u._uU(19,"Image Path"),u.qZA(),u._UZ(20,"input",10),u.qZA(),u.TgZ(21,"button",11),u._uU(22,"Add Card"),u.qZA()()()()()}},dependencies:[wT,U0,lT,uT,oI,q0]});const xS=[{path:"",component:B_},{path:"blog-and-podcast",component:H_},{path:"membership",component:$_},{path:"coupons-and-deals",component:z_},{path:"bestsellers",component:Y_},{path:"giftcards",component:Q_},{path:"admin",component:ry}];class Np{}Np.\u0275fac=function(t){return new(t||Np)},Np.\u0275mod=u.oAB({type:Np}),Np.\u0275inj=u.cJS({imports:[lf.forRoot(xS),lf]});const kS=[{img:"./assets/Cards/maureen.PNG",description:"Maureen: A Harold Fry Novel",author:"Rachel Joyce",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/goodmothers.PNG",description:"The School for Good Mothers",author:"Jessamine Chan",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/jojosmall.PNG",description:"Someone Else's Shoes",author:"Jojo Moyes",img2:"./assets/Cards/stars.png"},{img:"/assets/Cards/wilder.PNG",description:"Something Wilder",author:"Christina Lauren",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/sapphire.PNG",description:"Code Name Sapphire",author:"Pam Jenoff",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/booth.PNG",description:"Booth",author:"Karen Joy Fowler",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/essex.PNG",description:"Essex Dogs: A Novel",author:"Dan Jones",img2:"./assets/Cards/stars.png"},{img:"./assets/Cards/ghosts.PNG",description:"Hungry Ghosts: A Novel",author:"Kevin Jared Hosein",img2:"./assets/Cards/stars.png"}];class iy{}iy.\u0275fac=function(t){return new(t||iy)},iy.\u0275cmp=u.Xpm({type:iy,selectors:[["app-top-nav-bar"]],decls:47,vars:0,consts:[[1,"navbar","navbar-light",2,"background-color","#ffffff"],[1,"container"],[1,"d-flex","justify-content-center","align-items-left"],[1,"col-md-auto"],["src","assets\\Images\\pin.png","alt","","width","12","height","19",1,"img"],["type","button",1,"btn","btn-link","btn-sm"],["type","button","routerLink","blog-and-podcast",1,"btn","btn-link","btn-sm"],["type","button","routerLink","membership",1,"btn","btn-link","btn-sm"],["type","button","routerLink","coupons-and-deals",1,"btn","btn-link","btn-sm"],["type","button","routerLink","bestsellers",1,"btn","btn-link","btn-sm"],["type","button","routerLink","giftcards",1,"btn","btn-link","btn-sm"],[1,"d-flex","bd-highlight","mb-3"],[1,"navbar-nav"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["src","assets\\Images\\user.jpg","id","img2","width","25","height","25",1,"img"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["type","button",1,"btn-link-outline"],["type","button",1,"btn-link"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["src","assets\\Images\\heart.png","width","15","height","15"]],template:function(t,e){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"img",4),u.TgZ(5,"button",5),u._uU(6,"STORES & EVENTS"),u.qZA(),u.TgZ(7,"button",6),u._uU(8,"BLOG & PODCAST"),u.qZA(),u.TgZ(9,"button",7),u._uU(10,"MEMBERSHIP"),u.qZA(),u.TgZ(11,"button",8),u._uU(12,"COUPONS & DEALS"),u.qZA(),u.TgZ(13,"button",9),u._uU(14,"BESTSELLERS"),u.qZA(),u.TgZ(15,"button",10),u._uU(16,"GIFT CARDS"),u.qZA()()(),u.TgZ(17,"div",11)(18,"ul",12)(19,"li",13)(20,"a",14),u._UZ(21,"img",15),u._uU(22," MY ACCOUNT "),u.qZA(),u.TgZ(23,"ul",16)(24,"button",17),u._uU(25,"Sign In"),u.qZA(),u.TgZ(26,"button",18),u._uU(27,"Create An Account"),u.qZA(),u._UZ(28,"div",19),u.TgZ(29,"li")(30,"a",20),u._uU(31,"Manage Account"),u.qZA()(),u.TgZ(32,"li")(33,"a",20),u._uU(34,"Order Status"),u.qZA()(),u.TgZ(35,"li")(36,"a",20),u._uU(37,"My Digital Library"),u.qZA()(),u.TgZ(38,"li")(39,"a",20),u._uU(40,"Address Book"),u.qZA()(),u.TgZ(41,"li")(42,"a",20),u._uU(43,"Payment Methods"),u.qZA()()()()(),u.TgZ(44,"button",5),u._UZ(45,"img",21),u._uU(46,"WISHLIST"),u.qZA()()()())},dependencies:[Td],styles:["img[_ngcontent-%COMP%]{vertical-align:middle}.btn[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:0;color:#5a5a5a;padding:10px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:12px;transition-duration:.4s;border-right:1.5px solid #CD7F32;outline:none}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:green}button[_ngcontent-%COMP%]:focus{outline:0!important;box-shadow:none}.dropdown[_ngcontent-%COMP%]{background-color:#fff;color:#5a5a5a;padding:10px 15px;font-size:15px;border:none;cursor:pointer}li.nav-item-dropdown[_ngcontent-%COMP%]{color:#fff;text-align:center;padding:14px 16px;text-decoration:none;display:inline-block}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px #0003;z-index:100}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;font-size:12px;display:block;text-align:left}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.btn-link-outline[_ngcontent-%COMP%]{background-color:#314850;border:none;border-radius:0;color:#fff;padding:10px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:12px;transition-duration:.4s;margin:auto;width:100%}.btn-link-outline[_ngcontent-%COMP%]{transition-duration:.4s}.btn-link-outline[_ngcontent-%COMP%]:hover{background-color:#006400;color:#fff}.btn-link[_ngcontent-%COMP%]{background-color:#fff;border:5px;border-radius:0;color:#000;padding:10px 15px;text-align:center;text-decoration:underline;display:inline-block;font-size:12px;transition-duration:.4s;border-right:1.5px solid #CD7F32}.btn-link[_ngcontent-%COMP%]:hover{background-color:#fff;color:green}"]});class oy{}oy.\u0275fac=function(t){return new(t||oy)},oy.\u0275cmp=u.Xpm({type:oy,selectors:[["app-mid-nav-bar"]],decls:57,vars:0,consts:[[1,"container"],[1,"row","height","d-flex","justify-content-center","align-items-left"],[1,"col-md-auto"],["href","#",1,"navbar-brand"],["src","assets\\Images\\Barnes-Noble-Logo1-500x281.png","routerLink","","alt","","width","200","height","270",1,"img-fluid"],["href","#","id","navbarDropdownMenuLink","role","button","data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"col-md-8"],[1,"search"],[1,"fa","fa-search"],["type","text","placeholder","Search by Title, Author, Keyword, or ISBN",1,"form-control"],["type","submit",1,"btn","btn-base"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-search"],["cx","11","cy","11","r","8"],["x1","21","y1","21","x2","16.65","y2","16.65"],["type","button",1,"btn","btn-link-outline","btn-sm"],["src","assets\\Images\\shopping.png","width","30"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),u._UZ(4,"img",4),u.qZA()(),u.TgZ(5,"div",2)(6,"a",5),u._uU(7," All"),u.qZA(),u.TgZ(8,"ul",6)(9,"li")(10,"a",7),u._uU(11,"Books"),u.qZA()(),u.TgZ(12,"li")(13,"a",7),u._uU(14,"Audiobooks"),u.qZA()(),u.TgZ(15,"li")(16,"a",7),u._uU(17,"ebooks & NOOK"),u.qZA()(),u.TgZ(18,"li")(19,"a",7),u._uU(20,"Textbooks"),u.qZA()(),u.TgZ(21,"li")(22,"a",7),u._uU(23,"Newsstand"),u.qZA()(),u.TgZ(24,"li")(25,"a",7),u._uU(26,"Teens & YA"),u.qZA()(),u.TgZ(27,"li")(28,"a",7),u._uU(29,"Kids"),u.qZA()(),u.TgZ(30,"li")(31,"a",7),u._uU(32,"Toys & Games"),u.qZA()(),u.TgZ(33,"li")(34,"a",7),u._uU(35,"Stationary & Gifts"),u.qZA()(),u.TgZ(36,"li")(37,"a",7),u._uU(38,"Movies & TV"),u.qZA()(),u.TgZ(39,"li")(40,"a",7),u._uU(41,"Music"),u.qZA()(),u.TgZ(42,"li")(43,"a",7),u._uU(44,"Book Annex"),u.qZA()()()(),u.TgZ(45,"div",8)(46,"div",9),u._UZ(47,"i",10)(48,"input",11),u.qZA()(),u.TgZ(49,"div",2)(50,"button",12),u.O4$(),u.TgZ(51,"svg",13),u._UZ(52,"circle",14)(53,"line",15),u.qZA()()(),u.kcU(),u.TgZ(54,"div",2)(55,"button",16),u._UZ(56,"img",17),u.qZA()()()())},dependencies:[Td],styles:["body[_ngcontent-%COMP%]{background-color:#eee;font-family:Poppins,sans-serif;font-weight:300}a.nav-link-dropdown-toggle[_ngcontent-%COMP%]{color:#000;text-align:center;padding:14px 16px;text-decoration:none;display:inline-block}a[_ngcontent-%COMP%]   .nav-link-dropdown-menu[_ngcontent-%COMP%]{display:none;position:relative;background-color:#f9f9f9;min-width:150px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px;text-decoration:none;font-size:12px;display:block;text-align:left}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;float:left}.search-form[_ngcontent-%COMP%]{width:80%;margin:0 auto;margin-top:1rem}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;display:block;width:100%;padding:1rem;height:100%;font-size:1rem}.search-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:transparent;border:0;padding:1rem;height:100%;font-size:1rem}.search-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:0}.search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;width:100%;font-size:1rem}.search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#314850}"]});class sy{}sy.\u0275fac=function(t){return new(t||sy)},sy.\u0275cmp=u.Xpm({type:sy,selectors:[["app-bottom-nav-bar"]],decls:23,vars:0,consts:[[1,"navbar","navbar-light",2,"background-color","#ffffff"],[1,"container"],[1,"d-flex-fill"],["type","button",1,"btn","btn-link","btn-sm"]],template:function(t,e){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),u._uU(4,"Books"),u.qZA(),u.TgZ(5,"button",3),u._uU(6,"Fiction"),u.qZA(),u.TgZ(7,"button",3),u._uU(8,"Nonfiction"),u.qZA(),u.TgZ(9,"button",3),u._uU(10,"eBooks"),u.qZA(),u.TgZ(11,"button",3),u._uU(12,"Audiobooks"),u.qZA(),u.TgZ(13,"button",3),u._uU(14,"Teens & YA"),u.qZA(),u.TgZ(15,"button",3),u._uU(16,"Kids"),u.qZA(),u.TgZ(17,"button",3),u._uU(18,"Toys & Games"),u.qZA(),u.TgZ(19,"button",3),u._uU(20,"Stationary & Gifts"),u.qZA(),u.TgZ(21,"button",3),u._uU(22,"Music & Movies"),u.qZA()()()())},styles:[".btn[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:0;color:#000;padding:5px 23px;text-align:center;text-decoration:none;display:inline-block;font-size:17px;font-family:Georgia,Georgia,Times New Roman,Times,serif;transition-duration:.4s;border-right:1.5px solid #CD7F32}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;color:green}button[_ngcontent-%COMP%]:focus{outline:0!important;box-shadow:none}"]});class K0{}class hI{}class Cu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const a=e.slice(0,o),d=a.toLowerCase(),p=e.slice(o+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const a=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(a,o),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Cu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Cu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Cu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...o),this.headers.set(e,a);break;case"d":const d=t.value;if(d){let p=this.headers.get(e);if(!p)return;p=p.filter(C=>-1===d.indexOf(C)),0===p.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,p)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class FS{encodeKey(t){return jT(t)}encodeValue(t){return jT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const US=/%(\d[a-f0-9])/gi,VS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jT(n){return encodeURIComponent(n).replace(US,(t,e)=>VS[e]??t)}function Y0(n){return`${n}`}class Wc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LS(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,C]=-1==d?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,d)),t.decodeValue(a.slice(d+1))],I=e.get(p)||[];I.push(C),e.set(p,I)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],a=Array.isArray(o)?o.map(Y0):[Y0(o)];this.map.set(e,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const a=t[o];Array.isArray(a)?a.forEach(d=>{e.push({param:o,value:d,op:"a"})}):e.push({param:o,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Y0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const a=o.indexOf(Y0(t.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class BS{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function WT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function GT(n){return typeof Blob<"u"&&n instanceof Blob}function zT(n){return typeof FormData<"u"&&n instanceof FormData}class ay{constructor(t,e,o,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,d=a):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Cu),this.context||(this.context=new BS),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=e;else{const C=e.indexOf("?");this.urlWithParams=e+(-1===C?"?":C<e.length-1?"&":"")+p}}else this.params=new Wc,this.urlWithParams=e}serializeBody(){return null===this.body?null:WT(this.body)||GT(this.body)||zT(this.body)||function $S(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zT(this.body)?null:GT(this.body)?this.body.type||null:WT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,a=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,p=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,C=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let I=t.headers||this.headers,S=t.params||this.params;const U=t.context??this.context;return void 0!==t.setHeaders&&(I=Object.keys(t.setHeaders).reduce((W,ee)=>W.set(ee,t.setHeaders[ee]),I)),t.setParams&&(S=Object.keys(t.setParams).reduce((W,ee)=>W.set(ee,t.setParams[ee]),S)),new ay(e,o,d,{params:S,headers:I,context:U,reportProgress:C,responseType:a,withCredentials:p})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class fI{constructor(t,e=200,o="OK"){this.headers=t.headers||new Cu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pI extends fI{constructor(t={}){super(t),this.type=yr.ResponseHeader}clone(t={}){return new pI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Q0 extends fI{constructor(t={}){super(t),this.type=yr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Q0({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZT extends fI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qT=(()=>{class n{constructor(e){this.handler=e}request(e,o,a={}){let d;if(e instanceof ay)d=e;else{let I,S;I=a.headers instanceof Cu?a.headers:new Cu(a.headers),a.params&&(S=a.params instanceof Wc?a.params:new Wc({fromObject:a.params})),d=new ay(e,o,void 0!==a.body?a.body:null,{headers:I,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=qe(d).pipe(Kr(I=>this.handler.handle(I)));if(e instanceof ay||"events"===a.observe)return p;const C=p.pipe(So(I=>I instanceof Q0));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return C.pipe((0,it.U)(I=>{if(null!==I.body&&!(I.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return I.body}));case"blob":return C.pipe((0,it.U)(I=>{if(null!==I.body&&!(I.body instanceof Blob))throw new Error("Response is not a Blob.");return I.body}));case"text":return C.pipe((0,it.U)(I=>{if(null!==I.body&&"string"!=typeof I.body)throw new Error("Response is not a string.");return I.body}));default:return C.pipe((0,it.U)(I=>I.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Wc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,a={}){return this.request("PATCH",e,gI(a,o))}post(e,o,a={}){return this.request("POST",e,gI(a,o))}put(e,o,a={}){return this.request("PUT",e,gI(a,o))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function KT(n,t){return t(n)}function jS(n,t){return(e,o)=>t.intercept(e,{handle:a=>n(a,o)})}const GS=new u.OlP("HTTP_INTERCEPTORS"),ly=new u.OlP("HTTP_INTERCEPTOR_FNS");function zS(){let n=null;return(t,e)=>(null===n&&(n=((0,u.f3M)(GS,{optional:!0})??[]).reduceRight(jS,KT)),n(t,e))}let YT=(()=>{class n extends K0{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=Array.from(new Set(this.injector.get(ly)));this.chain=o.reduceRight((a,d)=>function WS(n,t,e){return(o,a)=>e.runInContext(()=>t(o,d=>n(d,a)))}(a,d,this.injector),KT)}return this.chain(e,o=>this.backend.handle(o))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hI),u.LFG(u.lqb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const YS=/^\)\]\}',?\n/;let JT=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new nr.y(o=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((fe,Se)=>a.setRequestHeader(fe,Se.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const fe=e.detectContentTypeHeader();null!==fe&&a.setRequestHeader("Content-Type",fe)}if(e.responseType){const fe=e.responseType.toLowerCase();a.responseType="json"!==fe?fe:"text"}const d=e.serializeBody();let p=null;const C=()=>{if(null!==p)return p;const fe=a.statusText||"OK",Se=new Cu(a.getAllResponseHeaders()),tt=function QS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return p=new pI({headers:Se,status:a.status,statusText:fe,url:tt}),p},I=()=>{let{headers:fe,status:Se,statusText:tt,url:yt}=C(),Ut=null;204!==Se&&(Ut=typeof a.response>"u"?a.responseText:a.response),0===Se&&(Se=Ut?200:0);let Xt=Se>=200&&Se<300;if("json"===e.responseType&&"string"==typeof Ut){const Ar=Ut;Ut=Ut.replace(YS,"");try{Ut=""!==Ut?JSON.parse(Ut):null}catch(An){Ut=Ar,Xt&&(Xt=!1,Ut={error:An,text:Ut})}}Xt?(o.next(new Q0({body:Ut,headers:fe,status:Se,statusText:tt,url:yt||void 0})),o.complete()):o.error(new ZT({error:Ut,headers:fe,status:Se,statusText:tt,url:yt||void 0}))},S=fe=>{const{url:Se}=C(),tt=new ZT({error:fe,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Se||void 0});o.error(tt)};let U=!1;const W=fe=>{U||(o.next(C()),U=!0);let Se={type:yr.DownloadProgress,loaded:fe.loaded};fe.lengthComputable&&(Se.total=fe.total),"text"===e.responseType&&a.responseText&&(Se.partialText=a.responseText),o.next(Se)},ee=fe=>{let Se={type:yr.UploadProgress,loaded:fe.loaded};fe.lengthComputable&&(Se.total=fe.total),o.next(Se)};return a.addEventListener("load",I),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),e.reportProgress&&(a.addEventListener("progress",W),null!==d&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(d),o.next({type:yr.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",I),a.removeEventListener("timeout",S),e.reportProgress&&(a.removeEventListener("progress",W),null!==d&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(go))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mI=new u.OlP("XSRF_ENABLED"),XT="XSRF-TOKEN",eA=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>XT}),tA="X-XSRF-TOKEN",nA=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>tA});class rA{}let JS=(()=>{class n{constructor(e,o,a){this.doc=e,this.platform=o,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se),u.LFG(u.Lbi),u.LFG(eA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function XS(n,t){const e=n.url.toLowerCase();if(!(0,u.f3M)(mI)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const o=(0,u.f3M)(rA).getToken(),a=(0,u.f3M)(nA);return null!=o&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,o)})),t(n)}var or=(()=>((or=or||{})[or.Interceptors=0]="Interceptors",or[or.LegacyInterceptors=1]="LegacyInterceptors",or[or.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",or[or.NoXsrfProtection=3]="NoXsrfProtection",or[or.JsonpSupport=4]="JsonpSupport",or[or.RequestsMadeViaParent=5]="RequestsMadeViaParent",or))();function xp(n,t){return{\u0275kind:n,\u0275providers:t}}function eM(...n){const t=[qT,JT,YT,{provide:K0,useExisting:YT},{provide:hI,useExisting:JT},{provide:ly,useValue:XS,multi:!0},{provide:mI,useValue:!0},{provide:rA,useClass:JS}];for(const e of n)t.push(...e.\u0275providers);return(0,u.MR2)(t)}const iA=new u.OlP("LEGACY_INTERCEPTOR_FN");function nM({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:eA,useValue:n}),void 0!==t&&e.push({provide:nA,useValue:t}),xp(or.CustomXsrfConfiguration,e)}let rM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[eM(xp(or.LegacyInterceptors,[{provide:iA,useFactory:zS},{provide:ly,useExisting:iA,multi:!0}]),nM({cookieName:XT,headerName:tA}))]}),n})();function iM(n,t){1&n&&(u.TgZ(0,"p"),u._uU(1," Failed fetching user info"),u.qZA())}function oM(n,t){if(1&n&&(u.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"div",3)(6,"a",4),u._uU(7),u.qZA()(),u.TgZ(8,"div",3)(9,"a",4),u._uU(10),u.qZA()()()()()),2&n){const e=u.oxw();u.xp6(4),u.AsE(" User: ",e.myInfo.FirstName," ",e.myInfo.LastName," "),u.xp6(2),u.MGl("href","mailto: ",e.myInfo.mix_id,"@mix.wvu.edu ",u.LSH),u.xp6(1),u.hij("Mix ID: ",e.myInfo.mix_id,""),u.xp6(2),u.s9C("href",e.myInfo.GitHub,u.LSH),u.xp6(1),u.hij("GitHub: ",e.myInfo.GitHub,"")}}class Gc{constructor(t){this.http=t}ngOnInit(){console.log("Sending a GET request to the server"),this.getUserInfo(),console.log("Registering showUserInfo as a subscriber"),this.showUserInfo()}getUserInfo(){return this.http.get("https://barnes-and-noble-app-default-rtdb.firebaseio.com/my-info.json")}showUserInfo(){this.getUserInfo().subscribe(t=>{console.log(t),this.myInfo=t})}}Gc.\u0275fac=function(t){return new(t||Gc)(u.Y36(qT))},Gc.\u0275cmp=u.Xpm({type:Gc,selectors:[["app-user-info"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"],[1,"d-flex","flex-row","justify-content-between"],[1,"flex-column"],[3,"href"]],template:function(t,e){1&t&&(u.YNc(0,iM,2,0,"p",0),u.YNc(1,oM,11,6,"div",0)),2&t&&(u.Q6J("ngIf",null==e.myInfo),u.xp6(1),u.Q6J("ngIf",null!=e.myInfo))},dependencies:[qt]}),Gc.\u0275prov=u.Yz7({token:Gc,factory:Gc.\u0275fac});class uy{constructor(){for(var t of(this.title="kitchen-sink",this.products=[],kS))console.log(t),this.products.push(t)}}uy.\u0275fac=function(t){return new(t||uy)},uy.\u0275cmp=u.Xpm({type:uy,selectors:[["app-root"]],decls:5,vars:0,template:function(t,e){1&t&&u._UZ(0,"app-user-info")(1,"app-top-nav-bar")(2,"app-mid-nav-bar")(3,"app-bottom-nav-bar")(4,"router-outlet")},dependencies:[Iy,iy,oy,sy,Gc]});const oA_firebase={projectId:"barnes-and-noble-app",appId:"1:138153423077:web:5b7efbaa32e15d7465240c",databaseURL:"https://barnes-and-noble-app-default-rtdb.firebaseio.com",storageBucket:"barnes-and-noble-app.appspot.com",apiKey:"AIzaSyAijMjETeJpqV0II3L122JQmVo2LP7g5SI",authDomain:"barnes-and-noble-app.firebaseapp.com",messagingSenderId:"138153423077",measurementId:"G-RZ254PEM6L"};k(3432);class aA{constructor(){return(0,Pn.vb)("auth")}}class vI{constructor(t){return t}}const lA="database",CI=new u.OlP("angularfire2.database-instances");function dM(n){return(t,e)=>{const o=t.runOutsideAngular(()=>n(e));return new vI(o)}}const hM={provide:class uM{constructor(){return(0,Pn.vb)(lA)}},deps:[[new u.FiY,CI]]},fM={provide:vI,useFactory:function cM(n,t){const e=(0,Pn.JM)(lA,n,t);return e&&new vI(e)},deps:[[new u.FiY,CI],Vc]};let pM=(()=>{class n{constructor(){(0,Uc.KN)("angularfire",Pn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[fM,hM]}),n})();const mM=(0,Pn.u3)(s0,!0);class kp{}kp.\u0275fac=function(t){return new(t||kp)},kp.\u0275mod=u.oAB({type:kp,bootstrap:[uy]}),kp.\u0275inj=u.cJS({imports:[Oa,Np,rM,NS,Ri.hO.initializeApp(oA_firebase,"barnes-and-noble-app"),function Dw(n,...t){return{ngModule:xo,providers:[{provide:p_,useFactory:hD(n),multi:!0,deps:[u.R0b,u.zs3,Pn.HU,...t]}]}}(()=>so(oA_firebase)),function gM(n,...t){return{ngModule:pM,providers:[{provide:CI,useFactory:dM(n),multi:!0,deps:[u.R0b,u.zs3,Pn.HU,g0,[new u.FiY,aA],[new u.FiY,x_],...t]}]}}(()=>mM())]}),Os().bootstrapModule(kp).catch(n=>console.error(n))},9751:(Ye,be,k)=>{k.d(be,{y:()=>ue});var u=k(930),B=k(727),P=k(8822),ne=k(9635),oe=k(2416),se=k(576),he=k(2806);let ue=(()=>{class K{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Le=new K;return Le.source=this,Le.operator=Ie,Le}subscribe(Ie,Le,ze){const de=function G(K){return K&&K instanceof u.Lv||function $(K){return K&&(0,se.m)(K.next)&&(0,se.m)(K.error)&&(0,se.m)(K.complete)}(K)&&(0,B.Nn)(K)}(Ie)?Ie:new u.Hp(Ie,Le,ze);return(0,he.x)(()=>{const{operator:ve,source:ye}=this;de.add(ve?ve.call(de,ye):ye?this._subscribe(de):this._trySubscribe(de))}),de}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Le){Ie.error(Le)}}forEach(Ie,Le){return new(Le=ce(Le))((ze,de)=>{const ve=new u.Hp({next:ye=>{try{Ie(ye)}catch(Te){de(Te),ve.unsubscribe()}},error:de,complete:ze});this.subscribe(ve)})}_subscribe(Ie){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ie)}[P.L](){return this}pipe(...Ie){return(0,ne.U)(Ie)(this)}toPromise(Ie){return new(Ie=ce(Ie))((Le,ze)=>{let de;this.subscribe(ve=>de=ve,ve=>ze(ve),()=>Le(de))})}}return K.create=Ne=>new K(Ne),K})();function ce(K){var Ne;return null!==(Ne=K??oe.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Ye,be,k)=>{k.d(be,{x:()=>he});var u=k(9751),B=k(727);const ne=(0,k(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=k(8737),se=k(2806);let he=(()=>{class ce extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const K=new ue(this,this);return K.operator=G,K}_throwIfClosed(){if(this.closed)throw new ne}next(G){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(G)}})}error(G){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:K}=this;for(;K.length;)K.shift().error(G)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:K,isStopped:Ne,observers:Ie}=this;return K||Ne?B.Lc:(this.currentObservers=null,Ie.push(G),new B.w0(()=>{this.currentObservers=null,(0,oe.P)(Ie,G)}))}_checkFinalizedStatuses(G){const{hasError:K,thrownError:Ne,isStopped:Ie}=this;K?G.error(Ne):Ie&&G.complete()}asObservable(){const G=new u.y;return G.source=this,G}}return ce.create=($,G)=>new ue($,G),ce})();class ue extends he{constructor($,G){super(),this.destination=$,this.source=G}next($){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===K||K.call(G,$)}error($){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===K||K.call(G,$)}complete(){var $,G;null===(G=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===G||G.call($)}_subscribe($){var G,K;return null!==(K=null===(G=this.source)||void 0===G?void 0:G.subscribe($))&&void 0!==K?K:B.Lc}}},930:(Ye,be,k)=>{k.d(be,{Hp:()=>ze,Lv:()=>K});var u=k(576),B=k(727),P=k(2416),ne=k(7849),oe=k(5032);const se=ce("C",void 0,void 0);function ce(Me,Ae,we){return{kind:Me,value:Ae,error:we}}var $=k(3410),G=k(2806);class K extends B.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,B.Nn)(Ae)&&Ae.add(this)):this.destination=Te}static create(Ae,we,Fe){return new ze(Ae,we,Fe)}next(Ae){this.isStopped?ye(function ue(Me){return ce("N",Me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?ye(function he(Me){return ce("E",void 0,Me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?ye(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ie(Me,Ae){return Ne.call(Me,Ae)}class Le{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:we}=this;if(we.next)try{we.next(Ae)}catch(Fe){de(Fe)}}error(Ae){const{partialObserver:we}=this;if(we.error)try{we.error(Ae)}catch(Fe){de(Fe)}else de(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(we){de(we)}}}class ze extends K{constructor(Ae,we,Fe){let Q;if(super(),(0,u.m)(Ae)||!Ae)Q={next:Ae??void 0,error:we??void 0,complete:Fe??void 0};else{let ae;this&&P.v.useDeprecatedNextContext?(ae=Object.create(Ae),ae.unsubscribe=()=>this.unsubscribe(),Q={next:Ae.next&&Ie(Ae.next,ae),error:Ae.error&&Ie(Ae.error,ae),complete:Ae.complete&&Ie(Ae.complete,ae)}):Q=Ae}this.destination=new Le(Q)}}function de(Me){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Me):(0,ne.h)(Me)}function ye(Me,Ae){const{onStoppedNotification:we}=P.v;we&&$.z.setTimeout(()=>we(Me,Ae))}const Te={closed:!0,next:oe.Z,error:function ve(Me){throw Me},complete:oe.Z}},727:(Ye,be,k)=>{k.d(be,{Lc:()=>se,w0:()=>oe,Nn:()=>he});var u=k(576);const P=(0,k(3888).d)(ce=>function(G){ce(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((K,Ne)=>`${Ne+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ne=k(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ie of G)Ie.remove(this);else G.remove(this);const{initialTeardown:K}=this;if((0,u.m)(K))try{K()}catch(Ie){$=Ie instanceof P?Ie.errors:[Ie]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ie of Ne)try{ue(Ie)}catch(Le){$=$??[],Le instanceof P?$=[...$,...Le.errors]:$.push(Le)}}if($)throw new P($)}}add($){var G;if($&&$!==this)if(this.closed)ue($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push($)}}_hasParent($){const{_parentage:G}=this;return G===$||Array.isArray(G)&&G.includes($)}_addParent($){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push($),G):G?[G,$]:$}_removeParent($){const{_parentage:G}=this;G===$?this._parentage=null:Array.isArray(G)&&(0,ne.P)(G,$)}remove($){const{_finalizers:G}=this;G&&(0,ne.P)(G,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const ce=new oe;return ce.closed=!0,ce})();const se=oe.EMPTY;function he(ce){return ce instanceof oe||ce&&"closed"in ce&&(0,u.m)(ce.remove)&&(0,u.m)(ce.add)&&(0,u.m)(ce.unsubscribe)}function ue(ce){(0,u.m)(ce)?ce():ce.unsubscribe()}},2416:(Ye,be,k)=>{k.d(be,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ye,be,k)=>{k.d(be,{E:()=>B});const B=new(k(9751).y)(oe=>oe.complete())},8996:(Ye,be,k)=>{k.d(be,{D:()=>Ae});var u=k(8421),B=k(5363),P=k(9468),se=k(9751),ue=k(2202),ce=k(576),$=k(9672);function K(we,Fe){if(!we)throw new Error("Iterable cannot be null");return new se.y(Q=>{(0,$.f)(Q,Fe,()=>{const ae=we[Symbol.asyncIterator]();(0,$.f)(Q,Fe,()=>{ae.next().then(ge=>{ge.done?Q.complete():Q.next(ge.value)})},0,!0)})})}var Ne=k(3670),Ie=k(8239),Le=k(1144),ze=k(6495),de=k(2206),ve=k(4532),ye=k(3260);function Ae(we,Fe){return Fe?function Me(we,Fe){if(null!=we){if((0,Ne.c)(we))return function ne(we,Fe){return(0,u.Xf)(we).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(we,Fe);if((0,Le.z)(we))return function he(we,Fe){return new se.y(Q=>{let ae=0;return Fe.schedule(function(){ae===we.length?Q.complete():(Q.next(we[ae++]),Q.closed||this.schedule())})})}(we,Fe);if((0,Ie.t)(we))return function oe(we,Fe){return(0,u.Xf)(we).pipe((0,P.R)(Fe),(0,B.Q)(Fe))}(we,Fe);if((0,de.D)(we))return K(we,Fe);if((0,ze.T)(we))return function G(we,Fe){return new se.y(Q=>{let ae;return(0,$.f)(Q,Fe,()=>{ae=we[ue.h](),(0,$.f)(Q,Fe,()=>{let ge,Z;try{({value:ge,done:Z}=ae.next())}catch(q){return void Q.error(q)}Z?Q.complete():Q.next(ge)},0,!0)}),()=>(0,ce.m)(ae?.return)&&ae.return()})}(we,Fe);if((0,ye.L)(we))return function Te(we,Fe){return K((0,ye.Q)(we),Fe)}(we,Fe)}throw(0,ve.z)(we)}(we,Fe):(0,u.Xf)(we)}},8421:(Ye,be,k)=>{k.d(be,{Xf:()=>Ne});var u=k(655),B=k(1144),P=k(8239),ne=k(9751),oe=k(3670),se=k(2206),he=k(4532),ue=k(6495),ce=k(3260),$=k(576),G=k(7849),K=k(8822);function Ne(Me){if(Me instanceof ne.y)return Me;if(null!=Me){if((0,oe.c)(Me))return function Ie(Me){return new ne.y(Ae=>{const we=Me[K.L]();if((0,$.m)(we.subscribe))return we.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,B.z)(Me))return function Le(Me){return new ne.y(Ae=>{for(let we=0;we<Me.length&&!Ae.closed;we++)Ae.next(Me[we]);Ae.complete()})}(Me);if((0,P.t)(Me))return function ze(Me){return new ne.y(Ae=>{Me.then(we=>{Ae.closed||(Ae.next(we),Ae.complete())},we=>Ae.error(we)).then(null,G.h)})}(Me);if((0,se.D)(Me))return ve(Me);if((0,ue.T)(Me))return function de(Me){return new ne.y(Ae=>{for(const we of Me)if(Ae.next(we),Ae.closed)return;Ae.complete()})}(Me);if((0,ce.L)(Me))return function ye(Me){return ve((0,ce.Q)(Me))}(Me)}throw(0,he.z)(Me)}function ve(Me){return new ne.y(Ae=>{(function Te(Me,Ae){var we,Fe,Q,ae;return(0,u.mG)(this,void 0,void 0,function*(){try{for(we=(0,u.KL)(Me);!(Fe=yield we.next()).done;)if(Ae.next(Fe.value),Ae.closed)return}catch(ge){Q={error:ge}}finally{try{Fe&&!Fe.done&&(ae=we.return)&&(yield ae.call(we))}finally{if(Q)throw Q.error}}Ae.complete()})})(Me,Ae).catch(we=>Ae.error(we))})}},6451:(Ye,be,k)=>{k.d(be,{T:()=>se});var u=k(8189),B=k(8421),P=k(515),ne=k(7669),oe=k(8996);function se(...he){const ue=(0,ne.yG)(he),ce=(0,ne._6)(he,1/0),$=he;return $.length?1===$.length?(0,B.Xf)($[0]):(0,u.J)(ce)((0,oe.D)($,ue)):P.E}},5403:(Ye,be,k)=>{k.d(be,{x:()=>B});var u=k(930);function B(ne,oe,se,he,ue){return new P(ne,oe,se,he,ue)}class P extends u.Lv{constructor(oe,se,he,ue,ce,$){super(oe),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=se?function(G){try{se(G)}catch(K){oe.error(K)}}:super._next,this._error=ue?function(G){try{ue(G)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(Ye,be,k)=>{k.d(be,{U:()=>P});var u=k(4482),B=k(5403);function P(ne,oe){return(0,u.e)((se,he)=>{let ue=0;se.subscribe((0,B.x)(he,ce=>{he.next(ne.call(oe,ce,ue++))}))})}},8189:(Ye,be,k)=>{k.d(be,{J:()=>P});var u=k(5577),B=k(4671);function P(ne=1/0){return(0,u.z)(B.y,ne)}},5577:(Ye,be,k)=>{k.d(be,{z:()=>ue});var u=k(4004),B=k(8421),P=k(4482),ne=k(9672),oe=k(5403),he=k(576);function ue(ce,$,G=1/0){return(0,he.m)($)?ue((K,Ne)=>(0,u.U)((Ie,Le)=>$(K,Ie,Ne,Le))((0,B.Xf)(ce(K,Ne))),G):("number"==typeof $&&(G=$),(0,P.e)((K,Ne)=>function se(ce,$,G,K,Ne,Ie,Le,ze){const de=[];let ve=0,ye=0,Te=!1;const Me=()=>{Te&&!de.length&&!ve&&$.complete()},Ae=Fe=>ve<K?we(Fe):de.push(Fe),we=Fe=>{Ie&&$.next(Fe),ve++;let Q=!1;(0,B.Xf)(G(Fe,ye++)).subscribe((0,oe.x)($,ae=>{Ne?.(ae),Ie?Ae(ae):$.next(ae)},()=>{Q=!0},void 0,()=>{if(Q)try{for(ve--;de.length&&ve<K;){const ae=de.shift();Le?(0,ne.f)($,Le,()=>we(ae)):we(ae)}Me()}catch(ae){$.error(ae)}}))};return ce.subscribe((0,oe.x)($,Ae,()=>{Te=!0,Me()})),()=>{ze?.()}}(K,Ne,ce,G)))}},5363:(Ye,be,k)=>{k.d(be,{Q:()=>ne});var u=k(9672),B=k(4482),P=k(5403);function ne(oe,se=0){return(0,B.e)((he,ue)=>{he.subscribe((0,P.x)(ue,ce=>(0,u.f)(ue,oe,()=>ue.next(ce),se),()=>(0,u.f)(ue,oe,()=>ue.complete(),se),ce=>(0,u.f)(ue,oe,()=>ue.error(ce),se)))})}},3099:(Ye,be,k)=>{k.d(be,{B:()=>oe});var u=k(8421),B=k(7579),P=k(930),ne=k(4482);function oe(he={}){const{connector:ue=(()=>new B.x),resetOnError:ce=!0,resetOnComplete:$=!0,resetOnRefCountZero:G=!0}=he;return K=>{let Ne,Ie,Le,ze=0,de=!1,ve=!1;const ye=()=>{Ie?.unsubscribe(),Ie=void 0},Te=()=>{ye(),Ne=Le=void 0,de=ve=!1},Me=()=>{const Ae=Ne;Te(),Ae?.unsubscribe()};return(0,ne.e)((Ae,we)=>{ze++,!ve&&!de&&ye();const Fe=Le=Le??ue();we.add(()=>{ze--,0===ze&&!ve&&!de&&(Ie=se(Me,G))}),Fe.subscribe(we),!Ne&&ze>0&&(Ne=new P.Hp({next:Q=>Fe.next(Q),error:Q=>{ve=!0,ye(),Ie=se(Te,ce,Q),Fe.error(Q)},complete:()=>{de=!0,ye(),Ie=se(Te,$),Fe.complete()}}),(0,u.Xf)(Ae).subscribe(Ne))})(K)}}function se(he,ue,...ce){if(!0===ue)return void he();if(!1===ue)return;const $=new P.Hp({next:()=>{$.unsubscribe(),he()}});return(0,u.Xf)(ue(...ce)).subscribe($)}},9468:(Ye,be,k)=>{k.d(be,{R:()=>B});var u=k(4482);function B(P,ne=0){return(0,u.e)((oe,se)=>{se.add(P.schedule(()=>oe.subscribe(se),ne))})}},8505:(Ye,be,k)=>{k.d(be,{b:()=>oe});var u=k(576),B=k(4482),P=k(5403),ne=k(4671);function oe(se,he,ue){const ce=(0,u.m)(se)||he||ue?{next:se,error:he,complete:ue}:se;return ce?(0,B.e)(($,G)=>{var K;null===(K=ce.subscribe)||void 0===K||K.call(ce);let Ne=!0;$.subscribe((0,P.x)(G,Ie=>{var Le;null===(Le=ce.next)||void 0===Le||Le.call(ce,Ie),G.next(Ie)},()=>{var Ie;Ne=!1,null===(Ie=ce.complete)||void 0===Ie||Ie.call(ce),G.complete()},Ie=>{var Le;Ne=!1,null===(Le=ce.error)||void 0===Le||Le.call(ce,Ie),G.error(Ie)},()=>{var Ie,Le;Ne&&(null===(Ie=ce.unsubscribe)||void 0===Ie||Ie.call(ce)),null===(Le=ce.finalize)||void 0===Le||Le.call(ce)}))}):ne.y}},4408:(Ye,be,k)=>{k.d(be,{o:()=>oe});var u=k(727);class B extends u.w0{constructor(he,ue){super()}schedule(he,ue=0){return this}}const P={setInterval(se,he,...ue){const{delegate:ce}=P;return ce?.setInterval?ce.setInterval(se,he,...ue):setInterval(se,he,...ue)},clearInterval(se){const{delegate:he}=P;return(he?.clearInterval||clearInterval)(se)},delegate:void 0};var ne=k(8737);class oe extends B{constructor(he,ue){super(he,ue),this.scheduler=he,this.work=ue,this.pending=!1}schedule(he,ue=0){var ce;if(this.closed)return this;this.state=he;const $=this.id,G=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(G,$,ue)),this.pending=!0,this.delay=ue,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId(G,this.id,ue),this}requestAsyncId(he,ue,ce=0){return P.setInterval(he.flush.bind(he,this),ce)}recycleAsyncId(he,ue,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ue;null!=ue&&P.clearInterval(ue)}execute(he,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(he,ue);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,ue){let $,ce=!1;try{this.work(he)}catch(G){ce=!0,$=G||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:he,scheduler:ue}=this,{actions:ce}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ce,this),null!=he&&(this.id=this.recycleAsyncId(ue,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ye,be,k)=>{k.d(be,{v:()=>P});var u=k(6063);class B{constructor(oe,se=B.now){this.schedulerActionCtor=oe,this.now=se}schedule(oe,se=0,he){return new this.schedulerActionCtor(this,oe).schedule(he,se)}}B.now=u.l.now;class P extends B{constructor(oe,se=B.now){super(oe,se),this.actions=[],this._active=!1}flush(oe){const{actions:se}=this;if(this._active)return void se.push(oe);let he;this._active=!0;do{if(he=oe.execute(oe.state,oe.delay))break}while(oe=se.shift());if(this._active=!1,he){for(;oe=se.shift();)oe.unsubscribe();throw he}}}},4986:(Ye,be,k)=>{k.d(be,{z:()=>P});var u=k(4408);const P=new(k(7565).v)(u.o)},6063:(Ye,be,k)=>{k.d(be,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Ye,be,k)=>{k.d(be,{z:()=>u});const u={setTimeout(B,P,...ne){const{delegate:oe}=u;return oe?.setTimeout?oe.setTimeout(B,P,...ne):setTimeout(B,P,...ne)},clearTimeout(B){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Ye,be,k)=>{k.d(be,{h:()=>B});const B=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ye,be,k)=>{k.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ye,be,k)=>{k.d(be,{_6:()=>se,jO:()=>ne,yG:()=>oe});var u=k(576);function P(he){return he[he.length-1]}function ne(he){return(0,u.m)(P(he))?he.pop():void 0}function oe(he){return function B(he){return he&&(0,u.m)(he.schedule)}(P(he))?he.pop():void 0}function se(he,ue){return"number"==typeof P(he)?he.pop():ue}},8737:(Ye,be,k)=>{function u(B,P){if(B){const ne=B.indexOf(P);0<=ne&&B.splice(ne,1)}}k.d(be,{P:()=>u})},3888:(Ye,be,k)=>{function u(B){const ne=B(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(be,{d:()=>u})},2806:(Ye,be,k)=>{k.d(be,{O:()=>ne,x:()=>P});var u=k(2416);let B=null;function P(oe){if(u.v.useDeprecatedSynchronousErrorHandling){const se=!B;if(se&&(B={errorThrown:!1,error:null}),oe(),se){const{errorThrown:he,error:ue}=B;if(B=null,he)throw ue}}else oe()}function ne(oe){u.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=oe)}},9672:(Ye,be,k)=>{function u(B,P,ne,oe=0,se=!1){const he=P.schedule(function(){ne(),se?B.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(B.add(he),!se)return he}k.d(be,{f:()=>u})},4671:(Ye,be,k)=>{function u(B){return B}k.d(be,{y:()=>u})},1144:(Ye,be,k)=>{k.d(be,{z:()=>u});const u=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Ye,be,k)=>{k.d(be,{D:()=>B});var u=k(576);function B(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(Ye,be,k)=>{function u(B){return"function"==typeof B}k.d(be,{m:()=>u})},3670:(Ye,be,k)=>{k.d(be,{c:()=>P});var u=k(8822),B=k(576);function P(ne){return(0,B.m)(ne[u.L])}},6495:(Ye,be,k)=>{k.d(be,{T:()=>P});var u=k(2202),B=k(576);function P(ne){return(0,B.m)(ne?.[u.h])}},8239:(Ye,be,k)=>{k.d(be,{t:()=>B});var u=k(576);function B(P){return(0,u.m)(P?.then)}},3260:(Ye,be,k)=>{k.d(be,{L:()=>ne,Q:()=>P});var u=k(655),B=k(576);function P(oe){return(0,u.FC)(this,arguments,function*(){const he=oe.getReader();try{for(;;){const{value:ue,done:ce}=yield(0,u.qq)(he.read());if(ce)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ue)}}finally{he.releaseLock()}})}function ne(oe){return(0,B.m)(oe?.getReader)}},4482:(Ye,be,k)=>{k.d(be,{A:()=>B,e:()=>P});var u=k(576);function B(ne){return(0,u.m)(ne?.lift)}function P(ne){return oe=>{if(B(oe))return oe.lift(function(se){try{return ne(se,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ye,be,k)=>{function u(){}k.d(be,{Z:()=>u})},9635:(Ye,be,k)=>{k.d(be,{U:()=>P,z:()=>B});var u=k(4671);function B(...ne){return P(ne)}function P(ne){return 0===ne.length?u.y:1===ne.length?ne[0]:function(se){return ne.reduce((he,ue)=>ue(he),se)}}},7849:(Ye,be,k)=>{k.d(be,{h:()=>P});var u=k(2416),B=k(3410);function P(ne){B.z.setTimeout(()=>{const{onUnhandledError:oe}=u.v;if(!oe)throw ne;oe(ne)})}},4532:(Ye,be,k)=>{function u(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(be,{z:()=>u})},655:(Ye,be,k)=>{function ne(Z,q){var le={};for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&q.indexOf(re)<0&&(le[re]=Z[re]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(re=Object.getOwnPropertySymbols(Z);Pe<re.length;Pe++)q.indexOf(re[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Z,re[Pe])&&(le[re[Pe]]=Z[re[Pe]])}return le}function ue(Z,q,le,re){return new(le||(le=Promise))(function(Oe,Je){function Bt(wt){try{st(re.next(wt))}catch(ot){Je(ot)}}function $t(wt){try{st(re.throw(wt))}catch(ot){Je(ot)}}function st(wt){wt.done?Oe(wt.value):function Pe(Oe){return Oe instanceof le?Oe:new le(function(Je){Je(Oe)})}(wt.value).then(Bt,$t)}st((re=re.apply(Z,q||[])).next())})}function de(Z){return this instanceof de?(this.v=Z,this):new de(Z)}function ve(Z,q,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,re=le.apply(Z,q||[]),Oe=[];return Pe={},Je("next"),Je("throw"),Je("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Je(xt){re[xt]&&(Pe[xt]=function(Nn){return new Promise(function(Ct,et){Oe.push([xt,Nn,Ct,et])>1||Bt(xt,Nn)})})}function Bt(xt,Nn){try{!function $t(xt){xt.value instanceof de?Promise.resolve(xt.value.v).then(st,wt):ot(Oe[0][2],xt)}(re[xt](Nn))}catch(Ct){ot(Oe[0][3],Ct)}}function st(xt){Bt("next",xt)}function wt(xt){Bt("throw",xt)}function ot(xt,Nn){xt(Nn),Oe.shift(),Oe.length&&Bt(Oe[0][0],Oe[0][1])}}function Te(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,q=Z[Symbol.asyncIterator];return q?q.call(Z):(Z=function K(Z){var q="function"==typeof Symbol&&Symbol.iterator,le=q&&Z[q],re=0;if(le)return le.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&re>=Z.length&&(Z=void 0),{value:Z&&Z[re++],done:!Z}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),le={},re("next"),re("throw"),re("return"),le[Symbol.asyncIterator]=function(){return this},le);function re(Oe){le[Oe]=Z[Oe]&&function(Je){return new Promise(function(Bt,$t){!function Pe(Oe,Je,Bt,$t){Promise.resolve($t).then(function(st){Oe({value:st,done:Bt})},Je)}(Bt,$t,(Je=Z[Oe](Je)).done,Je.value)})}}}k.d(be,{FC:()=>ve,KL:()=>Te,_T:()=>ne,mG:()=>ue,qq:()=>de})},4650:(Ye,be,k)=>{k.d(be,{$8M:()=>xu,$WT:()=>wn,$Z:()=>Rg,AFp:()=>d0,AaK:()=>ue,AsE:()=>$d,CHM:()=>gl,CRH:()=>BC,CZH:()=>dp,CqO:()=>gc,D6c:()=>Hw,EJc:()=>f0,EpF:()=>lm,F4k:()=>Cf,FYo:()=>Fy,FiY:()=>it,GfV:()=>Eg,Gpc:()=>G,JOm:()=>qi,KtG:()=>Au,LFG:()=>xe,LSH:()=>di,Lbi:()=>bw,Lck:()=>qb,MAs:()=>pc,MGl:()=>Ni,MMx:()=>jm,MR2:()=>bd,NdJ:()=>um,O4$:()=>_o,OlP:()=>Gt,Oqu:()=>mm,P3R:()=>Ed,PXZ:()=>y_,Q6J:()=>yf,QGY:()=>Gs,Qsj:()=>IE,R0b:()=>so,RDi:()=>nE,Rgc:()=>Nc,SBq:()=>nc,Sil:()=>g0,Suo:()=>VC,TTD:()=>fo,TgZ:()=>gr,X6Q:()=>S0,XFs:()=>je,Xpm:()=>ko,Xts:()=>Vl,Y36:()=>sc,YKP:()=>EC,YNc:()=>_f,Yjl:()=>Lo,Yz7:()=>et,Z0I:()=>sn,ZZ4:()=>Rp,_Bn:()=>Mc,_UZ:()=>Ld,_Vd:()=>Wa,_c5:()=>N_,_uU:()=>$v,aQg:()=>Pp,c2e:()=>hp,cJS:()=>ii,cg1:()=>bm,dDg:()=>Aw,dqk:()=>dt,eFA:()=>I0,ekj:()=>au,eoX:()=>E0,f3M:()=>He,g9A:()=>Lc,h0i:()=>el,hGG:()=>ID,hij:()=>Xr,iGM:()=>rl,ifc:()=>pe,ip1:()=>c0,jDz:()=>No,kL8:()=>Kv,kcU:()=>Fn,lG2:()=>ta,lqb:()=>Bl,lri:()=>ah,n5z:()=>Oa,oAB:()=>Fo,oxw:()=>qa,q4F:()=>Ly,qLn:()=>Id,qOj:()=>Yg,qZA:()=>vf,rWj:()=>gp,s9C:()=>wf,sBO:()=>I_,sIi:()=>Xi,s_b:()=>sp,soG:()=>fp,tb:()=>h0,tp0:()=>ks,uIk:()=>kd,vHH:()=>de,vpe:()=>ei,wAp:()=>ct,xp6:()=>qy,z2F:()=>vp,zSh:()=>gg,zs3:()=>rc});var u=k(7579),B=k(727),P=k(9751),ne=k(6451),oe=k(3099);function se(r){for(let i in r)if(r[i]===se)return i;throw Error("Could not find renamed property on target object.")}function he(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function ue(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ue).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ce(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const $=se({__forward_ref__:se});function G(r){return r.__forward_ref__=G,r.toString=function(){return ue(this())},r}function K(r){return Ne(r)?r():r}function Ne(r){return"function"==typeof r&&r.hasOwnProperty($)&&r.__forward_ref__===G}function Ie(r){return r&&!!r.\u0275providers}const ze="https://g.co/ng/security#xss";class de extends Error{constructor(i,s){super(function ve(r,i){return`NG0${Math.abs(r)}${i?": "+i.trim():""}`}(i,s)),this.code=i}}function ye(r){return"string"==typeof r?r:null==r?"":String(r)}function Fe(r,i){throw new de(-201,!1)}function wt(r,i){null==r&&function ot(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function et(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ii(r){return{providers:r.providers||[],imports:r.imports||[]}}function _n(r){return oi(r,vr)||oi(r,Wt)}function sn(r){return null!==_n(r)}function oi(r,i){return r.hasOwnProperty(i)?r[i]:null}function yn(r){return r&&(r.hasOwnProperty(Sr)||r.hasOwnProperty(Bn))?r[Sr]:null}const vr=se({\u0275prov:se}),Sr=se({\u0275inj:se}),Wt=se({ngInjectableDef:se}),Bn=se({ngInjectorDef:se});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let zn;function Sn(r){const i=zn;return zn=r,i}function vn(r,i,s){const l=_n(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&je.Optional?null:void 0!==i?i:void Fe(ue(r))}const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dn={},Cn="__NG_DI_FLAG__",Hn="ngTempTokenPath",Mr=/\n/gm,Rr="__source";let It;function lr(r){const i=It;return It=r,i}function En(r,i=je.Default){if(void 0===It)throw new de(-203,!1);return null===It?vn(r,void 0,i):It.get(r,i&je.Optional?null:void 0,i)}function xe(r,i=je.Default){return(function Zn(){return zn}()||En)(K(r),i)}function He(r,i=je.Default){return xe(r,rt(i))}function rt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function ut(r){const i=[];for(let s=0;s<r.length;s++){const l=K(r[s]);if(Array.isArray(l)){if(0===l.length)throw new de(900,!1);let c,h=je.Default;for(let m=0;m<l.length;m++){const v=l[m],E=bn(v);"number"==typeof E?-1===E?c=v.token:h|=E:c=v}i.push(xe(c,h))}else i.push(xe(l))}return i}function Pt(r,i){return r[Cn]=i,r.prototype[Cn]=i,r}function bn(r){return r[Cn]}function O(r){return{toString:r}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),pe=(()=>{return(r=pe||(pe={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",pe;var r})();const Be={},Ue=[],at=se({\u0275cmp:se}),At=se({\u0275dir:se}),_t=se({\u0275pipe:se}),an=se({\u0275mod:se}),lt=se({\u0275fac:se}),$n=se({__NG_ELEMENT_ID__:se});let sl=0;function ko(r){return O(()=>{const s=!0===r.standalone,l={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||Ue,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||pe.Emulated,id:"c"+sl++,styles:r.styles||Ue,_:null,setInput:null,schemas:r.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=r.dependencies,m=r.features;return c.inputs=ul(r.inputs,l),c.outputs=ul(r.outputs),m&&m.forEach(v=>v(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(ll).filter(jn):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(qn).filter(jn):null,c})}function ll(r){return Vt(r)||en(r)}function jn(r){return null!==r}function Fo(r){return O(()=>({type:r.type,bootstrap:r.bootstrap||Ue,declarations:r.declarations||Ue,imports:r.imports||Ue,exports:r.exports||Ue,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function ul(r,i){if(null==r)return Be;const s={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}const ta=ko;function Lo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Vt(r){return r[at]||null}function en(r){return r[At]||null}function qn(r){return r[_t]||null}function wn(r){const i=Vt(r)||en(r)||qn(r);return null!==i&&i.standalone}function Xn(r,i){const s=r[an]||null;if(!s&&!0===i)throw new Error(`Type ${ue(r)} does not have '\u0275mod' property.`);return s}function Er(r){return Array.isArray(r)&&"object"==typeof r[1]}function br(r){return Array.isArray(r)&&!0===r[1]}function _i(r){return 0!=(4&r.flags)}function gs(r){return r.componentOffset>-1}function hl(r){return 1==(1&r.flags)}function Gn(r){return null!==r.template}function ph(r){return 0!=(256&r[2])}function co(r,i){return r.hasOwnProperty(lt)?r[lt]:null}class ho{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function fo(){return po}function po(r){return r.type.prototype.ngOnChanges&&(r.setInput=ms),da}function da(){const r=ha(this),i=r?.current;if(i){const s=r.previous;if(s===Be)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function ms(r,i,s,l){const c=this.declaredInputs[s],h=ha(r)||function _s(r,i){return r[go]=i}(r,{previous:Be,current:null}),m=h.current||(h.current={}),v=h.previous,E=v[c];m[c]=new ho(E&&E.currentValue,i,v===Be),r[l]=i}fo.ngInherit=!0;const go="__ngSimpleChanges__";function ha(r){return r[go]||null}function hn(r){for(;Array.isArray(r);)r=r[0];return r}function Bi(r,i){return hn(i[r])}function cr(r,i){return hn(i[r.index])}function ga(r,i){return r.data[i]}function Rn(r,i){const s=i[r];return Er(s)?s:s[0]}function Es(r){return 64==(64&r[2])}function ai(r,i){return null==i?null:r[i]}function bs(r){r[18]=0}function ws(r,i){r[5]+=i;let s=r,l=r[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const mt={lFrame:Fp(null),bindingsEnabled:!0};function Ca(){return mt.bindingsEnabled}function De(){return mt.lFrame.lView}function Lt(){return mt.lFrame.tView}function gl(r){return mt.lFrame.contextLView=r,r[8]}function Au(r){return mt.lFrame.contextLView=null,r}function Kn(){let r=Ho();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ho(){return mt.lFrame.currentTNode}function Nr(r,i){const s=mt.lFrame;s.currentTNode=r,s.isParent=i}function ba(){return mt.lFrame.isParent}function vi(){return mt.lFrame.bindingIndex++}function xr(r){const i=mt.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function vl(r,i){const s=mt.lFrame;s.bindingIndex=s.bindingRootIndex=r,Mu(i)}function Mu(r){mt.lFrame.currentDirectiveIndex=r}function Ru(){return mt.lFrame.currentQueryIndex}function Cl(r){mt.lFrame.currentQueryIndex=r}function Pu(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function qc(r,i,s){if(s&je.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||s&je.Host||(c=Pu(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=mt.lFrame=Kc();return l.currentTNode=i,l.lView=r,!0}function wa(r){const i=Kc(),s=r[1];mt.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Kc(){const r=mt.lFrame,i=null===r?null:r.child;return null===i?Fp(r):i}function Fp(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function vh(){const r=mt.lFrame;return mt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ia=vh;function Ch(){const r=vh();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function wr(){return mt.lFrame.selectedIndex}function Ds(r){mt.lFrame.selectedIndex=r}function Kt(){const r=mt.lFrame;return ga(r.tView,r.selectedIndex)}function _o(){mt.lFrame.currentNamespace="svg"}function Fn(){!function Eh(){mt.lFrame.currentNamespace=null}()}function yo(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:M}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-s,m),v&&((r.contentHooks||(r.contentHooks=[])).push(s,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-s,E),D&&((r.viewHooks||(r.viewHooks=[])).push(s,D),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,D)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(s,M)}}function Hi(r,i,s){Ou(r,i,3,s)}function Wo(r,i,s,l){(3&r[2])===s&&Ou(r,i,s,l)}function $i(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function Ou(r,i,s,l){const h=l??-1,m=i.length-1;let v=0;for(let E=void 0!==l?65535&r[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=l&&v>=l)break}else i[E]<0&&(r[18]+=65536),(v<h||-1==h)&&(vo(r,s,i,E),r[18]=(4294901760&r[18])+E+2),E++}function vo(r,i,s,l){const c=s[l]<0,h=s[l+1],v=r[c?-s[l]:s[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class Eo{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Ci(r,i,s){let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const h=s[l++],m=s[l++],v=s[l++];r.setAttribute(i,m,v,h)}else{const h=c,m=s[++l];fn(h)?r.setProperty(i,h,m):r.setAttribute(i,h,m),l++}}return l}function Go(r){return 3===r||4===r||6===r}function fn(r){return 64===r.charCodeAt(0)}function ji(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||Ss(r,s,c,null,-1===s||2===s?i[++l]:null)}}return r}function Ss(r,i,s,l,c){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===s){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,s),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function Sa(r){return-1!==r}function zo(r){return 32767&r}function Zo(r,i){let s=function Xc(r){return r>>16}(r),l=i;for(;s>0;)l=l[15],s--;return l}let bo=!0;function qo(r){const i=bo;return bo=r,i}let Ms=0;const kr={};function Io(r,i){const s=Ma(r,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Ko(l.data,r),Ko(i,null),Ko(l.blueprint,null));const c=Do(r,i),h=r.injectorIndex;if(Sa(c)){const m=zo(c),v=Zo(c,i),E=v[1].data;for(let D=0;D<8;D++)i[h+D]=v[m+D]|E[m+D]}return i[h+8]=c,h}function Ko(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Ma(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Do(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){if(l=rd(c),null===l)return-1;if(s++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Rs(r,i,s){!function wl(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty($n)&&(l=s[$n]),null==l&&(l=s[$n]=Ms++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,s)}function ed(r,i,s){if(s&je.Optional||void 0!==r)return r;Fe()}function Nu(r,i,s,l){if(s&je.Optional&&void 0===l&&(l=null),!(s&(je.Self|je.Host))){const c=r[9],h=Sn(void 0);try{return c?c.get(i,l,s&je.Optional):vn(i,l,s&je.Optional)}finally{Sn(h)}}return ed(l,0,s)}function Pa(r,i,s,l=je.Default,c){if(null!==r){if(1024&i[2]){const m=function nd(r,i,s,l,c){let h=r,m=i;for(;null!==h&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=Il(h,m,s,l|je.Self,kr);if(v!==kr)return v;let E=h.parent;if(!E){const D=m[21];if(D){const M=D.get(s,kr,l);if(M!==kr)return M}E=rd(m),m=m[15]}h=E}return c}(r,i,s,l,kr);if(m!==kr)return m}const h=Il(r,i,s,l,kr);if(h!==kr)return h}return Nu(i,s,l,c)}function Il(r,i,s,l,c){const h=function Ps(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty($n)?r[$n]:void 0;return"number"==typeof i?i>=0?255&i:ui:i}(s);if("function"==typeof h){if(!qc(i,r,l))return l&je.Host?ed(c,0,l):Nu(i,s,l,c);try{const m=h(l);if(null!=m||l&je.Optional)return m;Fe()}finally{Ia()}}else if("number"==typeof h){let m=null,v=Ma(r,i),E=-1,D=l&je.Host?i[16][6]:null;for((-1===v||l&je.SkipSelf)&&(E=-1===v?Do(r,i):i[v+8],-1!==E&&Ns(l,!1)?(m=i[1],v=zo(E),i=Zo(E,i)):v=-1);-1!==v;){const M=i[1];if(Os(h,v,M.data)){const L=td(v,i,s,m,l,D);if(L!==kr)return L}E=i[v+8],-1!==E&&Ns(l,i[1].data[v+8]===D)&&Os(h,v,i)?(m=M,v=zo(E),i=Zo(E,i)):v=-1}}return c}function td(r,i,s,l,c,h){const m=i[1],v=m.data[r+8],M=Fr(v,m,s,null==l?gs(v)&&bo:l!=m&&0!=(3&v.type),c&je.Host&&h===v);return null!==M?Wi(i,m,M,v):kr}function Fr(r,i,s,l,c){const h=r.providerIndexes,m=i.data,v=1048575&h,E=r.directiveStart,M=h>>20,z=c?v+M:r.directiveEnd;for(let te=l?v:v+M;te<z;te++){const me=m[te];if(te<E&&s===me||te>=E&&me.type===s)return te}if(c){const te=m[E];if(te&&Gn(te)&&te.type===s)return E}return null}function Wi(r,i,s,l){let c=r[s];const h=i.data;if(function Yc(r){return r instanceof Eo}(c)){const m=c;m.resolving&&function Me(r,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new de(-200,`Circular dependency in DI detected for ${r}${s}`)}(function Te(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ye(r)}(h[s]));const v=qo(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Sn(m.injectImpl):null;qc(r,l,je.Default);try{c=r[s]=m.factory(void 0,h,r,l),i.firstCreatePass&&s>=l.directiveStart&&function bh(r,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const m=po(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,h))}(s,h[s],i)}finally{null!==E&&Sn(E),qo(v),m.resolving=!1,Ia()}}return c}function Os(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function Ns(r,i){return!(r&je.Self||r&je.Host&&i)}class bi{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return Pa(this._tNode,this._lView,i,rt(l),s)}}function ui(){return new bi(Kn(),De())}function Oa(r){return O(()=>{const i=r.prototype.constructor,s=i[lt]||Na(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[lt]||Na(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Na(r){return Ne(r)?()=>{const i=Na(K(r));return i&&i()}:co(r)}function rd(r){const i=r[1],s=i.type;return 2===s?i.declTNode:1===s?r[6]:null}function xu(r){return function Ra(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(Go(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(Kn(),r)}const Yo="__parameters__";function Qo(r,i,s){return O(()=>{const l=function id(r){return function(...s){if(r){const l=r(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const m=new c(...h);return v.annotation=m,v;function v(E,D,M){const L=E.hasOwnProperty(Yo)?E[Yo]:Object.defineProperty(E,Yo,{value:[]})[Yo];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(m),E}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Gt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=et({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function es(r,i){r.forEach(s=>Array.isArray(s)?es(s,i):i(s))}function Dl(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function xs(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Un(r,i,s){let l=Lr(r,i);return l>=0?r[1|l]=s:(l=~l,function Uu(r,i,s,l){let c=r.length;if(c==i)r.push(s,l);else if(1===c)r.push(l,r[0]),r[0]=s;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function qe(r,i){const s=Lr(r,i);if(s>=0)return r[1|s]}function Lr(r,i){return function Fa(r,i,s){let l=0,c=r.length>>s;for(;c!==l;){const h=l+(c-l>>1),m=r[h<<s];if(i===m)return h<<s;m>i?c=h:l=h+1}return~(c<<s)}(r,i,1)}const it=Pt(Qo("Optional"),8),ks=Pt(Qo("SkipSelf"),4);var qi=(()=>((qi=qi||{})[qi.Important=1]="Important",qi[qi.DashCase=2]="DashCase",qi))();const ju=new Map;let Nh=0;const dd="__ngContext__";function fr(r,i){Er(i)?(r[dd]=i[20],function kh(r){ju.set(r[20],r)}(i)):r[dd]=i}function Fh(r,i){return undefined(r,i)}function f(r){const i=r[3];return br(i)?i[3]:i}function T(r){return X(r[13])}function x(r){return X(r[4])}function X(r){for(;null!==r&&!br(r);)r=r[4];return r}function Ee(r,i,s,l,c){if(null!=l){let h,m=!1;br(l)?h=l:Er(l)&&(m=!0,l=l[0]);const v=hn(l);0===r&&null!==s?null==c?Ku(i,s,v):Vs(i,s,v,c||null,!0):1===r&&null!==s?Vs(i,s,v,c||null,!0):2===r?function Gp(r,i,s){const l=pd(r,i);l&&function Qu(r,i,s,l){r.removeChild(i,s,l)}(r,l,i,s)}(i,v,m):3===r&&i.destroyNode(v),null!=h&&function zp(r,i,s,l,c){const h=s[7];h!==hn(s)&&Ee(i,r,l,h,c);for(let v=10;v<s.length;v++){const E=s[v];Xu(E[1],E,r,i,l,h)}}(i,r,h,s,c)}}function Jt(r,i,s){return r.createElement(i,s)}function Nl(r,i){const s=r[9],l=s.indexOf(i),c=i[3];512&i[2]&&(i[2]&=-513,ws(c,-1)),s.splice(l,1)}function is(r,i){if(r.length<=10)return;const s=10+i,l=r[s];if(l){const c=l[17];null!==c&&c!==r&&Nl(c,l),i>0&&(r[s-1][4]=l[4]);const h=xs(r,10+i);!function Yr(r,i){Xu(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const m=h[19];null!==m&&m.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function fd(r,i){if(!(128&i[2])){const s=i[11];s.destroyNode&&Xu(r,i,s,3,null,null),function Lh(r){let i=r[13];if(!i)return Yi(r[1],r);for(;i;){let s=null;if(Er(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==r;)Er(i)&&Yi(i[1],i),i=i[3];null===i&&(i=r),Er(i)&&Yi(i[1],i),s=i&&i[4]}i=s}}(i)}}function Yi(r,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Wp(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Eo)){const h=s[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=c[h[m]],E=h[m+1];try{E.call(v)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function xl(r,i){const s=r.cleanup,l=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+3];m>=0?l[c=m]():l[c=-m].unsubscribe(),h+=2}else{const m=l[c=s[h+1]];s[h].call(m)}if(null!==l){for(let h=c+1;h<l.length;h++)(0,l[h])();i[7]=null}}(r,i),1===i[1].type&&i[11].destroy();const s=i[17];if(null!==s&&br(i[3])){s!==i[3]&&Nl(s,i);const l=i[19];null!==l&&l.detachView(r)}!function Ki(r){ju.delete(r[20])}(i)}}function Vh(r,i,s){return function qu(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=r.data[l.directiveStart+c];if(h===pe.None||h===pe.Emulated)return null}return cr(l,s)}}(r,i.parent,s)}function Vs(r,i,s,l,c){r.insertBefore(i,s,l,c)}function Ku(r,i,s){r.appendChild(i,s)}function Yu(r,i,s,l,c){null!==l?Vs(r,i,s,l,c):Ku(r,i,s)}function pd(r,i){return r.parentNode(i)}let Yp,Wh,py=function fy(r,i,s){return 40&r.type?cr(r,s):null};function Ju(r,i,s,l){const c=Vh(r,l,i),h=i[11],v=function kl(r,i,s){return py(r,i,s)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(s))for(let E=0;E<s.length;E++)Yu(h,c,s[E],v,!1);else Yu(h,c,s,v,!1)}function ja(r,i){if(null!==i){const s=i.type;if(3&s)return cr(i,r);if(4&s)return gd(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return ja(r,l);{const c=r[i.index];return br(c)?gd(-1,c):hn(c)}}if(32&s)return Fh(i,r)()||hn(r[i.index]);{const l=my(r,i);return null!==l?Array.isArray(l)?l[0]:ja(f(r[16]),l):ja(r,i.next)}}return null}function my(r,i){return null!==i?r[16][6].projection[i.projection]:null}function gd(r,i){const s=10+r+1;if(s<i.length){const l=i[s],c=l[1].firstChild;if(null!==c)return ja(l,c)}return i[7]}function Hh(r,i,s,l,c,h,m){for(;null!=s;){const v=l[s.index],E=s.type;if(m&&0===i&&(v&&fr(hn(v),l),s.flags|=2),32!=(32&s.flags))if(8&E)Hh(r,i,s.child,l,c,h,!1),Ee(i,r,c,v,h);else if(32&E){const D=Fh(s,l);let M;for(;M=D();)Ee(i,r,c,M,h);Ee(i,r,c,v,h)}else 16&E?Ro(r,i,l,s,c,h):Ee(i,r,c,v,h);s=m?s.projectionNext:s.next}}function Xu(r,i,s,l,c,h){Hh(s,l,r.firstChild,i,c,h,!1)}function Ro(r,i,s,l,c,h){const m=s[16],E=m[6].projection[l.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)Ee(i,r,c,E[D],h);else Hh(r,i,E,m[3],c,h,!0)}function Zp(r,i,s){""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s)}function qp(r,i,s){const{mergedAttrs:l,classes:c,styles:h}=s;null!==l&&Ci(r,i,l),null!==c&&Zp(r,i,c),null!==h&&function $h(r,i,s){r.setAttribute(i,"style",s)}(r,i,h)}function nE(r){Yp=r}function vy(r){return function Gh(){if(void 0===Wh&&(Wh=null,dt.trustedTypes))try{Wh=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Wh}()?.createScriptURL(r)||r}class iE{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ze})`}}function Ai(r){return r instanceof iE?r.changingThisBreaksApplicationSecurity:r}function ec(r,i){const s=function Ey(r){return r instanceof iE&&r.getTypeName()||null}(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${ze})`)}return s===i}const rg=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function di(r){const i=os();return i?i.sanitize(Qn.URL,r)||"":ec(r,"URL")?Ai(r):function ig(r){return(r=String(r)).match(rg)?r:"unsafe:"+r}(ye(r))}function dg(r){const i=os();if(i)return vy(i.sanitize(Qn.RESOURCE_URL,r)||"");if(ec(r,"ResourceURL"))return vy(Ai(r));throw new de(904,!1)}function Ed(r,i,s){return function Ay(r,i){return"src"===i&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===i&&("base"===r||"link"===r)?dg:di}(i,s)(r)}function os(){const r=De();return r&&r[12]}const Vl=new Gt("ENVIRONMENT_INITIALIZER"),Sy=new Gt("INJECTOR",-1),My=new Gt("INJECTOR_DEF_TYPES");class tc{get(i,s=dn){if(s===dn){const l=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw l.name="NullInjectorError",l}return s}}function bd(r){return{\u0275providers:r}}function mE(...r){return{\u0275providers:Ry(0,r),\u0275fromNgModule:!0}}function Ry(r,...i){const s=[],l=new Set;let c;return es(i,h=>{const m=h;hg(m,s,[],l)&&(c||(c=[]),c.push(m))}),void 0!==c&&Py(c,s),s}function Py(r,i){for(let s=0;s<r.length;s++){const{providers:c}=r[s];fg(c,h=>{i.push(h)})}}function hg(r,i,s,l){if(!(r=K(r)))return!1;let c=null,h=yn(r);const m=!h&&Vt(r);if(h||m){if(m&&!m.standalone)return!1;c=r}else{const E=r.ngModule;if(h=yn(E),!h)return!1;c=E}const v=l.has(c);if(m){if(v)return!1;if(l.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const D of E)hg(D,i,s,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let D;l.add(c);try{es(h.imports,M=>{hg(M,i,s,l)&&(D||(D=[]),D.push(M))})}finally{}void 0!==D&&Py(D,i)}if(!v){const D=co(c)||(()=>new c);i.push({provide:c,useFactory:D,deps:Ue},{provide:My,useValue:c,multi:!0},{provide:Vl,useValue:()=>xe(c),multi:!0})}const E=h.providers;null==E||v||fg(E,M=>{i.push(M)})}}return c!==r&&void 0!==r.providers}function fg(r,i){for(let s of r)Ie(s)&&(s=s.\u0275providers),Array.isArray(s)?fg(s,i):i(s)}const MI=se({provide:String,useValue:se});function pg(r){return null!==r&&"object"==typeof r&&MI in r}function Qi(r){return"function"==typeof r}const gg=new Gt("Set Injector scope."),qh={},yE={};let mg;function Kh(){return void 0===mg&&(mg=new tc),mg}class Bl{}class Oy extends Bl{get destroyed(){return this._destroyed}constructor(i,s,l,c){super(),this.parent=s,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vg(i,m=>this.processProvider(m)),this.records.set(Sy,Hl(void 0,this)),c.has("environment")&&this.records.set(Bl,Hl(void 0,this));const h=this.records.get(gg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(My.multi,Ue,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=lr(this),l=Sn(void 0);try{return i()}finally{lr(s),Sn(l)}}get(i,s=dn,l=je.Default){this.assertNotDestroyed(),l=rt(l);const c=lr(this),h=Sn(void 0);try{if(!(l&je.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function CE(r){return"function"==typeof r||"object"==typeof r&&r instanceof Gt}(i)&&_n(i);v=E&&this.injectableDefInScope(E)?Hl(_g(i),qh):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(l&je.Self?Kh():this.parent).get(i,s=l&je.Optional&&s===dn?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Hn]=m[Hn]||[]).unshift(ue(i)),c)throw m;return function j(r,i,s,l){const c=r[Hn];throw i[Rr]&&c.unshift(i[Rr]),r.message=function H(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let c=ue(i);if(Array.isArray(i))c=i.map(ue).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${r.replace(Mr,"\n  ")}`}("\n"+r.message,c,s,l),r.ngTokenPath=c,r[Hn]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Sn(h),lr(c)}}resolveInjectorInitializers(){const i=lr(this),s=Sn(void 0);try{const l=this.get(Vl.multi,Ue,je.Self);for(const c of l)c()}finally{lr(i),Sn(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(ue(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(i){let s=Qi(i=K(i))?i:K(i&&i.provide);const l=function vE(r){return pg(r)?Hl(void 0,r.useValue):Hl(Yh(r),qh)}(i);if(Qi(i)||!0!==i.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Hl(void 0,qh,!0),c.factory=()=>ut(c.multi),this.records.set(s,c)),s=i,c.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===qh&&(s.value=yE,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qh(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=K(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function _g(r){const i=_n(r),s=null!==i?i.factory:co(r);if(null!==s)return s;if(r instanceof Gt)throw new de(204,!1);if(r instanceof Function)return function Ny(r){const i=r.length;if(i>0)throw function zi(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}(i,"?"),new de(204,!1);const s=function fi(r){const i=r&&(r[vr]||r[Wt]);if(i){const s=function Gr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new de(204,!1)}function Yh(r,i,s){let l;if(Qi(r)){const c=K(r);return co(c)||_g(c)}if(pg(r))l=()=>K(r.useValue);else if(function wd(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...ut(r.deps||[]));else if(function Zh(r){return!(!r||!r.useExisting)}(r))l=()=>xe(K(r.useExisting));else{const c=K(r&&(r.useClass||r.provide));if(!function yg(r){return!!r.deps}(r))return co(c)||_g(c);l=()=>new c(...ut(r.deps))}return l}function Hl(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function vg(r,i){for(const s of r)Array.isArray(s)?vg(s,i):s&&Ie(s)?vg(s.\u0275providers,i):i(s)}class EE{}class xy{}class Xh{resolveComponentFactory(i){throw function Jh(r){const i=Error(`No component factory found for ${ue(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Wa=(()=>{class r{}return r.NULL=new Xh,r})();function ky(){return ss(Kn(),De())}function ss(r,i){return new nc(cr(r,i))}let nc=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=ky,r})();function wE(r){return r instanceof nc?r.nativeElement:r}class Fy{}let IE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function DE(){const r=De(),s=Rn(Kn().index,r);return(Er(s)?s:r)[11]}(),r})(),TE=(()=>{class r{}return r.\u0275prov=et({token:r,providedIn:"root",factory:()=>null}),r})();class Eg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ly=new Eg("15.1.0"),bg={};function Ig(r){return r.ngOriginalError}class Id{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Ig(i);for(;s&&Ig(s);)s=Ig(s);return s||null}}function Hs(r){return r instanceof Function?r():r}function ef(r,i,s){let l=r.length;for(;;){const c=r.indexOf(i,s);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}s=c+1}}const jy="ng-template";function Wy(r,i,s){let l=0;for(;l<r.length;){let c=r[l++];if(s&&"class"===c){if(c=r[l],-1!==ef(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function jl(r){return 4===r.type&&r.value!==jy}function Dg(r,i,s){return i===(4!==r.type||s?r.value:jy)}function NE(r,i,s){let l=4;const c=r.attrs||[],h=function zy(r){for(let i=0;i<r.length;i++)if(Go(r[i]))return i;return r.length}(c);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!Dg(r,E,s)||""===E&&1===i.length){if(Ji(l))return!1;m=!0}}else{const D=8&l?E:i[++v];if(8&l&&null!==r.attrs){if(!Wy(r.attrs,D,s)){if(Ji(l))return!1;m=!0}continue}const L=tf(8&l?"class":E,c,jl(r),s);if(-1===L){if(Ji(l))return!1;m=!0;continue}if(""!==D){let z;z=L>h?"":c[L+1].toLowerCase();const te=8&l?z:null;if(te&&-1!==ef(te,D,0)||2&l&&D!==z){if(Ji(l))return!1;m=!0}}}}else{if(!m&&!Ji(l)&&!Ji(E))return!1;if(m&&Ji(E))continue;m=!1,l=E|1&l}}return Ji(l)||m}function Ji(r){return 0==(1&r)}function tf(r,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++c];for(;"string"==typeof v;)v=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function xE(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function Dd(r,i,s=!1){for(let l=0;l<i.length;l++)if(NE(r,i[l],s))return!0;return!1}function Zy(r,i){return r?":not("+i.trim()+")":i}function FE(r){let i=r[0],s=1,l=2,c="",h=!1;for(;s<r.length;){let m=r[s];if("string"==typeof m)if(2&l){const v=r[++s];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!Ji(m)&&(i+=Zy(h,c),c=""),l=m,h=h||!Ji(l);s++}return""!==c&&(i+=Zy(h,c)),i}const Tt={};function qy(r){Tg(Lt(),De(),wr()+r,!1)}function Tg(r,i,s,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Hi(i,h,s)}else{const h=r.preOrderHooks;null!==h&&Wo(i,h,0,s)}Ds(s)}function Ag(r,i=null,s=null,l){const c=HE(r,i,s,l);return c.resolveInjectorInitializers(),c}function HE(r,i=null,s=null,l,c=new Set){const h=[s||Ue,mE(r)];return l=l||("object"==typeof r?void 0:ue(r)),new Oy(h,i||Kh(),l||null,c)}let rc=(()=>{class r{static create(s,l){if(Array.isArray(s))return Ag({name:""},l,s,"");{const c=s.name??"";return Ag({name:c},s.parent,s.providers,c)}}}return r.THROW_IF_NOT_FOUND=dn,r.NULL=new tc,r.\u0275prov=et({token:r,providedIn:"any",factory:()=>xe(Sy)}),r.__NG_ELEMENT_ID__=-1,r})();function sc(r,i=je.Default){const s=De();return null===s?xe(r,i):Pa(Kn(),s,K(r),i)}function Rg(){throw new Error("invalid")}function KE(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l+1];if(-1!==h){const m=r.data[h];Cl(s[l]),m.contentQueries(2,i[h],h)}}}function Md(r,i,s,l,c,h,m,v,E,D,M){const L=i.blueprint.slice();return L[0]=c,L[2]=76|l,(null!==M||r&&1024&r[2])&&(L[2]|=1024),bs(L),L[3]=L[15]=r,L[8]=s,L[10]=m||r&&r[10],L[11]=v||r&&r[11],L[12]=E||r&&r[12]||null,L[9]=D||r&&r[9]||null,L[6]=h,L[20]=function xh(){return Nh++}(),L[21]=M,L[16]=2==i.type?r[16]:L,L}function ac(r,i,s,l,c){let h=r.data[i];if(null===h)h=function Og(r,i,s,l,c){const h=Ho(),m=ba(),E=r.data[i]=function sv(r,i,s,l,c,h){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,i,l,c);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(r,i,s,l,c),function yh(){return mt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const m=function Ea(){const r=mt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Nr(h,!0),h}function Rd(r,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Ng(r,i,s){wa(i);try{const l=r.viewQuery;null!==l&&$g(1,l,s);const c=r.template;null!==c&&Pn(r,i,c,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&KE(r,i),r.staticViewQueries&&$g(2,r.viewQuery,s);const h=r.components;null!==h&&function Pg(r,i){for(let s=0;s<i.length;s++)fv(r,i[s])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Ch()}}function uf(r,i,s,l){const c=i[2];if(128!=(128&c)){wa(i);try{bs(i),function _l(r){return mt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Pn(r,i,s,2,l);const m=3==(3&c);if(m){const D=r.preOrderCheckHooks;null!==D&&Hi(i,D,null)}else{const D=r.preOrderHooks;null!==D&&Wo(i,D,0,null),$i(i,0)}if(function Bg(r){for(let i=T(r);null!==i;i=x(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const c=s[l];512&c[2]||ws(c[3],1),c[2]|=512}}}(i),function Nd(r){for(let i=T(r);null!==i;i=x(i))for(let s=10;s<i.length;s++){const l=i[s],c=l[1];Es(l)&&uf(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&KE(r,i),m){const D=r.contentCheckHooks;null!==D&&Hi(i,D)}else{const D=r.contentHooks;null!==D&&Wo(i,D,1),$i(i,1)}!function qE(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)Ds(~c);else{const h=c,m=s[++l],v=s[++l];vl(m,h),v(2,i[h])}}}finally{Ds(-1)}}(r,i);const v=r.components;null!==v&&function YE(r,i){for(let s=0;s<i.length;s++)hv(r,i[s])}(i,v);const E=r.viewQuery;if(null!==E&&$g(2,E,l),m){const D=r.viewCheckHooks;null!==D&&Hi(i,D)}else{const D=r.viewHooks;null!==D&&Wo(i,D,2),$i(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,ws(i[3],-1))}finally{Ch()}}}function Pn(r,i,s,l,c){const h=wr(),m=2&l;try{Ds(-1),m&&i.length>22&&Tg(r,i,22,!1),s(l,c)}finally{Ds(h)}}function Ri(r,i,s){if(_i(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}function ov(r,i,s){Ca()&&(function zl(r,i,s,l){const c=s.directiveStart,h=s.directiveEnd;gs(s)&&function df(r,i,s){const l=cr(i,r),c=Ga(s),h=r[10],m=hf(r,Md(r,c,null,s.onPush?32:16,l,i,h,h.createRenderer(l,s),null,null,null));r[i.index]=m}(i,s,r.data[c+s.componentOffset]),r.firstCreatePass||Io(s,i),fr(l,i);const m=s.initialInputs;for(let v=c;v<h;v++){const E=r.data[v],D=Wi(i,r,v,s);fr(D,i),null!==m&&Ws(0,v-c,D,E,0,m),Gn(E)&&(Rn(s.index,i)[8]=Wi(i,r,v,s))}}(r,i,s,cr(s,i)),64==(64&s.flags)&&Ug(r,i,s))}function xg(r,i,s=cr){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?s(i,r):r[m];r[c++]=v}}}function Ga(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=$s(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function $s(r,i,s,l,c,h,m,v,E,D){const M=22+l,L=M+c,z=function js(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:Tt);return s}(M,L),te="function"==typeof D?D():D;return z[1]={type:r,blueprint:z,template:s,queries:null,viewQuery:v,declTNode:i,data:z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:te,incompleteFirstPass:!1}}function Pd(r,i,s,l){const c=Kl(i);null===s?c.push(l):(c.push(s),r.firstCreatePass&&pv(r).push(l,c.length-1))}function kg(r,i,s,l){for(let c in r)if(r.hasOwnProperty(c)){s=null===s?{}:s;const h=r[c];null===l?cf(s,i,c,h):l.hasOwnProperty(c)&&cf(s,i,l[c],h)}return s}function cf(r,i,s,l){r.hasOwnProperty(s)?r[s].push(i,l):r[s]=[i,l]}function Pi(r,i,s,l,c,h,m,v){const E=cr(i,s);let M,D=i.inputs;!v&&null!=D&&(M=D[l])?(jg(r,s,M,l,c),gs(i)&&Fg(s,i.index)):3&i.type&&(l=function QE(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=m?m(c,i.value||"",l):c,h.setProperty(E,l,c))}function Fg(r,i){const s=Rn(i,r);16&s[2]||(s[2]|=32)}function za(r,i,s,l){let c=!1;if(Ca()){const h=null===l?null:{"":-1},m=function pr(r,i){const s=r.directiveRegistry;let l=null,c=null;if(s)for(let h=0;h<s.length;h++){const m=s[h];if(Dd(i,m.selectors,!1))if(l||(l=[]),Gn(m))if(null!==m.findHostDirectiveDefs){const v=[];c=c||new Map,m.findHostDirectiveDefs(m,v,c),l.unshift(...v,m),Zl(r,i,v.length)}else l.unshift(m),Zl(r,i,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,l,c),l.push(m)}return null===l?null:[l,c]}(r,s);let v,E;null===m?v=E=null:[v,E]=m,null!==v&&(c=!0,Lg(r,i,s,v,h,E)),h&&function Vg(r,i,s){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new de(-301,!1);l.push(i[c],h)}}}(s,l,h)}return s.mergedAttrs=ji(s.mergedAttrs,s.attrs),c}function Lg(r,i,s,l,c,h){for(let D=0;D<l.length;D++)Rs(Io(s,i),r,l[D].type);!function Hr(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}(s,r.data.length,l.length);for(let D=0;D<l.length;D++){const M=l[D];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,E=Rd(r,i,l.length,null);for(let D=0;D<l.length;D++){const M=l[D];s.mergedAttrs=ji(s.mergedAttrs,M.hostAttrs),JE(r,s,i,E,M),as(E,M,c),null!==M.contentQueries&&(s.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=64);const L=M.type.prototype;!m&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),m=!0),!v&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),v=!0),E++}!function av(r,i,s){const c=i.directiveEnd,h=r.data,m=i.attrs,v=[];let E=null,D=null;for(let M=i.directiveStart;M<c;M++){const L=h[M],z=s?s.get(L):null,me=z?z.outputs:null;E=kg(L.inputs,M,E,z?z.inputs:null),D=kg(L.outputs,M,D,me);const ke=null===E||null===m||jl(i)?null:ql(E,M,m);v.push(ke)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=8),E.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=E,i.outputs=D}(r,s,h)}function Ug(r,i,s){const l=s.directiveStart,c=s.directiveEnd,h=s.index,m=function Is(){return mt.lFrame.currentDirectiveIndex}();try{Ds(h);for(let v=l;v<c;v++){const E=r.data[v],D=i[v];Mu(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&cv(E,D)}}finally{Ds(-1),Mu(m)}}function cv(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Zl(r,i,s){i.componentOffset=s,(r.components||(r.components=[])).push(i.index)}function as(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;Gn(i)&&(s[""]=r)}}function JE(r,i,s,l,c){r.data[l]=c;const h=c.factory||(c.factory=co(c.type)),m=new Eo(h,Gn(c),sc);r.blueprint[l]=m,s[l]=m,function uv(r,i,s,l,c){const h=c.hostBindings;if(h){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~i.index;(function Od(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(m)!=v&&m.push(v),m.push(s,l,h)}}(r,i,l,Rd(r,s,c.hostVars,Tt),c)}function ls(r,i,s,l,c,h){const m=cr(r,i);!function us(r,i,s,l,c,h,m){if(null==h)r.removeAttribute(i,c,s);else{const v=null==m?ye(h):m(h,l||"",c);r.setAttribute(i,c,v,s)}}(i[11],m,h,r.value,s,l,c)}function Ws(r,i,s,l,c,h){const m=h[i];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const D=m[E++],M=m[E++],L=m[E++];null!==v?l.setInput(s,L,D,M):s[M]=L}}}function ql(r,i,s){let l=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===l&&(l=[]);const m=r[h];for(let v=0;v<m.length;v+=2)if(m[v]===i){l.push(h,m[v+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function dv(r,i,s,l){return[r,!0,!1,i,null,0,l,s,null,null]}function hv(r,i){const s=Rn(i,r);if(Es(s)){const l=s[1];48&s[2]?uf(l,s,l.template,s[8]):s[5]>0&&Jn(s)}}function Jn(r){for(let l=T(r);null!==l;l=x(l))for(let c=10;c<l.length;c++){const h=l[c];if(Es(h))if(512&h[2]){const m=h[1];uf(m,h,m.template,h[8])}else h[5]>0&&Jn(h)}const s=r[1].components;if(null!==s)for(let l=0;l<s.length;l++){const c=Rn(s[l],r);Es(c)&&c[5]>0&&Jn(c)}}function fv(r,i){const s=Rn(i,r),l=s[1];(function XE(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(l,s),Ng(l,s,s[8])}function hf(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Hg(r){for(;r;){r[2]|=32;const i=f(r);if(ph(r)&&!i)return r;r=i}return null}function ff(r,i,s,l=!0){const c=i[10];c.begin&&c.begin();try{uf(r,i,r.template,s)}catch(m){throw l&&gv(i,m),m}finally{c.end&&c.end()}}function $g(r,i,s){Cl(0),i(r,s)}function Kl(r){return r[7]||(r[7]=[])}function pv(r){return r.cleanup||(r.cleanup=[])}function gv(r,i){const s=r[9],l=s?s.get(Id,null):null;l&&l.handleError(i)}function jg(r,i,s,l,c){for(let h=0;h<s.length;){const m=s[h++],v=s[h++],E=i[m],D=r.data[m];null!==D.setInput?D.setInput(E,c,l,v):E[v]=c}}function Oi(r,i,s){const l=Bi(i,r);!function nt(r,i,s){r.setValue(i,s)}(r[11],l,s)}function Yl(r,i,s){let l=s?r.styles:null,c=s?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?c=ce(c,v):2==h&&(l=ce(l,v+": "+i[++m]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=c:r.classesWithoutHost=c}function xd(r,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(hn(h)),br(h))for(let v=10;v<h.length;v++){const E=h[v],D=E[1].firstChild;null!==D&&xd(E[1],E,D,l)}const m=s.type;if(8&m)xd(r,i,s.child,l);else if(32&m){const v=Fh(s,i);let E;for(;E=v();)l.push(E)}else if(16&m){const v=my(i,s);if(Array.isArray(v))l.push(...v);else{const E=f(i[16]);xd(E[1],E,v,l,!0)}}s=c?s.projectionNext:s.next}return l}class uc{get rootNodes(){const i=this._lView,s=i[1];return xd(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(br(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(is(i,l),xs(s,l))}this._attachedToViewContainer=!1}fd(this._lView[1],this._lView)}onDestroy(i){Pd(this._lView[1],this._lView,null,i)}markForCheck(){Hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ff(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zu(r,i){Xu(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=i}}class mv extends uc{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ff(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Wg extends Wa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Vt(i);return new Ql(s,this.ngModule)}}function Gg(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}class yv{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){l=rt(l);const c=this.injector.get(i,bg,l);return c!==bg||s===bg?c:this.parentInjector.get(i,s,l)}}class Ql extends xy{get inputs(){return Gg(this.componentDef.inputs)}get outputs(){return Gg(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function LE(r){return r.map(FE).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,l,c){let h=(c=c||this.ngModule)instanceof Bl?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new yv(i,h):i,v=m.get(Fy,null);if(null===v)throw new de(407,!1);const E=m.get(TE,null),D=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=l?function F(r,i,s){return r.selectRootElement(i,s===pe.ShadowDom)}(D,l,this.componentDef.encapsulation):Jt(D,M,function _v(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),z=this.componentDef.onPush?288:272,te=$s(0,null,null,1,0,null,null,null,null,null),me=Md(null,te,null,z,null,null,v,D,E,m,null);let ke,Ve;wa(me);try{const Ze=this.componentDef;let pt,Re=null;Ze.findHostDirectiveDefs?(pt=[],Re=new Map,Ze.findHostDirectiveDefs(Ze,pt,Re),pt.push(Ze)):pt=[Ze];const bt=function zg(r,i){const s=r[1];return r[22]=i,ac(s,22,2,"#host",null)}(me,L),mn=function nb(r,i,s,l,c,h,m,v){const E=c[1];!function Cv(r,i,s,l){for(const c of r)i.mergedAttrs=ji(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Yl(i,i.mergedAttrs,!0),null!==s&&qp(l,s,i))}(l,r,i,m);const D=h.createRenderer(i,s),M=Md(c,Ga(s),null,s.onPush?32:16,c[r.index],r,h,D,v||null,null,null);return E.firstCreatePass&&Zl(E,r,l.length-1),hf(c,M),c[r.index]=M}(bt,L,Ze,pt,me,v,D);Ve=ga(te,22),L&&function Zg(r,i,s,l){if(l)Ci(r,s,["ng-version",Ly.full]);else{const{attrs:c,classes:h}=function nf(r){const i=[],s=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&s.push(h);else{if(!Ji(c))break;c=h}l++}return{attrs:i,classes:s}}(i.selectors[0]);c&&Ci(r,s,c),h&&h.length>0&&Zp(r,s,h.join(" "))}}(D,Ze,L,l),void 0!==s&&function qg(r,i,s){const l=r.projection=[];for(let c=0;c<i.length;c++){const h=s[c];l.push(null!=h?Array.from(h):null)}}(Ve,this.ngContentSelectors,s),ke=function rb(r,i,s,l,c,h){const m=Kn(),v=c[1],E=cr(m,c);Lg(v,c,m,s,null,l);for(let M=0;M<s.length;M++)fr(Wi(c,v,m.directiveStart+M,m),c);Ug(v,c,m),E&&fr(E,c);const D=Wi(c,v,m.directiveStart+m.componentOffset,m);if(r[8]=c[8]=D,null!==h)for(const M of h)M(D,i);return Ri(v,m,r),D}(mn,Ze,pt,Re,me,[Kg]),Ng(te,me,null)}finally{Ch()}return new vv(this.componentType,ke,ss(Ve,me),me,Ve)}}class vv extends EE{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new mv(c),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[i])){const h=this._rootLView;jg(h[1],h,c,i,s),Fg(h,this._tNode.index)}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Kg(){const r=Kn();yo(De()[1],r)}function Yg(r){let i=function Ev(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let c;if(Gn(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new de(903,!1);c=i.\u0275dir}if(c){if(s){l.push(c);const m=r;m.inputs=Qg(r.inputs),m.declaredInputs=Qg(r.declaredInputs),m.outputs=Qg(r.outputs);const v=c.hostBindings;v&&wv(r,v);const E=c.viewQuery,D=c.contentQueries;if(E&&ib(r,E),D&&ob(r,D),he(r.inputs,c.inputs),he(r.declaredInputs,c.declaredInputs),he(r.outputs,c.outputs),Gn(c)&&c.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===Yg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function bv(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=ji(c.hostAttrs,s=ji(s,c.hostAttrs))}}(l)}function Qg(r){return r===Be?{}:r===Ue?[]:r}function ib(r,i){const s=r.viewQuery;r.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function ob(r,i){const s=r.contentQueries;r.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function wv(r,i){const s=r.hostBindings;r.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}let pf=null;function Jl(){if(!pf){const r=dt.Symbol;if(r&&r.iterator)pf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(pf=l)}}}return pf}function Xi(r){return!!em(r)&&(Array.isArray(r)||!(r instanceof Map)&&Jl()in r)}function em(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function $r(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function kd(r,i,s,l){const c=De();return $r(c,vi(),i)&&(Lt(),ls(Kt(),c,r,i,s,l)),kd}function dc(r,i,s,l){return $r(r,vi(),s)?i+ye(s)+l:Tt}function tu(r,i,s,l,c,h){const v=function Xl(r,i,s,l){const c=$r(r,i,s);return $r(r,i+1,l)||c}(r,function li(){return mt.lFrame.bindingIndex}(),s,c);return xr(2),v?i+ye(s)+l+ye(c)+h:Tt}function _f(r,i,s,l,c,h,m,v){const E=De(),D=Lt(),M=r+22,L=D.firstCreatePass?function rn(r,i,s,l,c,h,m,v,E){const D=i.consts,M=ac(i,r,4,m||null,ai(D,v));za(i,s,M,ai(D,E)),yo(i,M);const L=M.tViews=$s(2,M,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,D);return null!==i.queries&&(i.queries.template(i,M),L.queries=i.queries.embeddedTView(M)),M}(M,D,E,i,s,l,c,h,m):D.data[M];Nr(L,!1);const z=E[11].createComment("");Ju(D,E,z,L),fr(z,E),hf(E,E[M]=dv(z,E,z,L)),hl(L)&&ov(D,E,L),null!=m&&xg(E,L,v)}function pc(r){return function si(r,i){return r[i]}(function ml(){return mt.lFrame.contextLView}(),22+r)}function yf(r,i,s){const l=De();return $r(l,vi(),i)&&Pi(Lt(),Kt(),l,r,i,l[11],s,!1),yf}function un(r,i,s,l,c){const m=c?"class":"style";jg(r,s,i.inputs[m],m,l)}function gr(r,i,s,l){const c=De(),h=Lt(),m=22+r,v=c[11],E=c[m]=Jt(v,i,function Ir(){return mt.lFrame.currentNamespace}()),D=h.firstCreatePass?function kt(r,i,s,l,c,h,m){const v=i.consts,D=ac(i,r,2,c,ai(v,h));return za(i,s,D,ai(v,m)),null!==D.attrs&&Yl(D,D.attrs,!1),null!==D.mergedAttrs&&Yl(D,D.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,D),D}(m,h,c,0,i,s,l):h.data[m];return Nr(D,!0),qp(v,E,D),32!=(32&D.flags)&&Ju(h,c,E,D),0===function va(){return mt.lFrame.elementDepthCount}()&&fr(E,c),function pl(){mt.lFrame.elementDepthCount++}(),hl(D)&&(ov(h,c,D),Ri(h,D,c)),null!==l&&xg(c,D),gr}function vf(){let r=Kn();ba()?function $o(){mt.lFrame.isParent=!1}():(r=r.parent,Nr(r,!1));const i=r;!function Du(){mt.lFrame.elementDepthCount--}();const s=Lt();return s.firstCreatePass&&(yo(s,r),_i(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Qc(r){return 0!=(8&r.flags)}(i)&&un(s,i,De(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Aa(r){return 0!=(16&r.flags)}(i)&&un(s,i,De(),i.stylesWithoutHost,!1),vf}function Ld(r,i,s,l){return gr(r,i,s,l),vf(),Ld}function lm(){return De()}function Gs(r){return!!r&&"function"==typeof r.then}function Cf(r){return!!r&&"function"==typeof r.subscribe}const gc=Cf;function um(r,i,s,l){const c=De(),h=Lt(),m=Kn();return function Mv(r,i,s,l,c,h,m){const v=hl(l),D=r.firstCreatePass&&pv(r),M=i[8],L=Kl(i);let z=!0;if(3&l.type||m){const ke=cr(l,i),Ve=m?m(ke):ke,Ze=L.length,pt=m?bt=>m(hn(bt[l.index])):l.index;let Re=null;if(!m&&v&&(Re=function hb(r,i,s,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===s&&c[h+1]===l){const v=i[7],E=c[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,i,c,l.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=h,Re.__ngLastListenerFn__=h,z=!1;else{h=dm(l,i,M,h,!1);const bt=s.listen(Ve,c,h);L.push(h,bt),D&&D.push(c,pt,Ze,Ze+1)}}else h=dm(l,i,M,h,!1);const te=l.outputs;let me;if(z&&null!==te&&(me=te[c])){const ke=me.length;if(ke)for(let Ve=0;Ve<ke;Ve+=2){const mn=i[me[Ve]][me[Ve+1]].subscribe(h),Vn=L.length;L.push(h,mn),D&&D.push(c,l.index,Vn,-(Vn+1))}}}(h,c,c[11],m,r,i,l),um}function Rv(r,i,s,l){try{return!1!==s(l)}catch(c){return gv(r,c),!1}}function dm(r,i,s,l,c){return function h(m){if(m===Function)return l;Hg(r.componentOffset>-1?Rn(r.index,i):i);let E=Rv(i,0,l,m),D=h.__ngNextListenerFn__;for(;D;)E=Rv(i,0,D,m)&&E,D=D.__ngNextListenerFn__;return c&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function qa(r=1){return function Lp(r){return(mt.lFrame.contextLView=function El(r,i){for(;r>0;)i=i[15],r--;return i}(r,mt.lFrame.contextLView))[8]}(r)}function wf(r,i,s){return Ni(r,"",i,"",s),wf}function Ni(r,i,s,l,c){const h=De(),m=dc(h,i,s,l);return m!==Tt&&Pi(Lt(),Kt(),h,r,m,h[11],c,!1),Ni}function Vd(r,i){return r<<17|i<<2}function zs(r){return r>>17&32767}function Tf(r){return 2|r}function Ka(r){return(131068&r)>>2}function hm(r,i){return-131069&r|i<<2}function fm(r){return 1|r}function Sf(r,i,s,l,c){const h=r[s+1],m=null===i;let v=l?zs(h):Ka(h),E=!1;for(;0!==v&&(!1===E||m);){const M=r[v+1];_c(r[v],i)&&(E=!0,r[v+1]=l?fm(M):Tf(M)),v=l?zs(M):Ka(M)}E&&(r[s+1]=l?Tf(h):fm(h))}function _c(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Lr(r,i)>=0}function au(r,i){return function Po(r,i,s,l){const c=De(),h=Lt(),m=xr(2);h.firstUpdatePass&&function Of(r,i,s,l){const c=r.data;if(null===c[s+1]){const h=c[wr()],m=function Fv(r,i){return i>=r.expandoStartIndex}(r,s);(function Hv(r,i){return 0!=(r.flags&(i?8:16))})(h,l)&&null===i&&!m&&(i=!1),i=function yb(r,i,s,l){const c=function mo(r){const i=mt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Hd(s=bc(null,r,i,s,l),i.attrs,l),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(s=bc(c,r,i,s,l),null===h){let E=function Nf(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Ka(l))return r[zs(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=bc(null,r,i,E[1],l),E=Hd(E,i.attrs,l),function Lv(r,i,s,l){r[zs(s?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else h=function Uv(r,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=Hd(l,r[h].hostAttrs,s);return Hd(l,i.attrs,s)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function pb(r,i,s,l,c,h){let m=h?i.classBindings:i.styleBindings,v=zs(m),E=Ka(m);r[l]=s;let M,D=!1;if(Array.isArray(s)?(M=s[1],(null===M||Lr(s,M)>0)&&(D=!0)):M=s,c)if(0!==E){const z=zs(r[v+1]);r[l+1]=Vd(z,v),0!==z&&(r[z+1]=hm(r[z+1],l)),r[v+1]=function mc(r,i){return 131071&r|i<<17}(r[v+1],l)}else r[l+1]=Vd(v,0),0!==v&&(r[v+1]=hm(r[v+1],l)),v=l;else r[l+1]=Vd(E,0),0===v?v=l:r[E+1]=hm(r[E+1],l),E=l;D&&(r[l+1]=Tf(r[l+1])),Sf(r,M,l,!0),Sf(r,M,l,!1),function Af(r,i,s,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Lr(h,i)>=0&&(s[l+1]=fm(s[l+1]))}(i,M,r,l,h),m=Vd(v,E),h?i.classBindings=m:i.styleBindings=m}(c,h,i,s,m,l)}}(h,r,m,l),i!==Tt&&$r(c,m,i)&&function kf(r,i,s,l,c,h,m,v){if(!(3&i.type))return;const E=r.data,D=E[v+1],M=function fb(r){return 1==(1&r)}(D)?Vv(E,i,s,c,Ka(D),m):void 0;Ff(M)||(Ff(h)||function xv(r){return 2==(2&r)}(D)&&(h=Vv(E,null,s,c,v,m)),function Fl(r,i,s,l,c){if(i)c?r.addClass(s,l):r.removeClass(s,l);else{let h=-1===l.indexOf("-")?void 0:qi.DashCase;null==c?r.removeStyle(s,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=qi.Important),r.setStyle(s,l,c,h))}}(l,m,Bi(wr(),s),c,h))}(h,h.data[wr()],c,c[11],r,c[m+1]=function Bv(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=ue(Ai(r)))),r}(i,s),l,m)}(r,i,null,!0),au}function bc(r,i,s,l,c){let h=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(h=i[v],l=Hd(l,h.hostAttrs,c),h!==r);)v++;return null!==r&&(s.directiveStylingLast=v),l}function Hd(r,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Un(r,m,!!s||i[++h]))}return void 0===r?null:r}function Vv(r,i,s,l,c,h){const m=null===i;let v;for(;c>0;){const E=r[c],D=Array.isArray(E),M=D?E[1]:E,L=null===M;let z=s[c+1];z===Tt&&(z=L?Ue:void 0);let te=L?qe(z,l):M===l?z:void 0;if(D&&!Ff(te)&&(te=qe(E,l)),Ff(te)&&(v=te,m))return v;const me=r[c+1];c=m?zs(me):Ka(me)}if(null!==i){let E=h?i.residualClasses:i.residualStyles;null!=E&&(v=qe(E,l))}return v}function Ff(r){return void 0!==r}function $v(r,i=""){const s=De(),l=Lt(),c=r+22,h=l.firstCreatePass?ac(l,c,1,i,null):l.data[c],m=s[c]=function $e(r,i){return r.createText(i)}(s[11],i);Ju(l,s,m,h),Nr(h,!1)}function mm(r){return Xr("",r,""),mm}function Xr(r,i,s){const l=De(),c=dc(l,r,i,s);return c!==Tt&&Oi(l,wr(),c),Xr}function $d(r,i,s,l,c){const h=De(),m=tu(h,r,i,s,l,c);return m!==Tt&&Oi(h,wr(),m),$d}const hu=void 0;var Db=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ib(r){const s=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let fu={};function bm(r){const i=function $f(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=Yv(i);if(s)return s;const l=i.split("-")[0];if(s=Yv(l),s)return s;if("en"===l)return Db;throw new de(701,!1)}function Kv(r){return bm(r)[ct.PluralCase]}function Yv(r){return r in fu||(fu[r]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[r]),fu[r]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const Ks="en-US";let Jv=Ks;function Sc(r,i,s,l,c){if(r=K(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sc(r[h],i,s,l,c);else{const h=Lt(),m=De();let v=Qi(r)?r:K(r.provide),E=Yh(r);const D=Kn(),M=1048575&D.providerIndexes,L=D.directiveStart,z=D.providerIndexes>>20;if(Qi(r)||!r.multi){const te=new Eo(E,c,sc),me=Qf(v,i,c?M:M+z,L);-1===me?(Rs(Io(D,m),h,v),Qs(h,r,i.length),i.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(te),m.push(te)):(s[me]=te,m[me]=te)}else{const te=Qf(v,i,M+z,L),me=Qf(v,i,M,M+z),Ve=me>=0&&s[me];if(c&&!Ve||!c&&!(te>=0&&s[te])){Rs(Io(D,m),h,v);const Ze=function Zb(r,i,s,l,c){const h=new Eo(r,s,sc);return h.multi=[],h.index=i,h.componentProviders=0,Yf(h,c,l&&!s),h}(c?Jf:zb,s.length,c,l,E);!c&&Ve&&(s[me].providerFactory=Ze),Qs(h,r,i.length,0),i.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(Ze),m.push(Ze)}else Qs(h,r,te>-1?te:me,Yf(s[c?me:te],E,!c&&l));!c&&l&&Ve&&s[me].componentProviders++}}}function Qs(r,i,s,l){const c=Qi(i),h=function _E(r){return!!r.useClass}(i);if(c||h){const E=(h?K(i.useClass):i).prototype.ngOnDestroy;if(E){const D=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const M=D.indexOf(s);-1===M?D.push(s,[l,E]):D[M+1].push(l,E)}else D.push(s,E)}}}function Yf(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Qf(r,i,s,l){for(let c=s;c<l;c++)if(i[c]===r)return c;return-1}function zb(r,i,s,l){return Xf(this.multi,[])}function Jf(r,i,s,l){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Wi(s,s[1],this.providerFactory.index,l);h=v.slice(0,m),Xf(c,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],Xf(c,h);return h}function Xf(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function Mc(r,i=[]){return s=>{s.providersResolver=(l,c)=>function $m(r,i,s){const l=Lt();if(l.firstCreatePass){const c=Gn(r);Sc(s,l.data,l.blueprint,c,!0),Sc(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class el{}class EC{}function qb(r,i){return new ep(r,i??null)}class ep extends el{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wg(this);const l=Xn(i);this._bootstrapComponents=Hs(l.bootstrap),this._r3Injector=HE(i,s,[{provide:el,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],ue(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Rc extends EC{constructor(i){super(),this.moduleType=i}create(i){return new ep(this.moduleType,i)}}class bC extends el{constructor(i,s,l){super(),this.componentFactoryResolver=new Wg(this),this.instance=null;const c=new Oy([...i,{provide:el,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],s||Kh(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function jm(r,i,s=null){return new bC(r,i,s).injector}let th=(()=>{class r{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=Ry(0,s.type),c=l.length>0?jm([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=et({token:r,providedIn:"environment",factory:()=>new r(xe(Bl))}),r})();function No(r){r.getStandaloneInjector=i=>i.get(th).getOrCreateStandaloneInjector(r)}function Km(r){return i=>{setTimeout(r,void 0,i)}}const ei=class rp extends u.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let c=i,h=s||(()=>null),m=l;if(i&&"object"==typeof i){const E=i;c=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=Km(h),c&&(c=Km(c)),m&&(m=Km(m)));const v=super.subscribe({next:c,error:h,complete:m});return i instanceof B.w0&&i.add(v),v}};function ow(){return this._results[Jl()]()}class ip{get changes(){return this._changes||(this._changes=new ei)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Jl(),l=ip.prototype;l[s]||(l[s]=ow)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=function dr(r){return r.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ao(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nc=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ym,r})();const LC=Nc,op=class extends LC{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i,s){const l=this._declarationTContainer.tViews,c=Md(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(l)),Ng(l,c,i),new uc(c)}};function Ym(){return xc(Kn(),De())}function xc(r,i){return 4&r.type?new op(i,r,ss(r,i)):null}let sp=(()=>{class r{}return r.__NG_ELEMENT_ID__=sw,r})();function sw(){return e_(Kn(),De())}const Qm=sp,UC=class extends Qm{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return ss(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const i=Do(this._hostTNode,this._hostLView);if(Sa(i)){const s=Zo(i,this._hostLView),l=zo(i);return new bi(s[1].data[l+8],s)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Jm(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const m=i.createEmbeddedView(s||{},h);return this.insert(m,c),m}createComponent(i,s,l,c,h){const m=i&&!function ka(r){return"function"==typeof r}(i);let v;if(m)v=s;else{const L=s||{};v=L.index,l=L.injector,c=L.projectableNodes,h=L.environmentInjector||L.ngModuleRef}const E=m?i:new Ql(Vt(i)),D=l||this.parentInjector;if(!h&&null==E.ngModule){const z=(m?D:this.parentInjector).get(Bl,null);z&&(h=z)}const M=E.create(D,c,void 0,h);return this.insert(M.hostView,v),M}insert(i,s){const l=i._lView,c=l[1];if(function _a(r){return br(r[3])}(l)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const L=l[3],z=new UC(L,L[6],L[3]);z.detach(z.indexOf(i))}}const h=this._adjustIndex(s),m=this._lContainer;!function hd(r,i,s,l){const c=10+l,h=s.length;l>0&&(s[c-1][4]=i),l<h-10?(i[4]=s[c],Dl(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const m=i[17];null!==m&&s!==m&&function Uh(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(r),i[2]|=64}(c,l,m,h);const v=gd(h,m),E=l[11],D=pd(E,m[7]);return null!==D&&function rs(r,i,s,l,c,h){l[0]=c,l[6]=i,Xu(r,l,s,1,c,h)}(c,m[6],E,l,D,v),i.attachToViewContainerRef(),Dl(Xm(m),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Jm(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=is(this._lContainer,s);l&&(xs(Xm(this._lContainer),s),fd(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=is(this._lContainer,s);return l&&null!=xs(Xm(this._lContainer),s)?new uc(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function Jm(r){return r[8]}function Xm(r){return r[8]||(r[8]=[])}function e_(r,i){let s;const l=i[r.index];if(br(l))s=l;else{let c;if(8&r.type)c=hn(l);else{const h=i[11];c=h.createComment("");const m=cr(r,i);Vs(h,pd(h,m),c,function hy(r,i){return r.nextSibling(i)}(h,m),!1)}i[r.index]=s=dv(l,i,c,r),hf(i,s)}return new UC(s,r,i)}class ap{constructor(i){this.queryList=i,this.matches=null}clone(){return new ap(this.queryList)}setDirty(){this.queryList.setDirty()}}class ih{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const m=s.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new ih(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==jC(i,s).matches&&this.queries[s].setDirty()}}class t_{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class jr{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new jr(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class kc{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new kc(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,nl(s,h)),this.matchTNodeWithReadOption(i,s,Fr(s,i,h,!1,!1))}else l===Nc?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Fr(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===nc||c===sp||c===Nc&&4&s.type)this.addMatch(s.index,-2);else{const h=Fr(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function nl(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function oo(r,i,s,l){return-1===s?function lp(r,i){return 11&r.type?ss(r,i):4&r.type?xc(r,i):null}(i,r):-2===s?function yu(r,i,s){return s===nc?ss(i,r):s===Nc?xc(i,r):s===sp?e_(i,r):void 0}(r,i,l):Wi(r,r[1],s,i)}function n_(r,i,s,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,m=s.matches,v=[];for(let E=0;E<m.length;E+=2){const D=m[E];v.push(D<0?null:oo(i,h[D],m[E+1],s.metadata.read))}c.matches=v}return c.matches}function up(r,i,s,l){const c=r.queries.getByIndex(s),h=c.matches;if(null!==h){const m=n_(r,i,c,s);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const D=h[v+1],M=i[-E];for(let L=10;L<M.length;L++){const z=M[L];z[17]===z[3]&&up(z[1],z,D,l)}if(null!==M[9]){const L=M[9];for(let z=0;z<L.length;z++){const te=L[z];up(te[1],te,D,l)}}}}}return l}function rl(r){const i=De(),s=Lt(),l=Ru();Cl(l+1);const c=jC(s,l);if(r.dirty&&function ma(r){return 4==(4&r[2])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?up(s,i,l,[]):n_(s,i,c,l);r.reset(h,wE),r.notifyOnChanges()}return!0}return!1}function VC(r,i,s,l){const c=Lt();if(c.firstCreatePass){const h=Kn();(function $C(r,i,s){null===r.queries&&(r.queries=new jr),r.queries.track(new kc(i,s))})(c,new t_(i,s,l),h.index),function aw(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(c,r),2==(2&s)&&(c.staticContentQueries=!0)}!function HC(r,i,s){const l=new ip(4==(4&s));Pd(r,i,l,l.destroy),null===i[19]&&(i[19]=new ih),i[19].queries.push(new ap(l))}(c,De(),s)}function BC(){return function r_(r,i){return r[19].queries[i].queryList}(De(),Ru())}function jC(r,i){return r.queries.getByIndex(i)}function sh(...r){}const c0=new Gt("Application Initializer");let dp=(()=>{class r{constructor(s){this.appInits=s,this.resolve=sh,this.reject=sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Gs(h))s.push(h);else if(gc(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});s.push(m)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(xe(c0,8))},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const d0=new Gt("AppId",{providedIn:"root",factory:function Js(){return`${ni()}${ni()}${ni()}`}});function ni(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lc=new Gt("Platform Initializer"),bw=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new Gt("appBootstrapListener");let hp=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const fp=new Gt("LocaleId",{providedIn:"root",factory:()=>He(fp,je.Optional|je.SkipSelf)||function ww(){return typeof $localize<"u"&&$localize.locale||Ks}()}),f0=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Vc{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let g0=(()=>{class r{compileModuleSync(s){return new Rc(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),h=Hs(Xn(s).declarations).reduce((m,v)=>{const E=Vt(v);return E&&m.push(new Ql(E)),m},[]);return new Vc(l,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Dw=(()=>Promise.resolve(0))();function y0(r){typeof Zone>"u"?Dw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class so{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ei(!1),this.onMicrotaskEmpty=new ei(!1),this.onStable=new ei(!1),this.onError=new ei(!1),typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function fD(){let r=dt.requestAnimationFrame,i=dt.cancelAnimationFrame;if(typeof Zone<"u"&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function g_(r){const i=()=>{!function gD(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(dt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,pp(r),r.isCheckStableRunning=!0,v0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),pp(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,m,v)=>{try{return C0(r),s.invokeTask(c,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),_r(r)}},onInvoke:(s,l,c,h,m,v,E)=>{try{return C0(r),s.invoke(c,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),_r(r)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,pp(r),v0(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!so.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(so.isInAngularZone())throw new de(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,pD,sh,sh);try{return h.runTask(m,s,l)}finally{h.cancelTask(m)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const pD={};function v0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function pp(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function C0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function _r(r){r._nesting--,v0(r)}class Tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ei,this.onMicrotaskEmpty=new ei,this.onStable=new ei,this.onError=new ei}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}const ah=new Gt(""),gp=new Gt("");let mp,Aw=(()=>{class r{constructor(s,l,c){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mp||(function Sw(r){mp=r}(c),c.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{so.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,c){return[]}}return r.\u0275fac=function(s){return new(s||r)(xe(so),xe(E0),xe(gp))},r.\u0275prov=et({token:r,factory:r.\u0275fac}),r})(),E0=(()=>{class r{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return mp?.findTestabilityInTree(this,s,l)??null}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),il=null;const b0=new Gt("AllowMultipleToken"),m_=new Gt("PlatformDestroyListeners");class y_{constructor(i,s){this.name=i,this.token=s}}function I0(r,i,s=[]){const l=`Platform: ${i}`,c=new Gt(l);return(h=[])=>{let m=vu();if(!m||m.injector.get(b0,!1)){const v=[...s,...h,{provide:c,useValue:!0}];r?r(v):function _p(r){if(il&&!il.get(b0,!1))throw new de(400,!1);il=r;const i=r.get(C_);(function yp(r){const i=r.get(Lc,null);i&&i.forEach(s=>s())})(r)}(function D0(r=[],i){return rc.create({name:i,providers:[{provide:gg,useValue:"platform"},{provide:m_,useValue:new Set([()=>il=null])},...r]})}(v,l))}return function Mw(r){const i=vu();if(!i)throw new de(401,!1);return i}()}}function vu(){return il?.get(C_)??null}let C_=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const c=function E_(r,i){let s;return s="noop"===r?new Tw:("zone.js"===r?void 0:r)||new so(i),s}(l?.ngZone,function lh(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:so,useValue:c}];return c.run(()=>{const m=rc.create({providers:h,parent:this.injector,name:s.moduleType.name}),v=s.create(m),E=v.injector.get(Id,null);if(!E)throw new de(402,!1);return c.runOutsideAngular(()=>{const D=c.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{Cp(this._modules,v),D.unsubscribe()})}),function T0(r,i,s){try{const l=s();return Gs(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(E,c,()=>{const D=v.injector.get(dp);return D.runInitializers(),D.donePromise.then(()=>(function Im(r){wt(r,"Expected localeId to be defined"),"string"==typeof r&&(Jv=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(fp,Ks)||Ks),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,l=[]){const c=A0({},l);return function ri(r,i,s){const l=new Rc(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(vp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new de(-403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(m_,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(xe(rc))},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function A0(r,i){return Array.isArray(i)?i.reduce(A0,r):{...r,...i}}let vp=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,l,c){this._zone=s,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new P.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{so.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{so.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ne.T)(h,m.pipe((0,oe.B)()))}bootstrap(s,l){const c=s instanceof xy;if(!this._injector.get(dp).done)throw!c&&wn(s),new de(405,false);let m;m=c?s:this._injector.get(Wa).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function w0(r){return r.isBoundToModule}(m)?void 0:this._injector.get(el),D=m.create(rc.NULL,[],l||m.selector,v),M=D.location.nativeElement,L=D.injector.get(ah,null);return L?.registerApplication(M),D.onDestroy(()=>{this.detachView(D.hostView),Cp(this.components,D),L?.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new de(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;Cp(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(h0,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Cp(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new de(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(s){return new(s||r)(xe(so),xe(Bl),xe(Id))},r.\u0275prov=et({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Cp(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}function S0(){return!1}let I_=(()=>{class r{}return r.__NG_ELEMENT_ID__=D_,r})();function D_(r){return function Pw(r,i,s){if(gs(r)&&!s){const l=Rn(r.index,i);return new uc(l,l)}return 47&r.type?new uc(i[16],i):null}(Kn(),De(),16==(16&r))}class N0{constructor(){}supports(i){return Xi(i)}create(i){return new Fw(i)}}const kw=(r,i)=>i;class Fw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const m=!l||s&&s.currentIndex<Mp(l,c,h)?s:l,v=Mp(m,c,h),E=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{h||(h=[]);const D=v-c,M=E-c;if(D!=M){for(let z=0;z<D;z++){const te=z<h.length?h[z]:h[z]=0,me=te+z;M<=me&&me<D&&(h[z]=te+1)}h[m.previousIndex]=M-D}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Xi(i))throw new de(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,h,m,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,v),l=!0),s=s._next}else c=0,function cb(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Jl()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,v=>{m=this._trackByFn(c,v),null!==s&&Object.is(s.trackById,m)?(l&&(s=this._verifyReinsertion(s,v,m,c)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new Sp(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new R_),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Sp{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x0{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class R_{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new x0,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mp(r,i,s){const l=r.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class k0{constructor(){}supports(i){return i instanceof Map||em(i)}create(){return new Lw}}class Lw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||em(i)))throw new de(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const l=new Uw(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class Uw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function P_(){return new Rp([new N0])}let Rp=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||P_()),deps:[[r,new ks,new it]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new de(901,!1)}}return r.\u0275prov=et({token:r,providedIn:"root",factory:P_}),r})();function O_(){return new Pp([new k0])}let Pp=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||O_()),deps:[[r,new ks,new it]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new de(901,!1)}}return r.\u0275prov=et({token:r,providedIn:"root",factory:O_}),r})();const N_=I0(null,"core",[]);let ID=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(xe(vp))},r.\u0275mod=Fo({type:r}),r.\u0275inj=ii({}),r})();function Hw(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(Ye,be,k)=>{k.d(be,{Z:()=>Le});var u=k(2090),B=k(4859),P=k(9681),ne=k(1877);class oe{constructor(de,ve){this._delegate=de,this.firebase=ve,(0,P._addComponent)(de,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(de,ve=P._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(de);return!Te.isInitialized()&&"EXPLICIT"===(null===(ye=Te.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ve})}_removeServiceInstance(de,ve=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(ve)}_addComponent(de){(0,P._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,P._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const ze=function ue(ze){const de={},ve={__esModule:!0,initializeApp:function Me(Q,ae={}){const ge=P.initializeApp(Q,ae);if((0,u.r3)(de,ge.name))return de[ge.name];const Z=new ze(ge,ve);return de[ge.name]=Z,Z},app:Te,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function we(Q){const ae=Q.name,ge=ae.replace("-compat","");if(P._registerComponent(Q)&&"PUBLIC"===Q.type){const Z=(q=Te())=>{if("function"!=typeof q[ge])throw he.create("invalid-app-argument",{appName:ae});return q[ge]()};void 0!==Q.serviceProps&&(0,u.ZB)(Z,Q.serviceProps),ve[ge]=Z,ze.prototype[ge]=function(...q){return this._getService.bind(this,ae).apply(this,Q.multipleInstances?q:[])}}return"PUBLIC"===Q.type?ve[ge]:null},removeApp:function ye(Q){delete de[Q]},useAsService:function Fe(Q,ae){return"serverAuth"===ae?null:ae},modularAPIs:P}};function Te(Q){if(!(0,u.r3)(de,Q=Q||P._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Q});return de[Q]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Ae(){return Object.keys(de).map(Q=>de[Q])}}),Te.App=ze,ve}(oe);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function de(ve){(0,u.ZB)(ze,ve)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ze}(),G=new ne.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=$;!function Ie(ze){(0,P.registerVersion)("@firebase/app-compat","0.2.7",ze)}()},9681:(Ye,be,k)=>{k.r(be),k.d(be,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>xt,_addOrOverwriteComponent:()=>Nn,_apps:()=>wt,_clearComponents:()=>ii,_components:()=>ot,_getProvider:()=>et,_registerComponent:()=>Ct,_removeServiceInstance:()=>sr,deleteApp:()=>Sr,getApp:()=>yn,getApps:()=>vr,initializeApp:()=>Gr,onLog:()=>je,registerVersion:()=>Bn,setLogLevel:()=>zn});var u=k(5861),B=k(4859),P=k(1877),ne=k(2090),oe=k(8766);class se{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function he(xe){return"VERSION"===xe.getComponent()?.type}(He)){const rt=He.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(He=>He).join(" ")}}const ue="@firebase/app",$=new P.Yd("@firebase/app"),$t="[DEFAULT]",st={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,ot=new Map;function xt(xe,_e){try{xe.container.addComponent(_e)}catch(He){$.debug(`Component ${_e.name} failed to register with FirebaseApp ${xe.name}`,He)}}function Nn(xe,_e){xe.container.addOrOverwriteComponent(_e)}function Ct(xe){const _e=xe.name;if(ot.has(_e))return $.debug(`There were multiple attempts to register component ${_e}.`),!1;ot.set(_e,xe);for(const He of wt.values())xt(He,xe);return!0}function et(xe,_e){const He=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),xe.container.getProvider(_e)}function sr(xe,_e,He=$t){et(xe,_e).clearInstance(He)}function ii(){ot.clear()}const sn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class oi{constructor(_e,He,rt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const fi="9.19.1";function Gr(xe,_e={}){let He=xe;"object"!=typeof _e&&(_e={name:_e});const rt=Object.assign({name:$t,automaticDataCollectionEnabled:!1},_e),ut=rt.name;if("string"!=typeof ut||!ut)throw sn.create("bad-app-name",{appName:String(ut)});if(He||(He=(0,ne.aH)()),!He)throw sn.create("no-options");const Pt=wt.get(ut);if(Pt){if((0,ne.vZ)(He,Pt.options)&&(0,ne.vZ)(rt,Pt.config))return Pt;throw sn.create("duplicate-app",{appName:ut})}const bn=new B.H0(ut);for(const H of ot.values())bn.addComponent(H);const j=new oi(He,rt,bn);return wt.set(ut,j),j}function yn(xe=$t){const _e=wt.get(xe);if(!_e&&xe===$t)return Gr();if(!_e)throw sn.create("no-app",{appName:xe});return _e}function vr(){return Array.from(wt.values())}function Sr(xe){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(xe){const _e=xe.name;wt.has(_e)&&(wt.delete(_e),yield Promise.all(xe.container.getProviders().map(He=>He.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function Bn(xe,_e,He){var rt;let ut=null!==(rt=st[xe])&&void 0!==rt?rt:xe;He&&(ut+=`-${He}`);const Pt=ut.match(/\s|\//),bn=_e.match(/\s|\//);if(Pt||bn){const j=[`Unable to register library "${ut}" with version "${_e}":`];return Pt&&j.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),Pt&&bn&&j.push("and"),bn&&j.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void $.warn(j.join(" "))}Ct(new B.wA(`${ut}-version`,()=>({library:ut,version:_e}),"VERSION"))}function je(xe,_e){if(null!==xe&&"function"!=typeof xe)throw sn.create("invalid-log-argument");(0,P.Am)(xe,_e)}function zn(xe){(0,P.Ub)(xe)}const vn="firebase-heartbeat-store";let ar=null;function dt(){return ar||(ar=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(xe,_e)=>{0===_e&&xe.createObjectStore(vn)}}).catch(xe=>{throw sn.create("idb-open",{originalErrorMessage:xe.message})})),ar}function ht(){return(ht=(0,u.Z)(function*(xe){try{return(yield dt()).transaction(vn).objectStore(vn).get(Cn(xe))}catch(_e){if(_e instanceof ne.ZR)$.warn(_e.message);else{const He=sn.create("idb-get",{originalErrorMessage:_e?.message});$.warn(He.message)}}})).apply(this,arguments)}function Zt(xe,_e){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(xe,_e){try{const rt=(yield dt()).transaction(vn,"readwrite");return yield rt.objectStore(vn).put(_e,Cn(xe)),rt.done}catch(He){if(He instanceof ne.ZR)$.warn(He.message);else{const rt=sn.create("idb-set",{originalErrorMessage:He?.message});$.warn(rt.message)}}})).apply(this,arguments)}function Cn(xe){return`${xe.name}!${xe.options.appId}`}class Mr{constructor(_e){this.container=_e,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new It(He),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var _e=this;return(0,u.Z)(function*(){const rt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=vt();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==ut&&!_e._heartbeatsCache.heartbeats.some(Pt=>Pt.date===ut))return _e._heartbeatsCache.heartbeats.push({date:ut,agent:rt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Pt=>{const bn=new Date(Pt.date).valueOf();return Date.now()-bn<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,u.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const He=vt(),{heartbeatsToSend:rt,unsentEntries:ut}=function Rr(xe,_e=1024){const He=[];let rt=xe.slice();for(const ut of xe){const Pt=He.find(bn=>bn.agent===ut.agent);if(Pt){if(Pt.dates.push(ut.date),lr(He)>_e){Pt.dates.pop();break}}else if(He.push({agent:ut.agent,dates:[ut.date]}),lr(He)>_e){He.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:He,unsentEntries:rt}}(_e._heartbeatsCache.heartbeats),Pt=(0,ne.L)(JSON.stringify({version:2,heartbeats:rt}));return _e._heartbeatsCache.lastSentHeartbeatDate=He,ut.length>0?(_e._heartbeatsCache.heartbeats=ut,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Pt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class It{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,u.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function Qe(xe){return ht.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var He=this;return(0,u.Z)(function*(){var rt;if(yield He._canUseIndexedDBPromise){const Pt=yield He.read();return Zt(He.app,{lastSentHeartbeatDate:null!==(rt=_e.lastSentHeartbeatDate)&&void 0!==rt?rt:Pt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var He=this;return(0,u.Z)(function*(){var rt;if(yield He._canUseIndexedDBPromise){const Pt=yield He.read();return Zt(He.app,{lastSentHeartbeatDate:null!==(rt=_e.lastSentHeartbeatDate)&&void 0!==rt?rt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,..._e.heartbeats]})}})()}}function lr(xe){return(0,ne.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function En(xe){Ct(new B.wA("platform-logger",_e=>new se(_e),"PRIVATE")),Ct(new B.wA("heartbeat",_e=>new Mr(_e),"PRIVATE")),Bn(ue,"0.9.7",xe),Bn(ue,"0.9.7","esm2017"),Bn("fire-js","")}("")},4859:(Ye,be,k)=>{k.d(be,{H0:()=>ue,wA:()=>P,zt:()=>oe});var u=k(5861),B=k(2090);class P{constructor($,G,K){this.name=$,this.instanceFactory=G,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ne="[DEFAULT]";class oe{constructor($,G){this.name=$,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const G=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(G)){const K=new B.BH;if(this.instancesDeferred.set(G,K),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:G});Ne&&K.resolve(Ne)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate($){var G;const K=this.normalizeInstanceIdentifier($?.identifier),Ne=null!==(G=$?.optional)&&void 0!==G&&G;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Ne)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function he(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[G,K]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(G);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ne});K.resolve(Ie)}catch{}}}}clearInstance($=ne){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const G=Array.from($.instances.values());yield Promise.all([...G.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...G.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ne){return this.instances.has($)}getOptions($=ne){return this.instancesOptions.get($)||{}}initialize($={}){const{options:G={}}=$,K=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:K,options:G});for(const[Ie,Le]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&Le.resolve(Ne);return Ne}onInit($,G){var K;const Ne=this.normalizeInstanceIdentifier(G),Ie=null!==(K=this.onInitCallbacks.get(Ne))&&void 0!==K?K:new Set;Ie.add($),this.onInitCallbacks.set(Ne,Ie);const Le=this.instances.get(Ne);return Le&&$(Le,Ne),()=>{Ie.delete($)}}invokeOnInitCallbacks($,G){const K=this.onInitCallbacks.get(G);if(K)for(const Ne of K)try{Ne($,G)}catch{}}getOrInitializeService({instanceIdentifier:$,options:G={}}){let K=this.instances.get($);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ne?void 0:ce),options:G}),this.instances.set($,K),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(K,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,K)}catch{}var ce;return K||null}normalizeInstanceIdentifier($=ne){return this.component?this.component.multipleInstances?$:ne:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor($){this.name=$,this.providers=new Map}addComponent($){const G=this.getProvider($.name);if(G.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);G.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const G=new oe($,this);return this.providers.set($,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(Ye,be,k)=>{k.d(be,{Am:()=>ce,Ub:()=>ue,Yd:()=>he,in:()=>B});const u=[];var B=(()=>{return($=B||(B={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",B;var $})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ne=B.INFO,oe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},se=($,G,...K)=>{if(G<$.logLevel)return;const Ne=(new Date).toISOString(),Ie=oe[G];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ie](`[${Ne}]  ${$.name}:`,...K)};class he{constructor(G){this.name=G,this._logLevel=ne,this._logHandler=se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function ue($){u.forEach(G=>{G.setLogLevel($)})}function ce($,G){for(const K of u){let Ne=null;G&&G.level&&(Ne=P[G.level]),K.userLogHandler=null===$?null:(Ie,Le,...ze)=>{const de=ze.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");Le>=(Ne??Ie.logLevel)&&$({level:B[Le].toLowerCase(),message:de,args:ze,type:Ie.name})}}}},259:(Ye,be,k)=>{k.d(be,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=k(9681);(0,u.registerVersion)("firebase","9.19.1","app")},9260:(Ye,be,k)=>{k.d(be,{Z:()=>u.Z});var u=k(3942);u.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(Ye,be,k)=>{k.r(be);var u=k(5861),B=k(3942),P=k(3432),ne=k(2090),he=(k(9681),k(1877),k(4859));function ue(){return window}function G(){return(G=(0,u.Z)(function*(O,N,R){var J;const{BuildInfo:pe}=ue();(0,P.ar)(N.sessionId,"AuthEvent did not contain a session ID");const Be=yield ve(N.sessionId),Ue={};return(0,P.as)()?Ue.ibi=pe.packageName:(0,P.at)()?Ue.apn=pe.packageName:(0,P.au)(O,"operation-not-supported-in-this-environment"),pe.displayName&&(Ue.appDisplayName=pe.displayName),Ue.sessionId=Be,(0,P.av)(O,R,N.type,void 0,null!==(J=N.eventId)&&void 0!==J?J:void 0,Ue)})).apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(O){const{BuildInfo:N}=ue(),R={};(0,P.as)()?R.iosBundleId=N.packageName:(0,P.at)()?R.androidPackageName=N.packageName:(0,P.au)(O,"operation-not-supported-in-this-environment"),yield(0,P.aw)(O,R)})).apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(O,N,R){const{cordova:J}=ue();let pe=()=>{};try{yield new Promise((Be,Ue)=>{let at=null;function At(){var lt;Be();const $n=null===(lt=J.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof $n&&$n(),"function"==typeof R?.close&&R.close()}function _t(){at||(at=window.setTimeout(()=>{Ue((0,P.ay)(O,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&_t()}N.addPassiveListener(At),document.addEventListener("resume",_t,!1),(0,P.at)()&&document.addEventListener("visibilitychange",an,!1),pe=()=>{N.removePassiveListener(At),document.removeEventListener("resume",_t,!1),document.removeEventListener("visibilitychange",an,!1),at&&window.clearTimeout(at)}})}finally{pe()}})).apply(this,arguments)}function ve(O){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*(O){const N=Te(O),R=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(R)).map(pe=>pe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Te(O){if((0,P.ar)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const N=new ArrayBuffer(O.length),R=new Uint8Array(N);for(let J=0;J<O.length;J++)R[J]=O.charCodeAt(J);return R}class Ae extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(N)),super.onEvent(N)}initialized(){var N=this;return(0,u.Z)(function*(){yield N.initPromise})()}}function Q(O){return ae.apply(this,arguments)}function ae(){return(ae=(0,u.Z)(function*(O){const N=yield q()._get(le(O));return N&&(yield q()._remove(le(O))),N})).apply(this,arguments)}function Z(){const O=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<20;R++){const J=Math.floor(Math.random()*N.length);O.push(N.charAt(J))}return O.join("")}function q(){return(0,P.aB)(P.b)}function le(O){return(0,P.aC)("authEvent",O.config.apiKey,O.name)}function Oe(O){if(!O?.includes("?"))return{};const[N,...R]=O.split("?");return(0,ne.zd)(R.join("?"))}const $t=class Bt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(N){var R=this;return(0,u.Z)(function*(){const J=N._key();let pe=R.eventManagers.get(J);return pe||(pe=new Ae(N),R.eventManagers.set(J,pe),R.attachCallbackListeners(N,pe)),pe})()}_openPopup(N){(0,P.au)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,R,J,pe){var Be=this;return(0,u.Z)(function*(){!function de(O){var N,R,J,pe,Be,Ue,at,At,_t,an;const lt=ue();(0,P.az)("function"==typeof(null===(N=lt?.universalLinks)||void 0===N?void 0:N.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(R=lt?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(Be=null===(pe=null===(J=lt?.cordova)||void 0===J?void 0:J.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Be?void 0:Be.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(At=null===(at=null===(Ue=lt?.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===at?void 0:at.browsertab)||void 0===At?void 0:At.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(an=null===(_t=lt?.cordova)||void 0===_t?void 0:_t.InAppBrowser)||void 0===an?void 0:an.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Ue=yield Be._initialize(N);yield Ue.initialized(),Ue.resetRedirect(),(0,P.aF)(),yield Be._originValidation(N);const at=function we(O,N,R=null){return{type:N,eventId:R,urlResponse:null,sessionId:Z(),postBody:null,tenantId:O.tenantId,error:(0,P.ay)(O,"no-auth-event")}}(N,J,pe);yield function Fe(O,N){return q()._set(le(O),N)}(N,at);const At=yield function $(O,N,R){return G.apply(this,arguments)}(N,at,R),_t=yield function Ie(O){const{cordova:N}=ue();return new Promise(R=>{N.plugins.browsertab.isAvailable(J=>{let pe=null;J?N.plugins.browsertab.openUrl(O):pe=N.InAppBrowser.open(O,(0,P.ax)()?"_blank":"_system","location=yes"),R(pe)})})}(At);return function Le(O,N,R){return ze.apply(this,arguments)}(N,Ue,_t)})()}_isIframeWebStorageSupported(N,R){throw new Error("Method not implemented.")}_originValidation(N){const R=N._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function K(O){return Ne.apply(this,arguments)}(N)),this.originValidationPromises[R]}attachCallbackListeners(N,R){const{universalLinks:J,handleOpenURL:pe,BuildInfo:Be}=ue(),Ue=setTimeout((0,u.Z)(function*(){yield Q(N),R.onEvent(st())}),500),at=function(){var an=(0,u.Z)(function*(lt){clearTimeout(Ue);const $n=yield Q(N);let sl=null;$n&&lt?.url&&(sl=function ge(O,N){var R,J;const pe=function Pe(O){const N=Oe(O),R=N.link?decodeURIComponent(N.link):void 0,J=Oe(R).link,pe=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return Oe(pe).link||pe||J||R||O}(N);if(pe.includes("/__/auth/callback")){const Be=Oe(pe),Ue=Be.firebaseError?function re(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent(Be.firebaseError)):null,at=null===(J=null===(R=Ue?.code)||void 0===R?void 0:R.split("auth/"))||void 0===J?void 0:J[1],At=at?(0,P.ay)(at):null;return At?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:pe,postBody:null}}return null}($n,lt.url)),R.onEvent(sl||st())});return function($n){return an.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,at);const At=pe,_t=`${Be.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var an=(0,u.Z)(function*(lt){if(lt.toLowerCase().startsWith(_t)&&at({url:lt}),"function"==typeof At)try{At(lt)}catch($n){console.error($n)}});return function(lt){return an.apply(this,arguments)}}()}};function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}function Ct(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function sr(O=(0,ne.z$)()){return!("file:"!==Ct()&&"ionic:"!==Ct()&&"capacitor:"!==Ct()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function fi(){try{const O=self.localStorage,N=P.aK();if(O)return O.setItem(N,"1"),O.removeItem(N),!function oi(O=(0,ne.z$)()){return function _n(){return(0,ne.w1)()&&11===document?.documentMode}()||function sn(O=(0,ne.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ne.hl)()}catch{return Gr()&&(0,ne.hl)()}return!1}function Gr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function et(){return"http:"===Ct()||"https:"===Ct()}()||(0,ne.ru)()||sr())&&!function ii(){return(0,ne.b$)()||(0,ne.UG)()}()&&fi()&&!Gr()}function vr(){return sr()&&typeof document<"u"}function Wt(){return(Wt=(0,u.Z)(function*(){return!!vr()&&new Promise(O=>{const N=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),O(!0)})})})).apply(this,arguments)}const je={LOCAL:"local",NONE:"none",SESSION:"session"},zn=P.az,Zn="persistence";function vn(O){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(O){yield O._initializationPromise;const N=Qe(),R=P.aC(Zn,O.config.apiKey,O.name);N&&N.setItem(R,O._getPersistence())})).apply(this,arguments)}function Qe(){var O;try{return(null===(O=function Bn(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}const ht=P.az;class Zt{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB($t),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(N){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,R,J,pe){var Be=this;return(0,u.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openPopup(N,R,J,pe)})()}_openRedirect(N,R,J,pe){var Be=this;return(0,u.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openRedirect(N,R,J,pe)})()}_isIframeWebStorageSupported(N,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,R)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return vr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,u.Z)(function*(){if(N.underlyingResolver)return;const R=yield function Sr(){return Wt.apply(this,arguments)}();N.underlyingResolver=R?N.cordovaResolver:N.browserResolver})()}}function dn(O){return O.unwrap()}function Hn(O){return Mr(O)}function Mr(O){const{_tokenResponse:N}=O instanceof ne.ZR?O.customData:O;if(!N)return null;if(!(O instanceof ne.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return P.P.credentialFromResult(O);const R=N.providerId;if(!R||R===P.p.PASSWORD)return null;let J;switch(R){case P.p.GOOGLE:J=P.U;break;case P.p.FACEBOOK:J=P.Q;break;case P.p.GITHUB:J=P.V;break;case P.p.TWITTER:J=P.Y;break;default:const{oauthIdToken:pe,oauthAccessToken:Be,oauthTokenSecret:Ue,pendingToken:at,nonce:At}=N;return Be||Ue||pe||at?at?R.startsWith("saml.")?P.aN._create(R,at):P.K._fromParams({providerId:R,signInMethod:R,pendingToken:at,idToken:pe,accessToken:Be}):new P.W(R).credential({idToken:pe,accessToken:Be,rawNonce:At}):null}return O instanceof ne.ZR?J.credentialFromError(O):J.credentialFromResult(O)}function vt(O,N){return N.catch(R=>{throw R instanceof ne.ZR&&function xn(O,N){var R;const J=null===(R=N.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new lr(O,P.ap(O,N));else if(J){const pe=Mr(N),Be=N;pe&&(Be.credential=pe,Be.tenantId=J.tenantId||void 0,Be.email=J.email||void 0,Be.phoneNumber=J.phoneNumber||void 0)}}(O,R),R}).then(R=>{const pe=R.user;return{operationType:R.operationType,credential:Hn(R),additionalUserInfo:P.an(R),user:En.getOrCreate(pe)}})}function Rr(O,N){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(O,N){const R=yield N;return{verificationId:R.verificationId,confirm:J=>vt(O,R.confirm(J))}})).apply(this,arguments)}class lr{constructor(N,R){this.resolver=R,this.auth=function Cn(O){return O.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return vt(dn(this.auth),this.resolver.resolveSignIn(N))}}class En{constructor(N){this._delegate=N,this.multiFactor=P.aq(N)}static getOrCreate(N){return En.USER_MAP.has(N)||En.USER_MAP.set(N,new En(N)),En.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var R=this;return(0,u.Z)(function*(){return vt(R.auth,P.$(R._delegate,N))})()}linkWithPhoneNumber(N,R){var J=this;return(0,u.Z)(function*(){return Rr(J.auth,P.l(J._delegate,N,R))})()}linkWithPopup(N){var R=this;return(0,u.Z)(function*(){return vt(R.auth,P.d(R._delegate,N,Zt))})()}linkWithRedirect(N){var R=this;return(0,u.Z)(function*(){return yield vn(P.aG(R.auth)),P.g(R._delegate,N,Zt)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var R=this;return(0,u.Z)(function*(){return vt(R.auth,P.a0(R._delegate,N))})()}reauthenticateWithPhoneNumber(N,R){return Rr(this.auth,P.r(this._delegate,N,R))}reauthenticateWithPopup(N){return vt(this.auth,P.e(this._delegate,N,Zt))}reauthenticateWithRedirect(N){var R=this;return(0,u.Z)(function*(){return yield vn(P.aG(R.auth)),P.h(R._delegate,N,Zt)})()}sendEmailVerification(N){return P.ad(this._delegate,N)}unlink(N){var R=this;return(0,u.Z)(function*(){return yield P.am(R._delegate,N),R})()}updateEmail(N){return P.ai(this._delegate,N)}updatePassword(N){return P.aj(this._delegate,N)}updatePhoneNumber(N){return P.u(this._delegate,N)}updateProfile(N){return P.ah(this._delegate,N)}verifyBeforeUpdateEmail(N,R){return P.ae(this._delegate,N,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}En.USER_MAP=new WeakMap;const xe=P.az;let _e=(()=>{class O{constructor(R,J){if(this.app=R,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:pe}=R.options;xe(pe,"invalid-api-key",{appName:R.name}),xe(pe,"invalid-api-key",{appName:R.name});const Be=typeof window<"u"?Zt:void 0;this._delegate=J.initialize({options:{persistence:rt(pe,R.name),popupRedirectResolver:Be}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?En.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,J){P.H(this._delegate,R,J)}applyActionCode(R){return P.a4(this._delegate,R)}checkActionCode(R){return P.a5(this._delegate,R)}confirmPasswordReset(R,J){return P.a3(this._delegate,R,J)}createUserWithEmailAndPassword(R,J){var pe=this;return(0,u.Z)(function*(){return vt(pe._delegate,P.a7(pe._delegate,R,J))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return P.ac(this._delegate,R)}isSignInWithEmailLink(R){return P.aa(this._delegate,R)}getRedirectResult(){var R=this;return(0,u.Z)(function*(){xe(yn(),R._delegate,"operation-not-supported-in-this-environment");const J=yield P.j(R._delegate,Zt);return J?vt(R._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function wt(O,N){(0,P.aG)(O)._logFramework(N)}(this._delegate,R)}onAuthStateChanged(R,J,pe){const{next:Be,error:Ue,complete:at}=He(R,J,pe);return this._delegate.onAuthStateChanged(Be,Ue,at)}onIdTokenChanged(R,J,pe){const{next:Be,error:Ue,complete:at}=He(R,J,pe);return this._delegate.onIdTokenChanged(Be,Ue,at)}sendSignInLinkToEmail(R,J){return P.a9(this._delegate,R,J)}sendPasswordResetEmail(R,J){return P.a2(this._delegate,R,J||void 0)}setPersistence(R){var J=this;return(0,u.Z)(function*(){let pe;switch(function Sn(O,N){zn(Object.values(je).includes(N),O,"invalid-persistence-type"),(0,ne.b$)()?zn(N!==je.SESSION,O,"unsupported-persistence-type"):(0,ne.UG)()?zn(N===je.NONE,O,"unsupported-persistence-type"):Gr()?zn(N===je.NONE||N===je.LOCAL&&(0,ne.hl)(),O,"unsupported-persistence-type"):zn(N===je.NONE||fi(),O,"unsupported-persistence-type")}(J._delegate,R),R){case je.SESSION:pe=P.a;break;case je.LOCAL:pe=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case je.NONE:pe=P.M;break;default:return P.au("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(pe)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return vt(this._delegate,P.Z(this._delegate))}signInWithCredential(R){return vt(this._delegate,P._(this._delegate,R))}signInWithCustomToken(R){return vt(this._delegate,P.a1(this._delegate,R))}signInWithEmailAndPassword(R,J){return vt(this._delegate,P.a8(this._delegate,R,J))}signInWithEmailLink(R,J){return vt(this._delegate,P.ab(this._delegate,R,J))}signInWithPhoneNumber(R,J){return Rr(this._delegate,P.s(this._delegate,R,J))}signInWithPopup(R){var J=this;return(0,u.Z)(function*(){return xe(yn(),J._delegate,"operation-not-supported-in-this-environment"),vt(J._delegate,P.c(J._delegate,R,Zt))})()}signInWithRedirect(R){var J=this;return(0,u.Z)(function*(){return xe(yn(),J._delegate,"operation-not-supported-in-this-environment"),yield vn(J._delegate),P.f(J._delegate,R,Zt)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return P.a6(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=je,O})();function He(O,N,R){let J=O;"function"!=typeof O&&({next:J,error:N,complete:R}=O);const pe=J;return{next:Ue=>pe(Ue&&En.getOrCreate(Ue)),error:N,complete:R}}function rt(O,N){const R=function dt(O,N){const R=Qe();if(!R)return[];const J=P.aC(Zn,O,N);switch(R.getItem(J)){case je.NONE:return[P.M];case je.LOCAL:return[P.i,P.a];case je.SESSION:return[P.a];default:return[]}}(O,N);if(typeof self<"u"&&!R.includes(P.i)&&R.push(P.i),typeof window<"u")for(const J of[P.b,P.a])R.includes(J)||R.push(J);return R.includes(P.M)||R.push(P.M),R}class ut{constructor(){this.providerId="phone",this._delegate=new P.P(dn(B.Z.auth()))}static credential(N,R){return P.P.credential(N,R)}verifyPhoneNumber(N,R){return this._delegate.verifyPhoneNumber(N,R)}unwrap(){return this._delegate}}ut.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,ut.PROVIDER_ID=P.P.PROVIDER_ID;const Pt=P.az;class bn{constructor(N,R,J=B.Z.app()){var pe;Pt(null===(pe=J.options)||void 0===pe?void 0:pe.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new P.R(N,R,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(O){O.INTERNAL.registerComponent(new he.wA("auth-compat",N=>{const R=N.getProvider("app-compat").getImmediate(),J=N.getProvider("auth");return new _e(R,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:ut,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:bn,TwitterAuthProvider:P.Y,Auth:_e,AuthCredential:P.I,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.3.7")}(B.Z)},8766:(Ye,be,k)=>{k.d(be,{Lj:()=>Me,X3:()=>Te});var u=k(5861);let P,ne;const he=new WeakMap,ue=new WeakMap,ce=new WeakMap,$=new WeakMap,G=new WeakMap;let Ie={get(ae,ge,Z){if(ae instanceof IDBTransaction){if("done"===ge)return ue.get(ae);if("objectStoreNames"===ge)return ae.objectStoreNames||ce.get(ae);if("store"===ge)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return ve(ae[ge])},set:(ae,ge,Z)=>(ae[ge]=Z,!0),has:(ae,ge)=>ae instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in ae};function de(ae){return"function"==typeof ae?function ze(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...ge){return ae.apply(ye(this),ge),ve(he.get(this))}:function(...ge){return ve(ae.apply(ye(this),ge))}:function(ge,...Z){const q=ae.call(ye(this),ge,...Z);return ce.set(q,ge.sort?ge.sort():[ge]),ve(q)}}(ae):(ae instanceof IDBTransaction&&function Ne(ae){if(ue.has(ae))return;const ge=new Promise((Z,q)=>{const le=()=>{ae.removeEventListener("complete",re),ae.removeEventListener("error",Pe),ae.removeEventListener("abort",Pe)},re=()=>{Z(),le()},Pe=()=>{q(ae.error||new DOMException("AbortError","AbortError")),le()};ae.addEventListener("complete",re),ae.addEventListener("error",Pe),ae.addEventListener("abort",Pe)});ue.set(ae,ge)}(ae),((ae,ge)=>ge.some(Z=>ae instanceof Z))(ae,function oe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ie):ae)}function ve(ae){if(ae instanceof IDBRequest)return function K(ae){const ge=new Promise((Z,q)=>{const le=()=>{ae.removeEventListener("success",re),ae.removeEventListener("error",Pe)},re=()=>{Z(ve(ae.result)),le()},Pe=()=>{q(ae.error),le()};ae.addEventListener("success",re),ae.addEventListener("error",Pe)});return ge.then(Z=>{Z instanceof IDBCursor&&he.set(Z,ae)}).catch(()=>{}),G.set(ge,ae),ge}(ae);if($.has(ae))return $.get(ae);const ge=de(ae);return ge!==ae&&($.set(ae,ge),G.set(ge,ae)),ge}const ye=ae=>G.get(ae);function Te(ae,ge,{blocked:Z,upgrade:q,blocking:le,terminated:re}={}){const Pe=indexedDB.open(ae,ge),Oe=ve(Pe);return q&&Pe.addEventListener("upgradeneeded",Je=>{q(ve(Pe.result),Je.oldVersion,Je.newVersion,ve(Pe.transaction))}),Z&&Pe.addEventListener("blocked",()=>Z()),Oe.then(Je=>{re&&Je.addEventListener("close",()=>re()),le&&Je.addEventListener("versionchange",()=>le())}).catch(()=>{}),Oe}function Me(ae,{blocked:ge}={}){const Z=indexedDB.deleteDatabase(ae);return ge&&Z.addEventListener("blocked",()=>ge()),ve(Z).then(()=>{})}const Ae=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Fe=new Map;function Q(ae,ge){if(!(ae instanceof IDBDatabase)||ge in ae||"string"!=typeof ge)return;if(Fe.get(ge))return Fe.get(ge);const Z=ge.replace(/FromIndex$/,""),q=ge!==Z,le=we.includes(Z);if(!(Z in(q?IDBIndex:IDBObjectStore).prototype)||!le&&!Ae.includes(Z))return;const re=function(){var Pe=(0,u.Z)(function*(Oe,...Je){const Bt=this.transaction(Oe,le?"readwrite":"readonly");let $t=Bt.store;return q&&($t=$t.index(Je.shift())),(yield Promise.all([$t[Z](...Je),le&&Bt.done]))[0]});return function(Je){return Pe.apply(this,arguments)}}();return Fe.set(ge,re),re}!function Le(ae){Ie=ae(Ie)}(ae=>({...ae,get:(ge,Z,q)=>Q(ge,Z)||ae.get(ge,Z,q),has:(ge,Z)=>!!Q(ge,Z)||ae.has(ge,Z)}))},5861:(Ye,be,k)=>{function u(P,ne,oe,se,he,ue,ce){try{var $=P[ue](ce),G=$.value}catch(K){return void oe(K)}$.done?ne(G):Promise.resolve(G).then(se,he)}function B(P){return function(){var ne=this,oe=arguments;return new Promise(function(se,he){var ue=P.apply(ne,oe);function ce(G){u(ue,se,he,ce,$,"next",G)}function $(G){u(ue,se,he,ce,$,"throw",G)}ce(void 0)})}}k.d(be,{Z:()=>B})}},Ye=>{Ye(Ye.s=6212)}]);